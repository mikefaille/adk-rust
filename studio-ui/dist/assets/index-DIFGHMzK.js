(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var _r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BP={exports:{}},qu={},HP={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=Symbol.for("react.element"),jD=Symbol.for("react.portal"),LD=Symbol.for("react.fragment"),DD=Symbol.for("react.strict_mode"),OD=Symbol.for("react.profiler"),FD=Symbol.for("react.provider"),zD=Symbol.for("react.context"),VD=Symbol.for("react.forward_ref"),qD=Symbol.for("react.suspense"),$D=Symbol.for("react.memo"),BD=Symbol.for("react.lazy"),g1=Symbol.iterator;function HD(e){return e===null||typeof e!="object"?null:(e=g1&&e[g1]||e["@@iterator"],typeof e=="function"?e:null)}var UP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WP=Object.assign,GP={};function No(e,t,n){this.props=e,this.context=t,this.refs=GP,this.updater=n||UP}No.prototype.isReactComponent={};No.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};No.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KP(){}KP.prototype=No.prototype;function Fv(e,t,n){this.props=e,this.context=t,this.refs=GP,this.updater=n||UP}var zv=Fv.prototype=new KP;zv.constructor=Fv;WP(zv,No.prototype);zv.isPureReactComponent=!0;var y1=Array.isArray,YP=Object.prototype.hasOwnProperty,Vv={current:null},XP={key:!0,ref:!0,__self:!0,__source:!0};function QP(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)YP.call(t,r)&&!XP.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ma,type:e,key:o,ref:s,props:i,_owner:Vv.current}}function UD(e,t){return{$$typeof:ma,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qv(e){return typeof e=="object"&&e!==null&&e.$$typeof===ma}function WD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var v1=/\/+/g;function Uc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WD(""+e.key):t.toString(36)}function Sl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ma:case jD:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Uc(s,0):r,y1(i)?(n="",e!=null&&(n=e.replace(v1,"$&/")+"/"),Sl(i,t,n,"",function(u){return u})):i!=null&&(qv(i)&&(i=UD(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(v1,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",y1(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Uc(o,a);s+=Sl(o,t,n,l,i)}else if(l=HD(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Uc(o,a++),s+=Sl(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Va(e,t,n){if(e==null)return e;var r=[],i=0;return Sl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function GD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},El={transition:null},KD={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:El,ReactCurrentOwner:Vv};function ZP(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Va,forEach:function(e,t,n){Va(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Va(e,function(){t++}),t},toArray:function(e){return Va(e,function(t){return t})||[]},only:function(e){if(!qv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=No;ve.Fragment=LD;ve.Profiler=OD;ve.PureComponent=Fv;ve.StrictMode=DD;ve.Suspense=qD;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KD;ve.act=ZP;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=WP({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Vv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)YP.call(t,l)&&!XP.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ma,type:e.type,key:i,ref:o,props:r,_owner:s}};ve.createContext=function(e){return e={$$typeof:zD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FD,_context:e},e.Consumer=e};ve.createElement=QP;ve.createFactory=function(e){var t=QP.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:VD,render:e}};ve.isValidElement=qv;ve.lazy=function(e){return{$$typeof:BD,_payload:{_status:-1,_result:e},_init:GD}};ve.memo=function(e,t){return{$$typeof:$D,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=El.transition;El.transition={};try{e()}finally{El.transition=t}};ve.unstable_act=ZP;ve.useCallback=function(e,t){return vt.current.useCallback(e,t)};ve.useContext=function(e){return vt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return vt.current.useEffect(e,t)};ve.useId=function(){return vt.current.useId()};ve.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return vt.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};ve.useRef=function(e){return vt.current.useRef(e)};ve.useState=function(e){return vt.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return vt.current.useTransition()};ve.version="18.3.1";HP.exports=ve;var P=HP.exports;const Xn=pa(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD=P,XD=Symbol.for("react.element"),QD=Symbol.for("react.fragment"),ZD=Object.prototype.hasOwnProperty,JD=YD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eO={key:!0,ref:!0,__self:!0,__source:!0};function JP(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ZD.call(t,r)&&!eO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:XD,type:e,key:o,ref:s,props:i,_owner:JD.current}}qu.Fragment=QD;qu.jsx=JP;qu.jsxs=JP;BP.exports=qu;var w=BP.exports,Xg={},eN={exports:{}},Wt={},tN={exports:{}},nN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,R){var S=C.length;C.push(R);e:for(;0<S;){var V=S-1>>>1,q=C[V];if(0<i(q,R))C[V]=R,C[S]=q,S=V;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var R=C[0],S=C.pop();if(S!==R){C[0]=S;e:for(var V=0,q=C.length,N=q>>>1;V<N;){var B=2*(V+1)-1,X=C[B],Y=B+1,Q=C[Y];if(0>i(X,S))Y<q&&0>i(Q,X)?(C[V]=Q,C[Y]=S,V=Y):(C[V]=X,C[B]=S,V=B);else if(Y<q&&0>i(Q,S))C[V]=Q,C[Y]=S,V=Y;else break e}}return R}function i(C,R){var S=C.sortIndex-R.sortIndex;return S!==0?S:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=C)r(u),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(u)}}function b(C){if(g=!1,y(C),!p)if(n(l)!==null)p=!0,F(E);else{var R=n(u);R!==null&&M(b,R.startTime-C)}}function E(C,R){p=!1,g&&(g=!1,m(T),T=-1),h=!0;var S=d;try{for(y(R),f=n(l);f!==null&&(!(f.expirationTime>R)||C&&!A());){var V=f.callback;if(typeof V=="function"){f.callback=null,d=f.priorityLevel;var q=V(f.expirationTime<=R);R=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),y(R)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var B=n(u);B!==null&&M(b,B.startTime-R),N=!1}return N}finally{f=null,d=S,h=!1}}var _=!1,k=null,T=-1,j=5,O=-1;function A(){return!(e.unstable_now()-O<j)}function D(){if(k!==null){var C=e.unstable_now();O=C;var R=!0;try{R=k(!0,C)}finally{R?z():(_=!1,k=null)}}else _=!1}var z;if(typeof v=="function")z=function(){v(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=D,z=function(){L.postMessage(null)}}else z=function(){x(D,0)};function F(C){k=C,_||(_=!0,z())}function M(C,R){T=x(function(){C(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,F(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var S=d;d=R;try{return C()}finally{d=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var S=d;d=C;try{return R()}finally{d=S}},e.unstable_scheduleCallback=function(C,R,S){var V=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?V+S:V):S=V,C){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=S+q,C={id:c++,callback:R,priorityLevel:C,startTime:S,expirationTime:q,sortIndex:-1},S>V?(C.sortIndex=S,t(u,C),n(l)===null&&C===n(u)&&(g?(m(T),T=-1):g=!0,M(b,S-V))):(C.sortIndex=q,t(l,C),p||h||(p=!0,F(E))),C},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(C){var R=d;return function(){var S=d;d=R;try{return C.apply(this,arguments)}finally{d=S}}}})(nN);tN.exports=nN;var tO=tN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nO=P,Ht=tO;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rN=new Set,Ls={};function Si(e,t){fo(e,t),fo(e+"Capture",t)}function fo(e,t){for(Ls[e]=t,e=0;e<t.length;e++)rN.add(t[e])}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qg=Object.prototype.hasOwnProperty,rO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x1={},w1={};function iO(e){return Qg.call(w1,e)?!0:Qg.call(x1,e)?!1:rO.test(e)?w1[e]=!0:(x1[e]=!0,!1)}function oO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sO(e,t,n,r){if(t===null||typeof t>"u"||oO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var $v=/[\-:]([a-z])/g;function Bv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($v,Bv);at[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($v,Bv);at[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($v,Bv);at[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hv(e,t,n,r){var i=at.hasOwnProperty(t)?at[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sO(t,n,i,r)&&(n=null),r||i===null?iO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sr=nO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qa=Symbol.for("react.element"),ji=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),Zg=Symbol.for("react.profiler"),iN=Symbol.for("react.provider"),oN=Symbol.for("react.context"),Wv=Symbol.for("react.forward_ref"),Jg=Symbol.for("react.suspense"),ey=Symbol.for("react.suspense_list"),Gv=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),sN=Symbol.for("react.offscreen"),b1=Symbol.iterator;function Bo(e){return e===null||typeof e!="object"?null:(e=b1&&e[b1]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,Wc;function ns(e){if(Wc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wc=t&&t[1]||""}return`
`+Wc+e}var Gc=!1;function Kc(e,t){if(!e||Gc)return"";Gc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Gc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ns(e):""}function aO(e){switch(e.tag){case 5:return ns(e.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return e=Kc(e.type,!1),e;case 11:return e=Kc(e.type.render,!1),e;case 1:return e=Kc(e.type,!0),e;default:return""}}function ty(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case ji:return"Portal";case Zg:return"Profiler";case Uv:return"StrictMode";case Jg:return"Suspense";case ey:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oN:return(e.displayName||"Context")+".Consumer";case iN:return(e._context.displayName||"Context")+".Provider";case Wv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gv:return t=e.displayName||null,t!==null?t:ty(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return ty(e(t))}catch{}}return null}function lO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ty(t);case 8:return t===Uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uO(e){var t=aN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $a(e){e._valueTracker||(e._valueTracker=uO(e))}function lN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=aN(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ny(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uN(e,t){t=t.checked,t!=null&&Hv(e,"checked",t,!1)}function ry(e,t){uN(e,t);var n=Dr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iy(e,t.type,n):t.hasOwnProperty("defaultValue")&&iy(e,t.type,Dr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function iy(e,t,n){(t!=="number"||Wl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rs=Array.isArray;function eo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function oy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function E1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(rs(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dr(n)}}function cN(e,t){var n=Dr(t.value),r=Dr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function k1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ba,dN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ba.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ds(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cO=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(e){cO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gs[t]=gs[e]})});function hN(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gs.hasOwnProperty(e)&&gs[e]?(""+t).trim():t+"px"}function pN(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hN(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var fO=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ay(e,t){if(t){if(fO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function ly(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uy=null;function Kv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cy=null,to=null,no=null;function C1(e){if(e=va(e)){if(typeof cy!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Wu(t),cy(e.stateNode,e.type,t))}}function mN(e){to?no?no.push(e):no=[e]:to=e}function gN(){if(to){var e=to,t=no;if(no=to=null,C1(e),t)for(e=0;e<t.length;e++)C1(t[e])}}function yN(e,t){return e(t)}function vN(){}var Yc=!1;function xN(e,t,n){if(Yc)return e(t,n);Yc=!0;try{return yN(e,t,n)}finally{Yc=!1,(to!==null||no!==null)&&(vN(),gN())}}function Os(e,t){var n=e.stateNode;if(n===null)return null;var r=Wu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var fy=!1;if(Zn)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){fy=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{fy=!1}function dO(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ys=!1,Gl=null,Kl=!1,dy=null,hO={onError:function(e){ys=!0,Gl=e}};function pO(e,t,n,r,i,o,s,a,l){ys=!1,Gl=null,dO.apply(hO,arguments)}function mO(e,t,n,r,i,o,s,a,l){if(pO.apply(this,arguments),ys){if(ys){var u=Gl;ys=!1,Gl=null}else throw Error(H(198));Kl||(Kl=!0,dy=u)}}function Ei(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T1(e){if(Ei(e)!==e)throw Error(H(188))}function gO(e){var t=e.alternate;if(!t){if(t=Ei(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return T1(i),e;if(o===r)return T1(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function bN(e){return e=gO(e),e!==null?_N(e):null}function _N(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_N(e);if(t!==null)return t;e=e.sibling}return null}var SN=Ht.unstable_scheduleCallback,P1=Ht.unstable_cancelCallback,yO=Ht.unstable_shouldYield,vO=Ht.unstable_requestPaint,Be=Ht.unstable_now,xO=Ht.unstable_getCurrentPriorityLevel,Yv=Ht.unstable_ImmediatePriority,EN=Ht.unstable_UserBlockingPriority,Yl=Ht.unstable_NormalPriority,wO=Ht.unstable_LowPriority,kN=Ht.unstable_IdlePriority,$u=null,Mn=null;function bO(e){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot($u,e,void 0,(e.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:EO,_O=Math.log,SO=Math.LN2;function EO(e){return e>>>=0,e===0?32:31-(_O(e)/SO|0)|0}var Ha=64,Ua=4194304;function is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=is(a):(o&=s,o!==0&&(r=is(o)))}else s=n&~i,s!==0?r=is(s):o!==0&&(r=is(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xn(t),i=1<<n,r|=e[n],t&=~i;return r}function kO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-xn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=kO(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function hy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function CN(){var e=Ha;return Ha<<=1,!(Ha&4194240)&&(Ha=64),e}function Xc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ga(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xn(t),e[t]=n}function TO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Xv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function TN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PN,Qv,NN,AN,IN,py=!1,Wa=[],kr=null,Cr=null,Tr=null,Fs=new Map,zs=new Map,vr=[],PO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N1(e,t){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function Uo(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=va(t),t!==null&&Qv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function NO(e,t,n,r,i){switch(t){case"focusin":return kr=Uo(kr,e,t,n,r,i),!0;case"dragenter":return Cr=Uo(Cr,e,t,n,r,i),!0;case"mouseover":return Tr=Uo(Tr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Fs.set(o,Uo(Fs.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,zs.set(o,Uo(zs.get(o)||null,e,t,n,r,i)),!0}return!1}function MN(e){var t=ti(e.target);if(t!==null){var n=Ei(t);if(n!==null){if(t=n.tag,t===13){if(t=wN(n),t!==null){e.blockedOn=t,IN(e.priority,function(){NN(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=my(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uy=r,n.target.dispatchEvent(r),uy=null}else return t=va(n),t!==null&&Qv(t),e.blockedOn=n,!1;t.shift()}return!0}function A1(e,t,n){kl(e)&&n.delete(t)}function AO(){py=!1,kr!==null&&kl(kr)&&(kr=null),Cr!==null&&kl(Cr)&&(Cr=null),Tr!==null&&kl(Tr)&&(Tr=null),Fs.forEach(A1),zs.forEach(A1)}function Wo(e,t){e.blockedOn===t&&(e.blockedOn=null,py||(py=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,AO)))}function Vs(e){function t(i){return Wo(i,e)}if(0<Wa.length){Wo(Wa[0],e);for(var n=1;n<Wa.length;n++){var r=Wa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kr!==null&&Wo(kr,e),Cr!==null&&Wo(Cr,e),Tr!==null&&Wo(Tr,e),Fs.forEach(t),zs.forEach(t),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)MN(n),n.blockedOn===null&&vr.shift()}var ro=sr.ReactCurrentBatchConfig,Ql=!0;function IO(e,t,n,r){var i=Se,o=ro.transition;ro.transition=null;try{Se=1,Zv(e,t,n,r)}finally{Se=i,ro.transition=o}}function MO(e,t,n,r){var i=Se,o=ro.transition;ro.transition=null;try{Se=4,Zv(e,t,n,r)}finally{Se=i,ro.transition=o}}function Zv(e,t,n,r){if(Ql){var i=my(e,t,n,r);if(i===null)af(e,t,r,Zl,n),N1(e,r);else if(NO(i,e,t,n,r))r.stopPropagation();else if(N1(e,r),t&4&&-1<PO.indexOf(e)){for(;i!==null;){var o=va(i);if(o!==null&&PN(o),o=my(e,t,n,r),o===null&&af(e,t,r,Zl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else af(e,t,r,null,n)}}var Zl=null;function my(e,t,n,r){if(Zl=null,e=Kv(r),e=ti(e),e!==null)if(t=Ei(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wN(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zl=e,null}function RN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xO()){case Yv:return 1;case EN:return 4;case Yl:case wO:return 16;case kN:return 536870912;default:return 16}default:return 16}}var Sr=null,Jv=null,Cl=null;function jN(){if(Cl)return Cl;var e,t=Jv,n=t.length,r,i="value"in Sr?Sr.value:Sr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Cl=i.slice(e,1<r?1-r:void 0)}function Tl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ga(){return!0}function I1(){return!1}function Gt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ga:I1,this.isPropagationStopped=I1,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),t}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e0=Gt(Ao),ya=ze({},Ao,{view:0,detail:0}),RO=Gt(ya),Qc,Zc,Go,Bu=ze({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Go&&(Go&&e.type==="mousemove"?(Qc=e.screenX-Go.screenX,Zc=e.screenY-Go.screenY):Zc=Qc=0,Go=e),Qc)},movementY:function(e){return"movementY"in e?e.movementY:Zc}}),M1=Gt(Bu),jO=ze({},Bu,{dataTransfer:0}),LO=Gt(jO),DO=ze({},ya,{relatedTarget:0}),Jc=Gt(DO),OO=ze({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),FO=Gt(OO),zO=ze({},Ao,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VO=Gt(zO),qO=ze({},Ao,{data:0}),R1=Gt(qO),$O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HO[e])?!!t[e]:!1}function t0(){return UO}var WO=ze({},ya,{key:function(e){if(e.key){var t=$O[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t0,charCode:function(e){return e.type==="keypress"?Tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GO=Gt(WO),KO=ze({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j1=Gt(KO),YO=ze({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t0}),XO=Gt(YO),QO=ze({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZO=Gt(QO),JO=ze({},Bu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e3=Gt(JO),t3=[9,13,27,32],n0=Zn&&"CompositionEvent"in window,vs=null;Zn&&"documentMode"in document&&(vs=document.documentMode);var n3=Zn&&"TextEvent"in window&&!vs,LN=Zn&&(!n0||vs&&8<vs&&11>=vs),L1=" ",D1=!1;function DN(e,t){switch(e){case"keyup":return t3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ON(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function r3(e,t){switch(e){case"compositionend":return ON(t);case"keypress":return t.which!==32?null:(D1=!0,L1);case"textInput":return e=t.data,e===L1&&D1?null:e;default:return null}}function i3(e,t){if(Di)return e==="compositionend"||!n0&&DN(e,t)?(e=jN(),Cl=Jv=Sr=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LN&&t.locale!=="ko"?null:t.data;default:return null}}var o3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o3[e.type]:t==="textarea"}function FN(e,t,n,r){mN(r),t=Jl(t,"onChange"),0<t.length&&(n=new e0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xs=null,qs=null;function s3(e){YN(e,0)}function Hu(e){var t=zi(e);if(lN(t))return e}function a3(e,t){if(e==="change")return t}var zN=!1;if(Zn){var ef;if(Zn){var tf="oninput"in document;if(!tf){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),tf=typeof F1.oninput=="function"}ef=tf}else ef=!1;zN=ef&&(!document.documentMode||9<document.documentMode)}function z1(){xs&&(xs.detachEvent("onpropertychange",VN),qs=xs=null)}function VN(e){if(e.propertyName==="value"&&Hu(qs)){var t=[];FN(t,qs,e,Kv(e)),xN(s3,t)}}function l3(e,t,n){e==="focusin"?(z1(),xs=t,qs=n,xs.attachEvent("onpropertychange",VN)):e==="focusout"&&z1()}function u3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(qs)}function c3(e,t){if(e==="click")return Hu(t)}function f3(e,t){if(e==="input"||e==="change")return Hu(t)}function d3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:d3;function $s(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qg.call(t,i)||!bn(e[i],t[i]))return!1}return!0}function V1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function q1(e,t){var n=V1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V1(n)}}function qN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $N(){for(var e=window,t=Wl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wl(e.document)}return t}function r0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h3(e){var t=$N(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qN(n.ownerDocument.documentElement,n)){if(r!==null&&r0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=q1(n,o);var s=q1(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p3=Zn&&"documentMode"in document&&11>=document.documentMode,Oi=null,gy=null,ws=null,yy=!1;function $1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yy||Oi==null||Oi!==Wl(r)||(r=Oi,"selectionStart"in r&&r0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ws&&$s(ws,r)||(ws=r,r=Jl(gy,"onSelect"),0<r.length&&(t=new e0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Oi)))}function Ka(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fi={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},nf={},BN={};Zn&&(BN=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function Uu(e){if(nf[e])return nf[e];if(!Fi[e])return e;var t=Fi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in BN)return nf[e]=t[n];return e}var HN=Uu("animationend"),UN=Uu("animationiteration"),WN=Uu("animationstart"),GN=Uu("transitionend"),KN=new Map,B1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,t){KN.set(e,t),Si(t,[e])}for(var rf=0;rf<B1.length;rf++){var of=B1[rf],m3=of.toLowerCase(),g3=of[0].toUpperCase()+of.slice(1);qr(m3,"on"+g3)}qr(HN,"onAnimationEnd");qr(UN,"onAnimationIteration");qr(WN,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(GN,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y3=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function H1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mO(r,t,void 0,e),e.currentTarget=null}function YN(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;H1(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;H1(i,a,u),o=l}}}if(Kl)throw e=dy,Kl=!1,dy=null,e}function Te(e,t){var n=t[_y];n===void 0&&(n=t[_y]=new Set);var r=e+"__bubble";n.has(r)||(XN(t,e,2,!1),n.add(r))}function sf(e,t,n){var r=0;t&&(r|=4),XN(n,e,r,t)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function Bs(e){if(!e[Ya]){e[Ya]=!0,rN.forEach(function(n){n!=="selectionchange"&&(y3.has(n)||sf(n,!1,e),sf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ya]||(t[Ya]=!0,sf("selectionchange",!1,t))}}function XN(e,t,n,r){switch(RN(t)){case 1:var i=IO;break;case 4:i=MO;break;default:i=Zv}n=i.bind(null,t,n,e),i=void 0,!fy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function af(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ti(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}xN(function(){var u=o,c=Kv(n),f=[];e:{var d=KN.get(e);if(d!==void 0){var h=e0,p=e;switch(e){case"keypress":if(Tl(n)===0)break e;case"keydown":case"keyup":h=GO;break;case"focusin":p="focus",h=Jc;break;case"focusout":p="blur",h=Jc;break;case"beforeblur":case"afterblur":h=Jc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=M1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=LO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=XO;break;case HN:case UN:case WN:h=FO;break;case GN:h=ZO;break;case"scroll":h=RO;break;case"wheel":h=e3;break;case"copy":case"cut":case"paste":h=VO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=j1}var g=(t&4)!==0,x=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,y;v!==null;){y=v;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=Os(v,m),b!=null&&g.push(Hs(v,b,y)))),x)break;v=v.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==uy&&(p=n.relatedTarget||n.fromElement)&&(ti(p)||p[Jn]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?ti(p):null,p!==null&&(x=Ei(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=M1,b="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=j1,b="onPointerLeave",m="onPointerEnter",v="pointer"),x=h==null?d:zi(h),y=p==null?d:zi(p),d=new g(b,v+"leave",h,n,c),d.target=x,d.relatedTarget=y,b=null,ti(c)===u&&(g=new g(m,v+"enter",p,n,c),g.target=y,g.relatedTarget=x,b=g),x=b,h&&p)t:{for(g=h,m=p,v=0,y=g;y;y=Ii(y))v++;for(y=0,b=m;b;b=Ii(b))y++;for(;0<v-y;)g=Ii(g),v--;for(;0<y-v;)m=Ii(m),y--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=Ii(g),m=Ii(m)}g=null}else g=null;h!==null&&U1(f,d,h,g,!1),p!==null&&x!==null&&U1(f,x,p,g,!0)}}e:{if(d=u?zi(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=a3;else if(O1(d))if(zN)E=f3;else{E=u3;var _=l3}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=c3);if(E&&(E=E(e,u))){FN(f,E,n,c);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&iy(d,"number",d.value)}switch(_=u?zi(u):window,e){case"focusin":(O1(_)||_.contentEditable==="true")&&(Oi=_,gy=u,ws=null);break;case"focusout":ws=gy=Oi=null;break;case"mousedown":yy=!0;break;case"contextmenu":case"mouseup":case"dragend":yy=!1,$1(f,n,c);break;case"selectionchange":if(p3)break;case"keydown":case"keyup":$1(f,n,c)}var k;if(n0)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Di?DN(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(LN&&n.locale!=="ko"&&(Di||T!=="onCompositionStart"?T==="onCompositionEnd"&&Di&&(k=jN()):(Sr=c,Jv="value"in Sr?Sr.value:Sr.textContent,Di=!0)),_=Jl(u,T),0<_.length&&(T=new R1(T,e,null,n,c),f.push({event:T,listeners:_}),k?T.data=k:(k=ON(n),k!==null&&(T.data=k)))),(k=n3?r3(e,n):i3(e,n))&&(u=Jl(u,"onBeforeInput"),0<u.length&&(c=new R1("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=k))}YN(f,t)})}function Hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Os(e,n),o!=null&&r.unshift(Hs(e,o,i)),o=Os(e,t),o!=null&&r.push(Hs(e,o,i))),e=e.return}return r}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function U1(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Os(n,o),l!=null&&s.unshift(Hs(n,l,a))):i||(l=Os(n,o),l!=null&&s.push(Hs(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var v3=/\r\n?/g,x3=/\u0000|\uFFFD/g;function W1(e){return(typeof e=="string"?e:""+e).replace(v3,`
`).replace(x3,"")}function Xa(e,t,n){if(t=W1(t),W1(e)!==t&&n)throw Error(H(425))}function eu(){}var vy=null,xy=null;function wy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var by=typeof setTimeout=="function"?setTimeout:void 0,w3=typeof clearTimeout=="function"?clearTimeout:void 0,G1=typeof Promise=="function"?Promise:void 0,b3=typeof queueMicrotask=="function"?queueMicrotask:typeof G1<"u"?function(e){return G1.resolve(null).then(e).catch(_3)}:by;function _3(e){setTimeout(function(){throw e})}function lf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vs(t)}function Pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function K1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Io=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Io,Us="__reactProps$"+Io,Jn="__reactContainer$"+Io,_y="__reactEvents$"+Io,S3="__reactListeners$"+Io,E3="__reactHandles$"+Io;function ti(e){var t=e[Nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jn]||n[Nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=K1(e);e!==null;){if(n=e[Nn])return n;e=K1(e)}return t}e=n,n=e.parentNode}return null}function va(e){return e=e[Nn]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Wu(e){return e[Us]||null}var Sy=[],Vi=-1;function $r(e){return{current:e}}function Pe(e){0>Vi||(e.current=Sy[Vi],Sy[Vi]=null,Vi--)}function ke(e,t){Vi++,Sy[Vi]=e.current,e.current=t}var Or={},dt=$r(Or),Pt=$r(!1),pi=Or;function ho(e,t){var n=e.type.contextTypes;if(!n)return Or;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Nt(e){return e=e.childContextTypes,e!=null}function tu(){Pe(Pt),Pe(dt)}function Y1(e,t,n){if(dt.current!==Or)throw Error(H(168));ke(dt,t),ke(Pt,n)}function QN(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,lO(e)||"Unknown",i));return ze({},n,r)}function nu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Or,pi=dt.current,ke(dt,e),ke(Pt,Pt.current),!0}function X1(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=QN(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,Pe(Pt),Pe(dt),ke(dt,e)):Pe(Pt),ke(Pt,n)}var Hn=null,Gu=!1,uf=!1;function ZN(e){Hn===null?Hn=[e]:Hn.push(e)}function k3(e){Gu=!0,ZN(e)}function Br(){if(!uf&&Hn!==null){uf=!0;var e=0,t=Se;try{var n=Hn;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Hn=null,Gu=!1}catch(i){throw Hn!==null&&(Hn=Hn.slice(e+1)),SN(Yv,Br),i}finally{Se=t,uf=!1}}return null}var qi=[],$i=0,ru=null,iu=0,Xt=[],Qt=0,mi=null,Un=1,Wn="";function Yr(e,t){qi[$i++]=iu,qi[$i++]=ru,ru=e,iu=t}function JN(e,t,n){Xt[Qt++]=Un,Xt[Qt++]=Wn,Xt[Qt++]=mi,mi=e;var r=Un;e=Wn;var i=32-xn(r)-1;r&=~(1<<i),n+=1;var o=32-xn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Un=1<<32-xn(t)+i|n<<i|r,Wn=o+e}else Un=1<<o|n<<i|r,Wn=e}function i0(e){e.return!==null&&(Yr(e,1),JN(e,1,0))}function o0(e){for(;e===ru;)ru=qi[--$i],qi[$i]=null,iu=qi[--$i],qi[$i]=null;for(;e===mi;)mi=Xt[--Qt],Xt[Qt]=null,Wn=Xt[--Qt],Xt[Qt]=null,Un=Xt[--Qt],Xt[Qt]=null}var Bt=null,qt=null,Ae=!1,mn=null;function eA(e,t){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Q1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,qt=Pr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mi!==null?{id:Un,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,qt=null,!0):!1;default:return!1}}function Ey(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ky(e){if(Ae){var t=qt;if(t){var n=t;if(!Q1(e,t)){if(Ey(e))throw Error(H(418));t=Pr(n.nextSibling);var r=Bt;t&&Q1(e,t)?eA(r,n):(e.flags=e.flags&-4097|2,Ae=!1,Bt=e)}}else{if(Ey(e))throw Error(H(418));e.flags=e.flags&-4097|2,Ae=!1,Bt=e}}}function Z1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function Qa(e){if(e!==Bt)return!1;if(!Ae)return Z1(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wy(e.type,e.memoizedProps)),t&&(t=qt)){if(Ey(e))throw tA(),Error(H(418));for(;t;)eA(e,t),t=Pr(t.nextSibling)}if(Z1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qt=Pr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qt=null}}else qt=Bt?Pr(e.stateNode.nextSibling):null;return!0}function tA(){for(var e=qt;e;)e=Pr(e.nextSibling)}function po(){qt=Bt=null,Ae=!1}function s0(e){mn===null?mn=[e]:mn.push(e)}var C3=sr.ReactCurrentBatchConfig;function Ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Za(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function J1(e){var t=e._init;return t(e._payload)}function nA(e){function t(m,v){if(e){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Mr(m,v),m.index=0,m.sibling=null,m}function o(m,v,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<v?(m.flags|=2,v):y):(m.flags|=2,v)):(m.flags|=1048576,v)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,y,b){return v===null||v.tag!==6?(v=gf(y,m.mode,b),v.return=m,v):(v=i(v,y),v.return=m,v)}function l(m,v,y,b){var E=y.type;return E===Li?c(m,v,y.props.children,b,y.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&J1(E)===v.type)?(b=i(v,y.props),b.ref=Ko(m,v,y),b.return=m,b):(b=jl(y.type,y.key,y.props,null,m.mode,b),b.ref=Ko(m,v,y),b.return=m,b)}function u(m,v,y,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=yf(y,m.mode,b),v.return=m,v):(v=i(v,y.children||[]),v.return=m,v)}function c(m,v,y,b,E){return v===null||v.tag!==7?(v=ui(y,m.mode,b,E),v.return=m,v):(v=i(v,y),v.return=m,v)}function f(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=gf(""+v,m.mode,y),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qa:return y=jl(v.type,v.key,v.props,null,m.mode,y),y.ref=Ko(m,null,v),y.return=m,y;case ji:return v=yf(v,m.mode,y),v.return=m,v;case gr:var b=v._init;return f(m,b(v._payload),y)}if(rs(v)||Bo(v))return v=ui(v,m.mode,y,null),v.return=m,v;Za(m,v)}return null}function d(m,v,y,b){var E=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(m,v,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qa:return y.key===E?l(m,v,y,b):null;case ji:return y.key===E?u(m,v,y,b):null;case gr:return E=y._init,d(m,v,E(y._payload),b)}if(rs(y)||Bo(y))return E!==null?null:c(m,v,y,b,null);Za(m,y)}return null}function h(m,v,y,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,a(v,m,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qa:return m=m.get(b.key===null?y:b.key)||null,l(v,m,b,E);case ji:return m=m.get(b.key===null?y:b.key)||null,u(v,m,b,E);case gr:var _=b._init;return h(m,v,y,_(b._payload),E)}if(rs(b)||Bo(b))return m=m.get(y)||null,c(v,m,b,E,null);Za(v,b)}return null}function p(m,v,y,b){for(var E=null,_=null,k=v,T=v=0,j=null;k!==null&&T<y.length;T++){k.index>T?(j=k,k=null):j=k.sibling;var O=d(m,k,y[T],b);if(O===null){k===null&&(k=j);break}e&&k&&O.alternate===null&&t(m,k),v=o(O,v,T),_===null?E=O:_.sibling=O,_=O,k=j}if(T===y.length)return n(m,k),Ae&&Yr(m,T),E;if(k===null){for(;T<y.length;T++)k=f(m,y[T],b),k!==null&&(v=o(k,v,T),_===null?E=k:_.sibling=k,_=k);return Ae&&Yr(m,T),E}for(k=r(m,k);T<y.length;T++)j=h(k,m,T,y[T],b),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?T:j.key),v=o(j,v,T),_===null?E=j:_.sibling=j,_=j);return e&&k.forEach(function(A){return t(m,A)}),Ae&&Yr(m,T),E}function g(m,v,y,b){var E=Bo(y);if(typeof E!="function")throw Error(H(150));if(y=E.call(y),y==null)throw Error(H(151));for(var _=E=null,k=v,T=v=0,j=null,O=y.next();k!==null&&!O.done;T++,O=y.next()){k.index>T?(j=k,k=null):j=k.sibling;var A=d(m,k,O.value,b);if(A===null){k===null&&(k=j);break}e&&k&&A.alternate===null&&t(m,k),v=o(A,v,T),_===null?E=A:_.sibling=A,_=A,k=j}if(O.done)return n(m,k),Ae&&Yr(m,T),E;if(k===null){for(;!O.done;T++,O=y.next())O=f(m,O.value,b),O!==null&&(v=o(O,v,T),_===null?E=O:_.sibling=O,_=O);return Ae&&Yr(m,T),E}for(k=r(m,k);!O.done;T++,O=y.next())O=h(k,m,T,O.value,b),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?T:O.key),v=o(O,v,T),_===null?E=O:_.sibling=O,_=O);return e&&k.forEach(function(D){return t(m,D)}),Ae&&Yr(m,T),E}function x(m,v,y,b){if(typeof y=="object"&&y!==null&&y.type===Li&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case qa:e:{for(var E=y.key,_=v;_!==null;){if(_.key===E){if(E=y.type,E===Li){if(_.tag===7){n(m,_.sibling),v=i(_,y.props.children),v.return=m,m=v;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&J1(E)===_.type){n(m,_.sibling),v=i(_,y.props),v.ref=Ko(m,_,y),v.return=m,m=v;break e}n(m,_);break}else t(m,_);_=_.sibling}y.type===Li?(v=ui(y.props.children,m.mode,b,y.key),v.return=m,m=v):(b=jl(y.type,y.key,y.props,null,m.mode,b),b.ref=Ko(m,v,y),b.return=m,m=b)}return s(m);case ji:e:{for(_=y.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(m,v.sibling),v=i(v,y.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=yf(y,m.mode,b),v.return=m,m=v}return s(m);case gr:return _=y._init,x(m,v,_(y._payload),b)}if(rs(y))return p(m,v,y,b);if(Bo(y))return g(m,v,y,b);Za(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,y),v.return=m,m=v):(n(m,v),v=gf(y,m.mode,b),v.return=m,m=v),s(m)):n(m,v)}return x}var mo=nA(!0),rA=nA(!1),ou=$r(null),su=null,Bi=null,a0=null;function l0(){a0=Bi=su=null}function u0(e){var t=ou.current;Pe(ou),e._currentValue=t}function Cy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function io(e,t){su=e,a0=Bi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function rn(e){var t=e._currentValue;if(a0!==e)if(e={context:e,memoizedValue:t,next:null},Bi===null){if(su===null)throw Error(H(308));Bi=e,su.dependencies={lanes:0,firstContext:e}}else Bi=Bi.next=e;return t}var ni=null;function c0(e){ni===null?ni=[e]:ni.push(e)}function iA(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,c0(t)):(n.next=i.next,i.next=n),t.interleaved=n,er(e,r)}function er(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yr=!1;function f0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,er(e,n)}return i=r.interleaved,i===null?(t.next=t,c0(r)):(t.next=i.next,i.next=t),r.interleaved=t,er(e,n)}function Pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xv(e,n)}}function ew(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function au(e,t,n,r){var i=e.updateQueue;yr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=ze({},f,d);break e;case 2:yr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);yi|=s,e.lanes=s,e.memoizedState=f}}function tw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var xa={},Rn=$r(xa),Ws=$r(xa),Gs=$r(xa);function ri(e){if(e===xa)throw Error(H(174));return e}function d0(e,t){switch(ke(Gs,t),ke(Ws,e),ke(Rn,xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sy(t,e)}Pe(Rn),ke(Rn,t)}function go(){Pe(Rn),Pe(Ws),Pe(Gs)}function sA(e){ri(Gs.current);var t=ri(Rn.current),n=sy(t,e.type);t!==n&&(ke(Ws,e),ke(Rn,n))}function h0(e){Ws.current===e&&(Pe(Rn),Pe(Ws))}var De=$r(0);function lu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cf=[];function p0(){for(var e=0;e<cf.length;e++)cf[e]._workInProgressVersionPrimary=null;cf.length=0}var Nl=sr.ReactCurrentDispatcher,ff=sr.ReactCurrentBatchConfig,gi=0,Fe=null,Ze=null,nt=null,uu=!1,bs=!1,Ks=0,T3=0;function lt(){throw Error(H(321))}function m0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bn(e[n],t[n]))return!1;return!0}function g0(e,t,n,r,i,o){if(gi=o,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nl.current=e===null||e.memoizedState===null?I3:M3,e=n(r,i),bs){o=0;do{if(bs=!1,Ks=0,25<=o)throw Error(H(301));o+=1,nt=Ze=null,t.updateQueue=null,Nl.current=R3,e=n(r,i)}while(bs)}if(Nl.current=cu,t=Ze!==null&&Ze.next!==null,gi=0,nt=Ze=Fe=null,uu=!1,t)throw Error(H(300));return e}function y0(){var e=Ks!==0;return Ks=0,e}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Fe.memoizedState=nt=e:nt=nt.next=e,nt}function on(){if(Ze===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=nt===null?Fe.memoizedState:nt.next;if(t!==null)nt=t,Ze=e;else{if(e===null)throw Error(H(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},nt===null?Fe.memoizedState=nt=e:nt=nt.next=e}return nt}function Ys(e,t){return typeof t=="function"?t(e):t}function df(e){var t=on(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((gi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Fe.lanes|=c,yi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,bn(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Fe.lanes|=o,yi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hf(e){var t=on(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);bn(o,t.memoizedState)||(kt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function aA(){}function lA(e,t){var n=Fe,r=on(),i=t(),o=!bn(r.memoizedState,i);if(o&&(r.memoizedState=i,kt=!0),r=r.queue,v0(fA.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Xs(9,cA.bind(null,n,r,i,t),void 0,null),rt===null)throw Error(H(349));gi&30||uA(n,t,i)}return i}function uA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cA(e,t,n,r){t.value=n,t.getSnapshot=r,dA(t)&&hA(e)}function fA(e,t,n){return n(function(){dA(t)&&hA(e)})}function dA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bn(e,n)}catch{return!0}}function hA(e){var t=er(e,1);t!==null&&wn(t,e,1,-1)}function nw(e){var t=Cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},t.queue=e,e=e.dispatch=A3.bind(null,Fe,e),[t.memoizedState,e]}function Xs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pA(){return on().memoizedState}function Al(e,t,n,r){var i=Cn();Fe.flags|=e,i.memoizedState=Xs(1|t,n,void 0,r===void 0?null:r)}function Ku(e,t,n,r){var i=on();r=r===void 0?null:r;var o=void 0;if(Ze!==null){var s=Ze.memoizedState;if(o=s.destroy,r!==null&&m0(r,s.deps)){i.memoizedState=Xs(t,n,o,r);return}}Fe.flags|=e,i.memoizedState=Xs(1|t,n,o,r)}function rw(e,t){return Al(8390656,8,e,t)}function v0(e,t){return Ku(2048,8,e,t)}function mA(e,t){return Ku(4,2,e,t)}function gA(e,t){return Ku(4,4,e,t)}function yA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vA(e,t,n){return n=n!=null?n.concat([e]):null,Ku(4,4,yA.bind(null,t,e),n)}function x0(){}function xA(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&m0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wA(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&m0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bA(e,t,n){return gi&21?(bn(n,t)||(n=CN(),Fe.lanes|=n,yi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n)}function P3(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=ff.transition;ff.transition={};try{e(!1),t()}finally{Se=n,ff.transition=r}}function _A(){return on().memoizedState}function N3(e,t,n){var r=Ir(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SA(e))EA(t,n);else if(n=iA(e,t,n,r),n!==null){var i=yt();wn(n,e,r,i),kA(n,t,r)}}function A3(e,t,n){var r=Ir(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SA(e))EA(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,s)){var l=t.interleaved;l===null?(i.next=i,c0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=iA(e,t,i,r),n!==null&&(i=yt(),wn(n,e,r,i),kA(n,t,r))}}function SA(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function EA(e,t){bs=uu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xv(e,n)}}var cu={readContext:rn,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},I3={readContext:rn,useCallback:function(e,t){return Cn().memoizedState=[e,t===void 0?null:t],e},useContext:rn,useEffect:rw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Al(4194308,4,yA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){return Al(4,2,e,t)},useMemo:function(e,t){var n=Cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=N3.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=Cn();return e={current:e},t.memoizedState=e},useState:nw,useDebugValue:x0,useDeferredValue:function(e){return Cn().memoizedState=e},useTransition:function(){var e=nw(!1),t=e[0];return e=P3.bind(null,e[1]),Cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Fe,i=Cn();if(Ae){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),rt===null)throw Error(H(349));gi&30||uA(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,rw(fA.bind(null,r,o,e),[e]),r.flags|=2048,Xs(9,cA.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Cn(),t=rt.identifierPrefix;if(Ae){var n=Wn,r=Un;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ks++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=T3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},M3={readContext:rn,useCallback:xA,useContext:rn,useEffect:v0,useImperativeHandle:vA,useInsertionEffect:mA,useLayoutEffect:gA,useMemo:wA,useReducer:df,useRef:pA,useState:function(){return df(Ys)},useDebugValue:x0,useDeferredValue:function(e){var t=on();return bA(t,Ze.memoizedState,e)},useTransition:function(){var e=df(Ys)[0],t=on().memoizedState;return[e,t]},useMutableSource:aA,useSyncExternalStore:lA,useId:_A,unstable_isNewReconciler:!1},R3={readContext:rn,useCallback:xA,useContext:rn,useEffect:v0,useImperativeHandle:vA,useInsertionEffect:mA,useLayoutEffect:gA,useMemo:wA,useReducer:hf,useRef:pA,useState:function(){return hf(Ys)},useDebugValue:x0,useDeferredValue:function(e){var t=on();return Ze===null?t.memoizedState=e:bA(t,Ze.memoizedState,e)},useTransition:function(){var e=hf(Ys)[0],t=on().memoizedState;return[e,t]},useMutableSource:aA,useSyncExternalStore:lA,useId:_A,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ty(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yu={isMounted:function(e){return(e=e._reactInternals)?Ei(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yt(),i=Ir(e),o=Qn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Nr(e,o,i),t!==null&&(wn(t,e,i,r),Pl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yt(),i=Ir(e),o=Qn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Nr(e,o,i),t!==null&&(wn(t,e,i,r),Pl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),r=Ir(e),i=Qn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Nr(e,i,r),t!==null&&(wn(t,e,r,n),Pl(t,e,r))}};function iw(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!$s(n,r)||!$s(i,o):!0}function CA(e,t,n){var r=!1,i=Or,o=t.contextType;return typeof o=="object"&&o!==null?o=rn(o):(i=Nt(t)?pi:dt.current,r=t.contextTypes,o=(r=r!=null)?ho(e,i):Or),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ow(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yu.enqueueReplaceState(t,t.state,null)}function Py(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},f0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=rn(o):(o=Nt(t)?pi:dt.current,i.context=ho(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ty(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Yu.enqueueReplaceState(i,i.state,null),au(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yo(e,t){try{var n="",r=t;do n+=aO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function pf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ny(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var j3=typeof WeakMap=="function"?WeakMap:Map;function TA(e,t,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){du||(du=!0,zy=r),Ny(e,t)},n}function PA(e,t,n){n=Qn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ny(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ny(e,t),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function sw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new j3;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=K3.bind(null,e,t,n),t.then(e,e))}function aw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qn(-1,1),t.tag=2,Nr(n,t,1))),n.lanes|=1),e)}var L3=sr.ReactCurrentOwner,kt=!1;function mt(e,t,n,r){t.child=e===null?rA(t,null,n,r):mo(t,e.child,n,r)}function uw(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=g0(e,t,n,r,o,i),n=y0(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tr(e,t,i)):(Ae&&n&&i0(t),t.flags|=1,mt(e,t,r,i),t.child)}function cw(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!T0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,NA(e,t,o,r,i)):(e=jl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:$s,n(s,r)&&e.ref===t.ref)return tr(e,t,i)}return t.flags|=1,e=Mr(o,r),e.ref=t.ref,e.return=t,t.child=e}function NA(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if($s(o,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,tr(e,t,i)}return Ay(e,t,n,r,i)}function AA(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Ui,Ot),Ot|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(Ui,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ke(Ui,Ot),Ot|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ke(Ui,Ot),Ot|=r;return mt(e,t,i,n),t.child}function IA(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ay(e,t,n,r,i){var o=Nt(n)?pi:dt.current;return o=ho(t,o),io(t,i),n=g0(e,t,n,r,o,i),r=y0(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tr(e,t,i)):(Ae&&r&&i0(t),t.flags|=1,mt(e,t,n,i),t.child)}function fw(e,t,n,r,i){if(Nt(n)){var o=!0;nu(t)}else o=!1;if(io(t,i),t.stateNode===null)Il(e,t),CA(t,n,r),Py(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=Nt(n)?pi:dt.current,u=ho(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ow(t,s,r,u),yr=!1;var d=t.memoizedState;s.state=d,au(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Pt.current||yr?(typeof c=="function"&&(Ty(t,n,c,r),l=t.memoizedState),(a=yr||iw(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,oA(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dn(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=rn(l):(l=Nt(n)?pi:dt.current,l=ho(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&ow(t,s,r,l),yr=!1,d=t.memoizedState,s.state=d,au(t,r,s,i);var p=t.memoizedState;a!==f||d!==p||Pt.current||yr?(typeof h=="function"&&(Ty(t,n,h,r),p=t.memoizedState),(u=yr||iw(t,n,u,r,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Iy(e,t,n,r,o,i)}function Iy(e,t,n,r,i,o){IA(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&X1(t,n,!1),tr(e,t,o);r=t.stateNode,L3.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=mo(t,e.child,null,o),t.child=mo(t,null,a,o)):mt(e,t,a,o),t.memoizedState=r.state,i&&X1(t,n,!0),t.child}function MA(e){var t=e.stateNode;t.pendingContext?Y1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Y1(e,t.context,!1),d0(e,t.containerInfo)}function dw(e,t,n,r,i){return po(),s0(i),t.flags|=256,mt(e,t,n,r),t.child}var My={dehydrated:null,treeContext:null,retryLane:0};function Ry(e){return{baseLanes:e,cachePool:null,transitions:null}}function RA(e,t,n){var r=t.pendingProps,i=De.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ke(De,i&1),e===null)return ky(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Zu(s,r,0,null),e=ui(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ry(n),t.memoizedState=My,e):w0(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return D3(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Mr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Mr(a,o):(o=ui(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Ry(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=My,r}return o=e.child,e=o.sibling,r=Mr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function w0(e,t){return t=Zu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ja(e,t,n,r){return r!==null&&s0(r),mo(t,e.child,null,n),e=w0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function D3(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=pf(Error(H(422))),Ja(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Zu({mode:"visible",children:r.children},i,0,null),o=ui(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&mo(t,e.child,null,s),t.child.memoizedState=Ry(s),t.memoizedState=My,o);if(!(t.mode&1))return Ja(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=pf(o,r,void 0),Ja(e,t,s,r)}if(a=(s&e.childLanes)!==0,kt||a){if(r=rt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,er(e,i),wn(r,e,i,-1))}return C0(),r=pf(Error(H(421))),Ja(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Y3.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,qt=Pr(i.nextSibling),Bt=t,Ae=!0,mn=null,e!==null&&(Xt[Qt++]=Un,Xt[Qt++]=Wn,Xt[Qt++]=mi,Un=e.id,Wn=e.overflow,mi=t),t=w0(t,r.children),t.flags|=4096,t)}function hw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cy(e.return,t,n)}function mf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jA(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(mt(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hw(e,n,t);else if(e.tag===19)hw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&lu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),mf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&lu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}mf(t,!0,n,null,o);break;case"together":mf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Il(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function O3(e,t,n){switch(t.tag){case 3:MA(t),po();break;case 5:sA(t);break;case 1:Nt(t.type)&&nu(t);break;case 4:d0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ke(ou,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?RA(e,t,n):(ke(De,De.current&1),e=tr(e,t,n),e!==null?e.sibling:null);ke(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jA(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,AA(e,t,n)}return tr(e,t,n)}var LA,jy,DA,OA;LA=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jy=function(){};DA=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ri(Rn.current);var o=null;switch(n){case"input":i=ny(e,i),r=ny(e,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=oy(e,i),r=oy(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=eu)}ay(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ls.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};OA=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yo(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function F3(e,t,n){var r=t.pendingProps;switch(o0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Nt(t.type)&&tu(),ut(t),null;case 3:return r=t.stateNode,go(),Pe(Pt),Pe(dt),p0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&($y(mn),mn=null))),jy(e,t),ut(t),null;case 5:h0(t);var i=ri(Gs.current);if(n=t.type,e!==null&&t.stateNode!=null)DA(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return ut(t),null}if(e=ri(Rn.current),Qa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Nn]=t,r[Us]=o,e=(t.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<os.length;i++)Te(os[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":_1(r,o),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Te("invalid",r);break;case"textarea":E1(r,o),Te("invalid",r)}ay(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Xa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Xa(r.textContent,a,e),i=["children",""+a]):Ls.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Te("scroll",r)}switch(n){case"input":$a(r),S1(r,o,!0);break;case"textarea":$a(r),k1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=eu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Nn]=t,e[Us]=r,LA(e,t,!1,!1),t.stateNode=e;e:{switch(s=ly(n,r),n){case"dialog":Te("cancel",e),Te("close",e),i=r;break;case"iframe":case"object":case"embed":Te("load",e),i=r;break;case"video":case"audio":for(i=0;i<os.length;i++)Te(os[i],e);i=r;break;case"source":Te("error",e),i=r;break;case"img":case"image":case"link":Te("error",e),Te("load",e),i=r;break;case"details":Te("toggle",e),i=r;break;case"input":_1(e,r),i=ny(e,r),Te("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Te("invalid",e);break;case"textarea":E1(e,r),i=oy(e,r),Te("invalid",e);break;default:i=r}ay(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?pN(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dN(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ds(e,l):typeof l=="number"&&Ds(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ls.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Te("scroll",e):l!=null&&Hv(e,o,l,s))}switch(n){case"input":$a(e),S1(e,r,!1);break;case"textarea":$a(e),k1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?eo(e,!!r.multiple,o,!1):r.defaultValue!=null&&eo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=eu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)OA(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=ri(Gs.current),ri(Rn.current),Qa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nn]=t,(o=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:Xa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=t,t.stateNode=r}return ut(t),null;case 13:if(Pe(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&qt!==null&&t.mode&1&&!(t.flags&128))tA(),po(),t.flags|=98560,o=!1;else if(o=Qa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Nn]=t}else po(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),o=!1}else mn!==null&&($y(mn),mn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Je===0&&(Je=3):C0())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return go(),jy(e,t),e===null&&Bs(t.stateNode.containerInfo),ut(t),null;case 10:return u0(t.type._context),ut(t),null;case 17:return Nt(t.type)&&tu(),ut(t),null;case 19:if(Pe(De),o=t.memoizedState,o===null)return ut(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Yo(o,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=lu(e),s!==null){for(t.flags|=128,Yo(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&Be()>vo&&(t.flags|=128,r=!0,Yo(o,!1),t.lanes=4194304)}else{if(!r)if(e=lu(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ae)return ut(t),null}else 2*Be()-o.renderingStartTime>vo&&n!==1073741824&&(t.flags|=128,r=!0,Yo(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Be(),t.sibling=null,n=De.current,ke(De,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return k0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function z3(e,t){switch(o0(t),t.tag){case 1:return Nt(t.type)&&tu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return go(),Pe(Pt),Pe(dt),p0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return h0(t),null;case 13:if(Pe(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));po()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(De),null;case 4:return go(),null;case 10:return u0(t.type._context),null;case 22:case 23:return k0(),null;case 24:return null;default:return null}}var el=!1,ct=!1,V3=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Hi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function Ly(e,t,n){try{n()}catch(r){qe(e,t,r)}}var pw=!1;function q3(e,t){if(vy=Ql,e=$N(),r0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xy={focusedElem:e,selectionRange:n},Ql=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,x=p.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:dn(t.type,g),x);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(b){qe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return p=pw,pw=!1,p}function _s(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ly(t,n,o)}i=i.next}while(i!==r)}}function Xu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FA(e){var t=e.alternate;t!==null&&(e.alternate=null,FA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nn],delete t[Us],delete t[_y],delete t[S3],delete t[E3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zA(e){return e.tag===5||e.tag===3||e.tag===4}function mw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=eu));else if(r!==4&&(e=e.child,e!==null))for(Oy(e,t,n),e=e.sibling;e!==null;)Oy(e,t,n),e=e.sibling}function Fy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fy(e,t,n),e=e.sibling;e!==null;)Fy(e,t,n),e=e.sibling}var it=null,hn=!1;function cr(e,t,n){for(n=n.child;n!==null;)VA(e,t,n),n=n.sibling}function VA(e,t,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount($u,n)}catch{}switch(n.tag){case 5:ct||Hi(n,t);case 6:var r=it,i=hn;it=null,cr(e,t,n),it=r,hn=i,it!==null&&(hn?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(hn?(e=it,n=n.stateNode,e.nodeType===8?lf(e.parentNode,n):e.nodeType===1&&lf(e,n),Vs(e)):lf(it,n.stateNode));break;case 4:r=it,i=hn,it=n.stateNode.containerInfo,hn=!0,cr(e,t,n),it=r,hn=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ly(n,t,s),i=i.next}while(i!==r)}cr(e,t,n);break;case 1:if(!ct&&(Hi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,t,a)}cr(e,t,n);break;case 21:cr(e,t,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,cr(e,t,n),ct=r):cr(e,t,n);break;default:cr(e,t,n)}}function gw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new V3),t.forEach(function(r){var i=X3.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function un(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,hn=!1;break e;case 3:it=a.stateNode.containerInfo,hn=!0;break e;case 4:it=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(it===null)throw Error(H(160));VA(o,s,i),it=null,hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qA(t,e),t=t.sibling}function qA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(un(t,e),kn(e),r&4){try{_s(3,e,e.return),Xu(3,e)}catch(g){qe(e,e.return,g)}try{_s(5,e,e.return)}catch(g){qe(e,e.return,g)}}break;case 1:un(t,e),kn(e),r&512&&n!==null&&Hi(n,n.return);break;case 5:if(un(t,e),kn(e),r&512&&n!==null&&Hi(n,n.return),e.flags&32){var i=e.stateNode;try{Ds(i,"")}catch(g){qe(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&uN(i,o),ly(a,s);var u=ly(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?pN(i,f):c==="dangerouslySetInnerHTML"?dN(i,f):c==="children"?Ds(i,f):Hv(i,c,f,u)}switch(a){case"input":ry(i,o);break;case"textarea":cN(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?eo(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?eo(i,!!o.multiple,o.defaultValue,!0):eo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Us]=o}catch(g){qe(e,e.return,g)}}break;case 6:if(un(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){qe(e,e.return,g)}}break;case 3:if(un(t,e),kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vs(t.containerInfo)}catch(g){qe(e,e.return,g)}break;case 4:un(t,e),kn(e);break;case 13:un(t,e),kn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(S0=Be())),r&4&&gw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ct=(u=ct)||c,un(t,e),ct=u):un(t,e),kn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Z=e,c=e.child;c!==null;){for(f=Z=c;Z!==null;){switch(d=Z,h=d.child,d.tag){case 0:case 11:case 14:case 15:_s(4,d,d.return);break;case 1:Hi(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){qe(r,n,g)}}break;case 5:Hi(d,d.return);break;case 22:if(d.memoizedState!==null){vw(f);continue}}h!==null?(h.return=d,Z=h):vw(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hN("display",s))}catch(g){qe(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){qe(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(t,e),kn(e),r&4&&gw(e);break;case 21:break;default:un(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zA(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ds(i,""),r.flags&=-33);var o=mw(e);Fy(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=mw(e);Oy(e,a,s);break;default:throw Error(H(161))}}catch(l){qe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $3(e,t,n){Z=e,$A(e)}function $A(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var i=Z,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||el;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ct;a=el;var u=ct;if(el=s,(ct=l)&&!u)for(Z=i;Z!==null;)s=Z,l=s.child,s.tag===22&&s.memoizedState!==null?xw(i):l!==null?(l.return=s,Z=l):xw(i);for(;o!==null;)Z=o,$A(o),o=o.sibling;Z=i,el=a,ct=u}yw(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Z=o):yw(e)}}function yw(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ct||Xu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:dn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&tw(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tw(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Vs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}ct||t.flags&512&&Dy(t)}catch(d){qe(t,t.return,d)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function vw(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function xw(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xu(4,t)}catch(l){qe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){qe(t,i,l)}}var o=t.return;try{Dy(t)}catch(l){qe(t,o,l)}break;case 5:var s=t.return;try{Dy(t)}catch(l){qe(t,s,l)}}}catch(l){qe(t,t.return,l)}if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}var B3=Math.ceil,fu=sr.ReactCurrentDispatcher,b0=sr.ReactCurrentOwner,tn=sr.ReactCurrentBatchConfig,we=0,rt=null,We=null,st=0,Ot=0,Ui=$r(0),Je=0,Qs=null,yi=0,Qu=0,_0=0,Ss=null,Et=null,S0=0,vo=1/0,Bn=null,du=!1,zy=null,Ar=null,tl=!1,Er=null,hu=0,Es=0,Vy=null,Ml=-1,Rl=0;function yt(){return we&6?Be():Ml!==-1?Ml:Ml=Be()}function Ir(e){return e.mode&1?we&2&&st!==0?st&-st:C3.transition!==null?(Rl===0&&(Rl=CN()),Rl):(e=Se,e!==0||(e=window.event,e=e===void 0?16:RN(e.type)),e):1}function wn(e,t,n,r){if(50<Es)throw Es=0,Vy=null,Error(H(185));ga(e,n,r),(!(we&2)||e!==rt)&&(e===rt&&(!(we&2)&&(Qu|=n),Je===4&&xr(e,st)),At(e,r),n===1&&we===0&&!(t.mode&1)&&(vo=Be()+500,Gu&&Br()))}function At(e,t){var n=e.callbackNode;CO(e,t);var r=Xl(e,e===rt?st:0);if(r===0)n!==null&&P1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&P1(n),t===1)e.tag===0?k3(ww.bind(null,e)):ZN(ww.bind(null,e)),b3(function(){!(we&6)&&Br()}),n=null;else{switch(TN(r)){case 1:n=Yv;break;case 4:n=EN;break;case 16:n=Yl;break;case 536870912:n=kN;break;default:n=Yl}n=XA(n,BA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function BA(e,t){if(Ml=-1,Rl=0,we&6)throw Error(H(327));var n=e.callbackNode;if(oo()&&e.callbackNode!==n)return null;var r=Xl(e,e===rt?st:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pu(e,r);else{t=r;var i=we;we|=2;var o=UA();(rt!==e||st!==t)&&(Bn=null,vo=Be()+500,li(e,t));do try{W3();break}catch(a){HA(e,a)}while(!0);l0(),fu.current=o,we=i,We!==null?t=0:(rt=null,st=0,t=Je)}if(t!==0){if(t===2&&(i=hy(e),i!==0&&(r=i,t=qy(e,i))),t===1)throw n=Qs,li(e,0),xr(e,r),At(e,Be()),n;if(t===6)xr(e,r);else{if(i=e.current.alternate,!(r&30)&&!H3(i)&&(t=pu(e,r),t===2&&(o=hy(e),o!==0&&(r=o,t=qy(e,o))),t===1))throw n=Qs,li(e,0),xr(e,r),At(e,Be()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Xr(e,Et,Bn);break;case 3:if(xr(e,r),(r&130023424)===r&&(t=S0+500-Be(),10<t)){if(Xl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){yt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=by(Xr.bind(null,e,Et,Bn),t);break}Xr(e,Et,Bn);break;case 4:if(xr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B3(r/1960))-r,10<r){e.timeoutHandle=by(Xr.bind(null,e,Et,Bn),r);break}Xr(e,Et,Bn);break;case 5:Xr(e,Et,Bn);break;default:throw Error(H(329))}}}return At(e,Be()),e.callbackNode===n?BA.bind(null,e):null}function qy(e,t){var n=Ss;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=pu(e,t),e!==2&&(t=Et,Et=n,t!==null&&$y(t)),e}function $y(e){Et===null?Et=e:Et.push.apply(Et,e)}function H3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!bn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~_0,t&=~Qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xn(t),r=1<<n;e[n]=-1,t&=~r}}function ww(e){if(we&6)throw Error(H(327));oo();var t=Xl(e,0);if(!(t&1))return At(e,Be()),null;var n=pu(e,t);if(e.tag!==0&&n===2){var r=hy(e);r!==0&&(t=r,n=qy(e,r))}if(n===1)throw n=Qs,li(e,0),xr(e,t),At(e,Be()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xr(e,Et,Bn),At(e,Be()),null}function E0(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(vo=Be()+500,Gu&&Br())}}function vi(e){Er!==null&&Er.tag===0&&!(we&6)&&oo();var t=we;we|=1;var n=tn.transition,r=Se;try{if(tn.transition=null,Se=1,e)return e()}finally{Se=r,tn.transition=n,we=t,!(we&6)&&Br()}}function k0(){Ot=Ui.current,Pe(Ui)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,w3(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(o0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tu();break;case 3:go(),Pe(Pt),Pe(dt),p0();break;case 5:h0(r);break;case 4:go();break;case 13:Pe(De);break;case 19:Pe(De);break;case 10:u0(r.type._context);break;case 22:case 23:k0()}n=n.return}if(rt=e,We=e=Mr(e.current,null),st=Ot=t,Je=0,Qs=null,_0=Qu=yi=0,Et=Ss=null,ni!==null){for(t=0;t<ni.length;t++)if(n=ni[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ni=null}return e}function HA(e,t){do{var n=We;try{if(l0(),Nl.current=cu,uu){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uu=!1}if(gi=0,nt=Ze=Fe=null,bs=!1,Ks=0,b0.current=null,n===null||n.return===null){Je=1,Qs=t,We=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=aw(s);if(h!==null){h.flags&=-257,lw(h,s,a,o,t),h.mode&1&&sw(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){sw(o,u,t),C0();break e}l=Error(H(426))}}else if(Ae&&a.mode&1){var x=aw(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lw(x,s,a,o,t),s0(yo(l,a));break e}}o=l=yo(l,a),Je!==4&&(Je=2),Ss===null?Ss=[o]:Ss.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=TA(o,l,t);ew(o,m);break e;case 1:a=l;var v=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ar===null||!Ar.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=PA(o,a,t);ew(o,b);break e}}o=o.return}while(o!==null)}GA(n)}catch(E){t=E,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function UA(){var e=fu.current;return fu.current=cu,e===null?cu:e}function C0(){(Je===0||Je===3||Je===2)&&(Je=4),rt===null||!(yi&268435455)&&!(Qu&268435455)||xr(rt,st)}function pu(e,t){var n=we;we|=2;var r=UA();(rt!==e||st!==t)&&(Bn=null,li(e,t));do try{U3();break}catch(i){HA(e,i)}while(!0);if(l0(),we=n,fu.current=r,We!==null)throw Error(H(261));return rt=null,st=0,Je}function U3(){for(;We!==null;)WA(We)}function W3(){for(;We!==null&&!yO();)WA(We)}function WA(e){var t=YA(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?GA(e):We=t,b0.current=null}function GA(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=z3(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,We=null;return}}else if(n=F3(n,t,Ot),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Je===0&&(Je=5)}function Xr(e,t,n){var r=Se,i=tn.transition;try{tn.transition=null,Se=1,G3(e,t,n,r)}finally{tn.transition=i,Se=r}return null}function G3(e,t,n,r){do oo();while(Er!==null);if(we&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(TO(e,o),e===rt&&(We=rt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tl||(tl=!0,XA(Yl,function(){return oo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=tn.transition,tn.transition=null;var s=Se;Se=1;var a=we;we|=4,b0.current=null,q3(e,n),qA(n,e),h3(xy),Ql=!!vy,xy=vy=null,e.current=n,$3(n),vO(),we=a,Se=s,tn.transition=o}else e.current=n;if(tl&&(tl=!1,Er=e,hu=i),o=e.pendingLanes,o===0&&(Ar=null),bO(n.stateNode),At(e,Be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(du)throw du=!1,e=zy,zy=null,e;return hu&1&&e.tag!==0&&oo(),o=e.pendingLanes,o&1?e===Vy?Es++:(Es=0,Vy=e):Es=0,Br(),null}function oo(){if(Er!==null){var e=TN(hu),t=tn.transition,n=Se;try{if(tn.transition=null,Se=16>e?16:e,Er===null)var r=!1;else{if(e=Er,Er=null,hu=0,we&6)throw Error(H(331));var i=we;for(we|=4,Z=e.current;Z!==null;){var o=Z,s=o.child;if(Z.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var c=Z;switch(c.tag){case 0:case 11:case 15:_s(8,c,o)}var f=c.child;if(f!==null)f.return=c,Z=f;else for(;Z!==null;){c=Z;var d=c.sibling,h=c.return;if(FA(c),c===u){Z=null;break}if(d!==null){d.return=h,Z=d;break}Z=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Z=s;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_s(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,Z=m;break e}Z=o.return}}var v=e.current;for(Z=v;Z!==null;){s=Z;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Z=y;else e:for(s=v;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xu(9,a)}}catch(E){qe(a,a.return,E)}if(a===s){Z=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Z=b;break e}Z=a.return}}if(we=i,Br(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot($u,e)}catch{}r=!0}return r}finally{Se=n,tn.transition=t}}return!1}function bw(e,t,n){t=yo(n,t),t=TA(e,t,1),e=Nr(e,t,1),t=yt(),e!==null&&(ga(e,1,t),At(e,t))}function qe(e,t,n){if(e.tag===3)bw(e,e,n);else for(;t!==null;){if(t.tag===3){bw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){e=yo(n,e),e=PA(t,e,1),t=Nr(t,e,1),e=yt(),t!==null&&(ga(t,1,e),At(t,e));break}}t=t.return}}function K3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,rt===e&&(st&n)===n&&(Je===4||Je===3&&(st&130023424)===st&&500>Be()-S0?li(e,0):_0|=n),At(e,t)}function KA(e,t){t===0&&(e.mode&1?(t=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):t=1);var n=yt();e=er(e,t),e!==null&&(ga(e,t,n),At(e,n))}function Y3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),KA(e,n)}function X3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),KA(e,n)}var YA;YA=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pt.current)kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kt=!1,O3(e,t,n);kt=!!(e.flags&131072)}else kt=!1,Ae&&t.flags&1048576&&JN(t,iu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Il(e,t),e=t.pendingProps;var i=ho(t,dt.current);io(t,n),i=g0(null,t,r,e,i,n);var o=y0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(r)?(o=!0,nu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,f0(t),i.updater=Yu,t.stateNode=i,i._reactInternals=t,Py(t,r,e,n),t=Iy(null,t,r,!0,o,n)):(t.tag=0,Ae&&o&&i0(t),mt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Il(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Z3(r),e=dn(r,e),i){case 0:t=Ay(null,t,r,e,n);break e;case 1:t=fw(null,t,r,e,n);break e;case 11:t=uw(null,t,r,e,n);break e;case 14:t=cw(null,t,r,dn(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dn(r,i),Ay(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dn(r,i),fw(e,t,r,i,n);case 3:e:{if(MA(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,oA(e,t),au(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=yo(Error(H(423)),t),t=dw(e,t,r,n,i);break e}else if(r!==i){i=yo(Error(H(424)),t),t=dw(e,t,r,n,i);break e}else for(qt=Pr(t.stateNode.containerInfo.firstChild),Bt=t,Ae=!0,mn=null,n=rA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(po(),r===i){t=tr(e,t,n);break e}mt(e,t,r,n)}t=t.child}return t;case 5:return sA(t),e===null&&ky(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,wy(r,i)?s=null:o!==null&&wy(r,o)&&(t.flags|=32),IA(e,t),mt(e,t,s,n),t.child;case 6:return e===null&&ky(t),null;case 13:return RA(e,t,n);case 4:return d0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mo(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dn(r,i),uw(e,t,r,i,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ke(ou,r._currentValue),r._currentValue=s,o!==null)if(bn(o.value,s)){if(o.children===i.children&&!Pt.current){t=tr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Qn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Cy(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Cy(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,io(t,n),i=rn(i),r=r(i),t.flags|=1,mt(e,t,r,n),t.child;case 14:return r=t.type,i=dn(r,t.pendingProps),i=dn(r.type,i),cw(e,t,r,i,n);case 15:return NA(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dn(r,i),Il(e,t),t.tag=1,Nt(r)?(e=!0,nu(t)):e=!1,io(t,n),CA(t,r,i),Py(t,r,i,n),Iy(null,t,r,!0,e,n);case 19:return jA(e,t,n);case 22:return AA(e,t,n)}throw Error(H(156,t.tag))};function XA(e,t){return SN(e,t)}function Q3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,r){return new Q3(e,t,n,r)}function T0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z3(e){if(typeof e=="function")return T0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wv)return 11;if(e===Gv)return 14}return 2}function Mr(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jl(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")T0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Li:return ui(n.children,i,o,t);case Uv:s=8,i|=8;break;case Zg:return e=Jt(12,n,t,i|2),e.elementType=Zg,e.lanes=o,e;case Jg:return e=Jt(13,n,t,i),e.elementType=Jg,e.lanes=o,e;case ey:return e=Jt(19,n,t,i),e.elementType=ey,e.lanes=o,e;case sN:return Zu(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iN:s=10;break e;case oN:s=9;break e;case Wv:s=11;break e;case Gv:s=14;break e;case gr:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Jt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ui(e,t,n,r){return e=Jt(7,e,r,t),e.lanes=n,e}function Zu(e,t,n,r){return e=Jt(22,e,r,t),e.elementType=sN,e.lanes=n,e.stateNode={isHidden:!1},e}function gf(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function yf(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J3(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xc(0),this.expirationTimes=Xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function P0(e,t,n,r,i,o,s,a,l){return e=new J3(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Jt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},f0(o),e}function eF(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function QA(e){if(!e)return Or;e=e._reactInternals;e:{if(Ei(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Nt(n))return QN(e,n,t)}return t}function ZA(e,t,n,r,i,o,s,a,l){return e=P0(n,r,!0,e,i,o,s,a,l),e.context=QA(null),n=e.current,r=yt(),i=Ir(n),o=Qn(r,i),o.callback=t??null,Nr(n,o,i),e.current.lanes=i,ga(e,i,r),At(e,r),e}function Ju(e,t,n,r){var i=t.current,o=yt(),s=Ir(i);return n=QA(n),t.context===null?t.context=n:t.pendingContext=n,t=Qn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Nr(i,t,s),e!==null&&(wn(e,i,s,o),Pl(e,i,s)),s}function mu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _w(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function N0(e,t){_w(e,t),(e=e.alternate)&&_w(e,t)}function tF(){return null}var JA=typeof reportError=="function"?reportError:function(e){console.error(e)};function A0(e){this._internalRoot=e}ec.prototype.render=A0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Ju(e,t,null,null)};ec.prototype.unmount=A0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){Ju(null,e,null,null)}),t[Jn]=null}};function ec(e){this._internalRoot=e}ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=AN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vr.length&&t!==0&&t<vr[n].priority;n++);vr.splice(n,0,e),n===0&&MN(e)}};function I0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function nF(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=mu(s);o.call(u)}}var s=ZA(t,r,e,0,null,!1,!1,"",Sw);return e._reactRootContainer=s,e[Jn]=s.current,Bs(e.nodeType===8?e.parentNode:e),vi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=mu(l);a.call(u)}}var l=P0(e,0,!1,null,null,!1,!1,"",Sw);return e._reactRootContainer=l,e[Jn]=l.current,Bs(e.nodeType===8?e.parentNode:e),vi(function(){Ju(t,l,n,r)}),l}function nc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=mu(s);a.call(l)}}Ju(t,s,e,i)}else s=nF(n,t,e,i,r);return mu(s)}PN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=is(t.pendingLanes);n!==0&&(Xv(t,n|1),At(t,Be()),!(we&6)&&(vo=Be()+500,Br()))}break;case 13:vi(function(){var r=er(e,1);if(r!==null){var i=yt();wn(r,e,1,i)}}),N0(e,1)}};Qv=function(e){if(e.tag===13){var t=er(e,134217728);if(t!==null){var n=yt();wn(t,e,134217728,n)}N0(e,134217728)}};NN=function(e){if(e.tag===13){var t=Ir(e),n=er(e,t);if(n!==null){var r=yt();wn(n,e,t,r)}N0(e,t)}};AN=function(){return Se};IN=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};cy=function(e,t,n){switch(t){case"input":if(ry(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wu(r);if(!i)throw Error(H(90));lN(r),ry(r,i)}}}break;case"textarea":cN(e,n);break;case"select":t=n.value,t!=null&&eo(e,!!n.multiple,t,!1)}};yN=E0;vN=vi;var rF={usingClientEntryPoint:!1,Events:[va,zi,Wu,mN,gN,E0]},Xo={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iF={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bN(e),e===null?null:e.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||tF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{$u=nl.inject(iF),Mn=nl}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rF;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I0(t))throw Error(H(200));return eF(e,t,null,n)};Wt.createRoot=function(e,t){if(!I0(e))throw Error(H(299));var n=!1,r="",i=JA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=P0(e,1,!1,null,null,n,!1,r,i),e[Jn]=t.current,Bs(e.nodeType===8?e.parentNode:e),new A0(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=bN(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return vi(e)};Wt.hydrate=function(e,t,n){if(!tc(t))throw Error(H(200));return nc(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!I0(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=JA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=ZA(t,null,e,1,n??null,i,!1,o,s),e[Jn]=t.current,Bs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ec(t)};Wt.render=function(e,t,n){if(!tc(t))throw Error(H(200));return nc(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!tc(e))throw Error(H(40));return e._reactRootContainer?(vi(function(){nc(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};Wt.unstable_batchedUpdates=E0;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tc(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return nc(e,t,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function e2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e2)}catch(e){console.error(e)}}e2(),eN.exports=Wt;var oF=eN.exports,Ew=oF;Xg.createRoot=Ew.createRoot,Xg.hydrateRoot=Ew.hydrateRoot;const sF={},kw=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(sF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},t2=e=>e?kw(e):kw;var n2={exports:{}},r2={},i2={exports:{}},o2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=P;function aF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lF=typeof Object.is=="function"?Object.is:aF,uF=xo.useState,cF=xo.useEffect,fF=xo.useLayoutEffect,dF=xo.useDebugValue;function hF(e,t){var n=t(),r=uF({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return fF(function(){i.value=n,i.getSnapshot=t,vf(i)&&o({inst:i})},[e,n,t]),cF(function(){return vf(i)&&o({inst:i}),e(function(){vf(i)&&o({inst:i})})},[e]),dF(n),n}function vf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lF(e,n)}catch{return!0}}function pF(e,t){return t()}var mF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pF:hF;o2.useSyncExternalStore=xo.useSyncExternalStore!==void 0?xo.useSyncExternalStore:mF;i2.exports=o2;var gF=i2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=P,yF=gF;function vF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xF=typeof Object.is=="function"?Object.is:vF,wF=yF.useSyncExternalStore,bF=rc.useRef,_F=rc.useEffect,SF=rc.useMemo,EF=rc.useDebugValue;r2.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=bF(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=SF(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,xF(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?(c=h,p):(c=h,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=wF(e,o[0],o[1]);return _F(function(){s.hasValue=!0,s.value=a},[a]),EF(a),a};n2.exports=r2;var kF=n2.exports;const s2=pa(kF),a2={},{useDebugValue:CF}=Xn,{useSyncExternalStoreWithSelector:TF}=s2;let Cw=!1;const PF=e=>e;function NF(e,t=PF,n){(a2?"production":void 0)!=="production"&&n&&!Cw&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Cw=!0);const r=TF(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return CF(r),r}const Tw=e=>{(a2?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?t2(e):e,n=(r,i)=>NF(t,r,i);return Object.assign(n,t),n},AF=e=>e?Tw(e):Tw,IF="/api";async function Gr(e,t){const n=await fetch(`${IF}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!n.ok){const r=await n.json().catch(()=>({error:n.statusText}));throw new Error(r.error||"Request failed")}if(n.status!==204)return n.json()}const Jr={projects:{list:()=>Gr("/projects"),get:e=>Gr(`/projects/${e}`),create:(e,t="")=>Gr("/projects",{method:"POST",body:JSON.stringify({name:e,description:t})}),update:(e,t)=>Gr(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>Gr(`/projects/${e}`,{method:"DELETE"}),compile:e=>Gr(`/projects/${e}/compile`),build:e=>Gr(`/projects/${e}/build`,{method:"POST"})}},Mo=AF((e,t)=>({projects:[],loadingProjects:!1,currentProject:null,selectedNodeId:null,selectedToolId:null,fetchProjects:async()=>{e({loadingProjects:!0});try{const n=await Jr.projects.list();e({projects:n})}finally{e({loadingProjects:!1})}},createProject:async(n,r)=>{const i=await Jr.projects.create(n,r);return e(o=>({projects:[{id:i.id,name:n,description:r||"",updated_at:i.updated_at},...o.projects]})),i},openProject:async n=>{const r=await Jr.projects.get(n);e({currentProject:r,selectedNodeId:null})},saveProject:async()=>{const{currentProject:n}=t();n&&await Jr.projects.update(n.id,n)},closeProject:()=>e({currentProject:null,selectedNodeId:null}),deleteProject:async n=>{await Jr.projects.delete(n),e(r=>({projects:r.projects.filter(i=>i.id!==n)}))},selectNode:n=>e({selectedNodeId:n}),updateAgent:(n,r)=>e(i=>i.currentProject?{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...i.currentProject.agents[n],...r}}}}:i),addAgent:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:r}}}:i),setTimeout(()=>t().saveProject(),0)},removeAgent:n=>{e(r=>{if(!r.currentProject)return r;const i=r.currentProject.agents[n],o=[n];i!=null&&i.sub_agents&&o.push(...i.sub_agents);const s={...r.currentProject.agents};o.forEach(l=>delete s[l]);const a={...r.currentProject.tool_configs};return Object.keys(a).forEach(l=>{o.some(u=>l.startsWith(`${u}_`))&&delete a[l]}),{currentProject:{...r.currentProject,agents:s,tool_configs:a,workflow:{...r.currentProject.workflow,edges:r.currentProject.workflow.edges.filter(l=>!o.includes(l.from)&&!o.includes(l.to))}}}}),setTimeout(()=>t().saveProject(),0)},addEdge:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,workflow:{...i.currentProject.workflow,edges:[...i.currentProject.workflow.edges,{from:n,to:r}]}}}:i),setTimeout(()=>t().saveProject(),0)},removeEdge:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,workflow:{...i.currentProject.workflow,edges:i.currentProject.workflow.edges.filter(o=>!(o.from===n&&o.to===r))}}}:i),setTimeout(()=>t().saveProject(),0)},addToolToAgent:(n,r)=>{e(i=>{if(!i.currentProject)return i;const o=i.currentProject.agents[n];if(!o)return i;let s=r;if(r==="function"||r==="mcp"){const a=o.tools.filter(l=>l.startsWith(r));s=`${r}_${a.length+1}`}else if(o.tools.includes(r))return i;return{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...o,tools:[...o.tools,s]}}}}}),setTimeout(()=>t().saveProject(),0)},removeToolFromAgent:(n,r)=>{e(i=>{if(!i.currentProject)return i;const o=i.currentProject.agents[n];if(!o)return i;const s=`${n}_${r}`,{[s]:a,...l}=i.currentProject.tool_configs;return{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...o,tools:o.tools.filter(u=>u!==r)}},tool_configs:l},selectedToolId:i.selectedToolId===s?null:i.selectedToolId}}),setTimeout(()=>t().saveProject(),0)},addSubAgentToContainer:n=>{const{currentProject:r,addAgent:i,updateAgent:o,saveProject:s}=t();if(!r)return;const a=r.agents[n];if(!a)return;const l=a.sub_agents.length+1,u=`${n}_agent_${l}`;i(u,{type:"llm",model:"gemini-2.0-flash",instruction:`You are agent ${l}.`,tools:[],sub_agents:[],position:{x:0,y:0}}),o(n,{sub_agents:[...a.sub_agents,u]}),s()},selectTool:n=>e({selectedToolId:n}),updateToolConfig:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,tool_configs:{...i.currentProject.tool_configs,[n]:r}}}:i),setTimeout(()=>t().saveProject(),0)}}));function MF(){const{projects:e,loadingProjects:t,createProject:n,openProject:r,deleteProject:i}=Mo(),[o,s]=P.useState(!1),[a,l]=P.useState(""),u=async()=>{if(!a.trim())return;const c=await n(a.trim());l(""),s(!1),r(c.id)};return w.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h2",{className:"text-2xl font-bold",children:"Projects"}),w.jsx("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-studio-highlight rounded hover:opacity-90",children:"+ New Project"})]}),o&&w.jsxs("div",{className:"mb-6 p-4 bg-studio-panel rounded-lg border border-gray-700",children:[w.jsx("input",{type:"text",placeholder:"Project name",value:a,onChange:c=>l(c.target.value),onKeyDown:c=>c.key==="Enter"&&u(),className:"w-full px-3 py-2 bg-studio-bg border border-gray-600 rounded mb-3 text-white",autoFocus:!0}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:u,className:"px-4 py-2 bg-studio-highlight rounded",children:"Create"}),w.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 bg-gray-700 rounded",children:"Cancel"})]})]}),t?w.jsx("div",{className:"text-gray-400",children:"Loading..."}):e.length===0?w.jsx("div",{className:"text-gray-400 text-center py-12",children:"No projects yet. Create one to get started!"}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(c=>w.jsxs("div",{className:"p-4 bg-studio-panel rounded-lg border border-gray-700 hover:border-studio-highlight cursor-pointer group",onClick:()=>r(c.id),children:[w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("span",{className:"font-medium",children:[" ",c.name]}),w.jsx("button",{onClick:f=>{f.stopPropagation(),confirm("Delete?")&&i(c.id)},className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400",children:""})]}),c.description&&w.jsx("p",{className:"text-sm text-gray-400 mt-2",children:c.description}),w.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(c.updated_at).toLocaleDateString()})]},c.id))})]})}function Ge(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ge(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var RF={value:()=>{}};function ic(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ll(n)}function Ll(e){this._=e}function jF(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ll.prototype=ic.prototype={constructor:Ll,on:function(e,t){var n=this._,r=jF(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=LF(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Pw(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Pw(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ll(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function LF(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Pw(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=RF,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var By="http://www.w3.org/1999/xhtml";const Nw={svg:"http://www.w3.org/2000/svg",xhtml:By,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oc(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Nw.hasOwnProperty(t)?{space:Nw[t],local:e}:e}function DF(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===By&&t.documentElement.namespaceURI===By?t.createElement(e):t.createElementNS(n,e)}}function OF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function l2(e){var t=oc(e);return(t.local?OF:DF)(t)}function FF(){}function M0(e){return e==null?FF:function(){return this.querySelector(e)}}function zF(e){typeof e!="function"&&(e=M0(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Ut(r,this._parents)}function VF(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function qF(){return[]}function u2(e){return e==null?qF:function(){return this.querySelectorAll(e)}}function $F(e){return function(){return VF(e.apply(this,arguments))}}function BF(e){typeof e=="function"?e=$F(e):e=u2(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new Ut(r,i)}function c2(e){return function(){return this.matches(e)}}function f2(e){return function(t){return t.matches(e)}}var HF=Array.prototype.find;function UF(e){return function(){return HF.call(this.children,e)}}function WF(){return this.firstElementChild}function GF(e){return this.select(e==null?WF:UF(typeof e=="function"?e:f2(e)))}var KF=Array.prototype.filter;function YF(){return Array.from(this.children)}function XF(e){return function(){return KF.call(this.children,e)}}function QF(e){return this.selectAll(e==null?YF:XF(typeof e=="function"?e:f2(e)))}function ZF(e){typeof e!="function"&&(e=c2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Ut(r,this._parents)}function d2(e){return new Array(e.length)}function JF(){return new Ut(this._enter||this._groups.map(d2),this._parents)}function gu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}gu.prototype={constructor:gu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ez(e){return function(){return e}}function tz(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new gu(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function nz(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(d[a]=h=s.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<f;++a)h=s.call(e,o[a],a,o)+"",(l=u.get(h))?(r[a]=l,l.__data__=o[a],u.delete(h)):n[a]=new gu(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(d[a])===l&&(i[a]=l)}function rz(e){return e.__data__}function iz(e,t){if(!arguments.length)return Array.from(this,rz);var n=t?nz:tz,r=this._parents,i=this._groups;typeof e!="function"&&(e=ez(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=oz(e.call(c,c&&c.__data__,u,r)),p=h.length,g=a[u]=new Array(p),x=s[u]=new Array(p),m=l[u]=new Array(d);n(c,f,g,x,m,h,t);for(var v=0,y=0,b,E;v<p;++v)if(b=g[v]){for(v>=y&&(y=v+1);!(E=x[y])&&++y<p;);b._next=E||null}}return s=new Ut(s,r),s._enter=a,s._exit=l,s}function oz(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sz(){return new Ut(this._exit||this._groups.map(d2),this._parents)}function az(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function lz(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,d=a[l]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<i;++l)a[l]=n[l];return new Ut(a,this._parents)}function uz(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function cz(e){e||(e=fz);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new Ut(i,this._parents).order()}function fz(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function dz(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function hz(){return Array.from(this)}function pz(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function mz(){let e=0;for(const t of this)++e;return e}function gz(){return!this.node()}function yz(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function vz(e){return function(){this.removeAttribute(e)}}function xz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wz(e,t){return function(){this.setAttribute(e,t)}}function bz(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _z(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Sz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ez(e,t){var n=oc(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?xz:vz:typeof t=="function"?n.local?Sz:_z:n.local?bz:wz)(n,t))}function h2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kz(e){return function(){this.style.removeProperty(e)}}function Cz(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Tz(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Pz(e,t,n){return arguments.length>1?this.each((t==null?kz:typeof t=="function"?Tz:Cz)(e,t,n??"")):wo(this.node(),e)}function wo(e,t){return e.style.getPropertyValue(t)||h2(e).getComputedStyle(e,null).getPropertyValue(t)}function Nz(e){return function(){delete this[e]}}function Az(e,t){return function(){this[e]=t}}function Iz(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Mz(e,t){return arguments.length>1?this.each((t==null?Nz:typeof t=="function"?Iz:Az)(e,t)):this.node()[e]}function p2(e){return e.trim().split(/^|\s+/)}function R0(e){return e.classList||new m2(e)}function m2(e){this._node=e,this._names=p2(e.getAttribute("class")||"")}m2.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function g2(e,t){for(var n=R0(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function y2(e,t){for(var n=R0(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Rz(e){return function(){g2(this,e)}}function jz(e){return function(){y2(this,e)}}function Lz(e,t){return function(){(t.apply(this,arguments)?g2:y2)(this,e)}}function Dz(e,t){var n=p2(e+"");if(arguments.length<2){for(var r=R0(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Lz:t?Rz:jz)(n,t))}function Oz(){this.textContent=""}function Fz(e){return function(){this.textContent=e}}function zz(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Vz(e){return arguments.length?this.each(e==null?Oz:(typeof e=="function"?zz:Fz)(e)):this.node().textContent}function qz(){this.innerHTML=""}function $z(e){return function(){this.innerHTML=e}}function Bz(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Hz(e){return arguments.length?this.each(e==null?qz:(typeof e=="function"?Bz:$z)(e)):this.node().innerHTML}function Uz(){this.nextSibling&&this.parentNode.appendChild(this)}function Wz(){return this.each(Uz)}function Gz(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Kz(){return this.each(Gz)}function Yz(e){var t=typeof e=="function"?e:l2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Xz(){return null}function Qz(e,t){var n=typeof e=="function"?e:l2(e),r=t==null?Xz:typeof t=="function"?t:M0(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Zz(){var e=this.parentNode;e&&e.removeChild(this)}function Jz(){return this.each(Zz)}function e4(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function t4(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n4(e){return this.select(e?t4:e4)}function r4(e){return arguments.length?this.property("__data__",e):this.node().__data__}function i4(e){return function(t){e.call(this,t,this.__data__)}}function o4(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function s4(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function a4(e,t,n){return function(){var r=this.__on,i,o=i4(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function l4(e,t,n){var r=o4(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?a4:s4,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function v2(e,t,n){var r=h2(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function u4(e,t){return function(){return v2(this,e,t)}}function c4(e,t){return function(){return v2(this,e,t.apply(this,arguments))}}function f4(e,t){return this.each((typeof t=="function"?c4:u4)(e,t))}function*d4(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var x2=[null];function Ut(e,t){this._groups=e,this._parents=t}function wa(){return new Ut([[document.documentElement]],x2)}function h4(){return this}Ut.prototype=wa.prototype={constructor:Ut,select:zF,selectAll:BF,selectChild:GF,selectChildren:QF,filter:ZF,data:iz,enter:JF,exit:sz,join:az,merge:lz,selection:h4,order:uz,sort:cz,call:dz,nodes:hz,node:pz,size:mz,empty:gz,each:yz,attr:Ez,style:Pz,property:Mz,classed:Dz,text:Vz,html:Hz,raise:Wz,lower:Kz,append:Yz,insert:Qz,remove:Jz,clone:n4,datum:r4,on:l4,dispatch:f4,[Symbol.iterator]:d4};function Vt(e){return typeof e=="string"?new Ut([[document.querySelector(e)]],[document.documentElement]):new Ut([[e]],x2)}function p4(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pn(e,t){if(e=p4(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const m4={passive:!1},Zs={capture:!0,passive:!1};function xf(e){e.stopImmediatePropagation()}function so(e){e.preventDefault(),e.stopImmediatePropagation()}function w2(e){var t=e.document.documentElement,n=Vt(e).on("dragstart.drag",so,Zs);"onselectstart"in t?n.on("selectstart.drag",so,Zs):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function b2(e,t){var n=e.document.documentElement,r=Vt(e).on("dragstart.drag",null);t&&(r.on("click.drag",so,Zs),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const rl=e=>()=>e;function Hy(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Hy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function g4(e){return!e.ctrlKey&&!e.button}function y4(){return this.parentNode}function v4(e,t){return t??{x:e.x,y:e.y}}function x4(){return navigator.maxTouchPoints||"ontouchstart"in this}function _2(){var e=g4,t=y4,n=v4,r=x4,i={},o=ic("start","drag","end"),s=0,a,l,u,c,f=0;function d(b){b.on("mousedown.drag",h).filter(r).on("touchstart.drag",x).on("touchmove.drag",m,m4).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,E){if(!(c||!e.call(this,b,E))){var _=y(this,t.call(this,b,E),b,E,"mouse");_&&(Vt(b.view).on("mousemove.drag",p,Zs).on("mouseup.drag",g,Zs),w2(b.view),xf(b),u=!1,a=b.clientX,l=b.clientY,_("start",b))}}function p(b){if(so(b),!u){var E=b.clientX-a,_=b.clientY-l;u=E*E+_*_>f}i.mouse("drag",b)}function g(b){Vt(b.view).on("mousemove.drag mouseup.drag",null),b2(b.view,u),so(b),i.mouse("end",b)}function x(b,E){if(e.call(this,b,E)){var _=b.changedTouches,k=t.call(this,b,E),T=_.length,j,O;for(j=0;j<T;++j)(O=y(this,k,b,E,_[j].identifier,_[j]))&&(xf(b),O("start",b,_[j]))}}function m(b){var E=b.changedTouches,_=E.length,k,T;for(k=0;k<_;++k)(T=i[E[k].identifier])&&(so(b),T("drag",b,E[k]))}function v(b){var E=b.changedTouches,_=E.length,k,T;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),k=0;k<_;++k)(T=i[E[k].identifier])&&(xf(b),T("end",b,E[k]))}function y(b,E,_,k,T,j){var O=o.copy(),A=pn(j||_,E),D,z,I;if((I=n.call(b,new Hy("beforestart",{sourceEvent:_,target:d,identifier:T,active:s,x:A[0],y:A[1],dx:0,dy:0,dispatch:O}),k))!=null)return D=I.x-A[0]||0,z=I.y-A[1]||0,function L(F,M,C){var R=A,S;switch(F){case"start":i[T]=L,S=s++;break;case"end":delete i[T],--s;case"drag":A=pn(C||M,E),S=s;break}O.call(F,b,new Hy(F,{sourceEvent:M,subject:I,target:d,identifier:T,active:S,x:A[0]+D,y:A[1]+z,dx:A[0]-R[0],dy:A[1]-R[1],dispatch:O}),k)}}return d.filter=function(b){return arguments.length?(e=typeof b=="function"?b:rl(!!b),d):e},d.container=function(b){return arguments.length?(t=typeof b=="function"?b:rl(b),d):t},d.subject=function(b){return arguments.length?(n=typeof b=="function"?b:rl(b),d):n},d.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:rl(!!b),d):r},d.on=function(){var b=o.on.apply(o,arguments);return b===o?d:b},d.clickDistance=function(b){return arguments.length?(f=(b=+b)*b,d):Math.sqrt(f)},d}function j0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function S2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ba(){}var Js=.7,yu=1/Js,ao="\\s*([+-]?\\d+)\\s*",ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w4=/^#([0-9a-f]{3,8})$/,b4=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),_4=new RegExp(`^rgb\\(${jn},${jn},${jn}\\)$`),S4=new RegExp(`^rgba\\(${ao},${ao},${ao},${ea}\\)$`),E4=new RegExp(`^rgba\\(${jn},${jn},${jn},${ea}\\)$`),k4=new RegExp(`^hsl\\(${ea},${jn},${jn}\\)$`),C4=new RegExp(`^hsla\\(${ea},${jn},${jn},${ea}\\)$`),Aw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j0(ba,xi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Iw,formatHex:Iw,formatHex8:T4,formatHsl:P4,formatRgb:Mw,toString:Mw});function Iw(){return this.rgb().formatHex()}function T4(){return this.rgb().formatHex8()}function P4(){return E2(this).formatHsl()}function Mw(){return this.rgb().formatRgb()}function xi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=w4.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Rw(t):n===3?new Ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?il(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?il(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=b4.exec(e))?new Ct(t[1],t[2],t[3],1):(t=_4.exec(e))?new Ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=S4.exec(e))?il(t[1],t[2],t[3],t[4]):(t=E4.exec(e))?il(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=k4.exec(e))?Dw(t[1],t[2]/100,t[3]/100,1):(t=C4.exec(e))?Dw(t[1],t[2]/100,t[3]/100,t[4]):Aw.hasOwnProperty(e)?Rw(Aw[e]):e==="transparent"?new Ct(NaN,NaN,NaN,0):null}function Rw(e){return new Ct(e>>16&255,e>>8&255,e&255,1)}function il(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ct(e,t,n,r)}function N4(e){return e instanceof ba||(e=xi(e)),e?(e=e.rgb(),new Ct(e.r,e.g,e.b,e.opacity)):new Ct}function Uy(e,t,n,r){return arguments.length===1?N4(e):new Ct(e,t,n,r??1)}function Ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}j0(Ct,Uy,S2(ba,{brighter(e){return e=e==null?yu:Math.pow(yu,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Js:Math.pow(Js,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ct(ci(this.r),ci(this.g),ci(this.b),vu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jw,formatHex:jw,formatHex8:A4,formatRgb:Lw,toString:Lw}));function jw(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}`}function A4(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}${ii((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lw(){const e=vu(this.opacity);return`${e===1?"rgb(":"rgba("}${ci(this.r)}, ${ci(this.g)}, ${ci(this.b)}${e===1?")":`, ${e})`}`}function vu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ci(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ii(e){return e=ci(e),(e<16?"0":"")+e.toString(16)}function Dw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new gn(e,t,n,r)}function E2(e){if(e instanceof gn)return new gn(e.h,e.s,e.l,e.opacity);if(e instanceof ba||(e=xi(e)),!e)return new gn;if(e instanceof gn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new gn(s,a,l,e.opacity)}function I4(e,t,n,r){return arguments.length===1?E2(e):new gn(e,t,n,r??1)}function gn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}j0(gn,I4,S2(ba,{brighter(e){return e=e==null?yu:Math.pow(yu,e),new gn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Js:Math.pow(Js,e),new gn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ct(wf(e>=240?e-240:e+120,i,r),wf(e,i,r),wf(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new gn(Ow(this.h),ol(this.s),ol(this.l),vu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vu(this.opacity);return`${e===1?"hsl(":"hsla("}${Ow(this.h)}, ${ol(this.s)*100}%, ${ol(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ow(e){return e=(e||0)%360,e<0?e+360:e}function ol(e){return Math.max(0,Math.min(1,e||0))}function wf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const L0=e=>()=>e;function M4(e,t){return function(n){return e+n*t}}function R4(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function j4(e){return(e=+e)==1?k2:function(t,n){return n-t?R4(t,n,e):L0(isNaN(t)?n:t)}}function k2(e,t){var n=t-e;return n?M4(e,n):L0(isNaN(e)?t:e)}const xu=function e(t){var n=j4(t);function r(i,o){var s=n((i=Uy(i)).r,(o=Uy(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=k2(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function L4(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function D4(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function O4(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=ks(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function F4(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function z4(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ks(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Wy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bf=new RegExp(Wy.source,"g");function V4(e){return function(){return e}}function q4(e){return function(t){return e(t)+""}}function C2(e,t){var n=Wy.lastIndex=bf.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Wy.exec(e))&&(i=bf.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Pn(r,i)})),n=bf.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?q4(l[0].x):V4(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function ks(e,t){var n=typeof t,r;return t==null||n==="boolean"?L0(t):(n==="number"?Pn:n==="string"?(r=xi(t))?(t=r,xu):C2:t instanceof xi?xu:t instanceof Date?F4:D4(t)?L4:Array.isArray(t)?O4:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?z4:Pn)(e,t)}var Fw=180/Math.PI,Gy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function T2(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Fw,skewX:Math.atan(l)*Fw,scaleX:s,scaleY:a}}var sl;function $4(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Gy:T2(t.a,t.b,t.c,t.d,t.e,t.f)}function B4(e){return e==null||(sl||(sl=document.createElementNS("http://www.w3.org/2000/svg","g")),sl.setAttribute("transform",e),!(e=sl.transform.baseVal.consolidate()))?Gy:(e=e.matrix,T2(e.a,e.b,e.c,e.d,e.e,e.f))}function P2(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Pn(u,f)},{i:g-2,x:Pn(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Pn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Pn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Pn(u,f)},{i:g-2,x:Pn(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,x;++p<g;)f[(x=d[p]).i]=x.x(h);return f.join("")}}}var H4=P2($4,"px, ","px)","deg)"),U4=P2(B4,", ",")",")"),W4=1e-12;function zw(e){return((e=Math.exp(e))+1/e)/2}function G4(e){return((e=Math.exp(e))-1/e)/2}function K4(e){return((e=Math.exp(2*e))-1)/(e+1)}const Dl=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],d=s[2],h=c-a,p=f-l,g=h*h+p*p,x,m;if(g<W4)m=Math.log(d/u)/t,x=function(k){return[a+k*h,l+k*p,u*Math.exp(t*k*m)]};else{var v=Math.sqrt(g),y=(d*d-u*u+r*g)/(2*u*n*v),b=(d*d-u*u-r*g)/(2*d*n*v),E=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(b*b+1)-b);m=(_-E)/t,x=function(k){var T=k*m,j=zw(E),O=u/(n*v)*(j*K4(t*T+E)-G4(E));return[a+O*h,l+O*p,u*j/zw(t*T+E)]}}return x.duration=m*1e3*t/Math.SQRT2,x}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);var bo=0,ss=0,Qo=0,N2=1e3,wu,as,bu=0,wi=0,sc=0,ta=typeof performance=="object"&&performance.now?performance:Date,A2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function D0(){return wi||(A2(Y4),wi=ta.now()+sc)}function Y4(){wi=0}function _u(){this._call=this._time=this._next=null}_u.prototype=I2.prototype={constructor:_u,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?D0():+n)+(t==null?0:+t),!this._next&&as!==this&&(as?as._next=this:wu=this,as=this),this._call=e,this._time=n,Ky()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ky())}};function I2(e,t,n){var r=new _u;return r.restart(e,t,n),r}function X4(){D0(),++bo;for(var e=wu,t;e;)(t=wi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--bo}function Vw(){wi=(bu=ta.now())+sc,bo=ss=0;try{X4()}finally{bo=0,Z4(),wi=0}}function Q4(){var e=ta.now(),t=e-bu;t>N2&&(sc-=t,bu=e)}function Z4(){for(var e,t=wu,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:wu=n);as=e,Ky(r)}function Ky(e){if(!bo){ss&&(ss=clearTimeout(ss));var t=e-wi;t>24?(e<1/0&&(ss=setTimeout(Vw,e-ta.now()-sc)),Qo&&(Qo=clearInterval(Qo))):(Qo||(bu=ta.now(),Qo=setInterval(Q4,N2)),bo=1,A2(Vw))}}function qw(e,t,n){var r=new _u;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var J4=ic("start","end","cancel","interrupt"),eV=[],M2=0,$w=1,Yy=2,Ol=3,Bw=4,Xy=5,Fl=6;function ac(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;tV(e,n,{name:t,index:r,group:i,on:J4,tween:eV,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:M2})}function O0(e,t){var n=_n(e,t);if(n.state>M2)throw new Error("too late; already scheduled");return n}function zn(e,t){var n=_n(e,t);if(n.state>Ol)throw new Error("too late; already running");return n}function _n(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function tV(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=I2(o,0,n.time);function o(u){n.state=$w,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,d,h;if(n.state!==$w)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Ol)return qw(s);h.state===Bw?(h.state=Fl,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Fl,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(qw(function(){n.state===Ol&&(n.state=Bw,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Yy,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Yy){for(n.state=Ol,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Xy,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Xy&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Fl,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function zl(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Yy&&r.state<Xy,r.state=Fl,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function nV(e){return this.each(function(){zl(this,e)})}function rV(e,t){var n,r;return function(){var i=zn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function iV(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=zn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function oV(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=_n(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?rV:iV)(n,e,t))}function F0(e,t,n){var r=e._id;return e.each(function(){var i=zn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return _n(i,r).value[t]}}function R2(e,t){var n;return(typeof t=="number"?Pn:t instanceof xi?xu:(n=xi(t))?(t=n,xu):C2)(e,t)}function sV(e){return function(){this.removeAttribute(e)}}function aV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lV(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function uV(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function cV(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function fV(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function dV(e,t){var n=oc(e),r=n==="transform"?U4:R2;return this.attrTween(e,typeof t=="function"?(n.local?fV:cV)(n,r,F0(this,"attr."+e,t)):t==null?(n.local?aV:sV)(n):(n.local?uV:lV)(n,r,t))}function hV(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function pV(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function mV(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&pV(e,o)),n}return i._value=t,i}function gV(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&hV(e,o)),n}return i._value=t,i}function yV(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=oc(e);return this.tween(n,(r.local?mV:gV)(r,t))}function vV(e,t){return function(){O0(this,e).delay=+t.apply(this,arguments)}}function xV(e,t){return t=+t,function(){O0(this,e).delay=t}}function wV(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vV:xV)(t,e)):_n(this.node(),t).delay}function bV(e,t){return function(){zn(this,e).duration=+t.apply(this,arguments)}}function _V(e,t){return t=+t,function(){zn(this,e).duration=t}}function SV(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?bV:_V)(t,e)):_n(this.node(),t).duration}function EV(e,t){if(typeof t!="function")throw new Error;return function(){zn(this,e).ease=t}}function kV(e){var t=this._id;return arguments.length?this.each(EV(t,e)):_n(this.node(),t).ease}function CV(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;zn(this,e).ease=n}}function TV(e){if(typeof e!="function")throw new Error;return this.each(CV(this._id,e))}function PV(e){typeof e!="function"&&(e=c2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new nr(r,this._parents,this._name,this._id)}function NV(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=s[a]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new nr(s,this._parents,this._name,this._id)}function AV(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function IV(e,t,n){var r,i,o=AV(t)?O0:zn;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function MV(e,t){var n=this._id;return arguments.length<2?_n(this.node(),n).on.on(e):this.each(IV(n,e,t))}function RV(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function jV(){return this.on("end.remove",RV(this._id))}function LV(e){var t=this._name,n=this._id;typeof e!="function"&&(e=M0(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,f,d=0;d<l;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,ac(u[d],t,n,d,u,_n(c,n)));return new nr(o,this._parents,t,n)}function DV(e){var t=this._name,n=this._id;typeof e!="function"&&(e=u2(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,p=_n(c,n),g=0,x=d.length;g<x;++g)(h=d[g])&&ac(h,t,n,g,d,p);o.push(d),s.push(c)}return new nr(o,s,t,n)}var OV=wa.prototype.constructor;function FV(){return new OV(this._groups,this._parents)}function zV(e,t){var n,r,i;return function(){var o=wo(this,e),s=(this.style.removeProperty(e),wo(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function j2(e){return function(){this.style.removeProperty(e)}}function VV(e,t,n){var r,i=n+"",o;return function(){var s=wo(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function qV(e,t,n){var r,i,o;return function(){var s=wo(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),wo(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function $V(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=zn(this,e),u=l.on,c=l.value[o]==null?a||(a=j2(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function BV(e,t,n){var r=(e+="")=="transform"?H4:R2;return t==null?this.styleTween(e,zV(e,r)).on("end.style."+e,j2(e)):typeof t=="function"?this.styleTween(e,qV(e,r,F0(this,"style."+e,t))).each($V(this._id,e)):this.styleTween(e,VV(e,r,t),n).on("end.style."+e,null)}function HV(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function UV(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&HV(e,s,n)),r}return o._value=t,o}function WV(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,UV(e,t,n??""))}function GV(e){return function(){this.textContent=e}}function KV(e){return function(){var t=e(this);this.textContent=t??""}}function YV(e){return this.tween("text",typeof e=="function"?KV(F0(this,"text",e)):GV(e==null?"":e+""))}function XV(e){return function(t){this.textContent=e.call(this,t)}}function QV(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&XV(i)),t}return r._value=e,r}function ZV(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,QV(e))}function JV(){for(var e=this._name,t=this._id,n=L2(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=_n(l,t);ac(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new nr(r,this._parents,e,n)}function eq(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=zn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var tq=0;function nr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function L2(){return++tq}var qn=wa.prototype;nr.prototype={constructor:nr,select:LV,selectAll:DV,selectChild:qn.selectChild,selectChildren:qn.selectChildren,filter:PV,merge:NV,selection:FV,transition:JV,call:qn.call,nodes:qn.nodes,node:qn.node,size:qn.size,empty:qn.empty,each:qn.each,on:MV,attr:dV,attrTween:yV,style:BV,styleTween:WV,text:YV,textTween:ZV,remove:jV,tween:oV,delay:wV,duration:SV,ease:kV,easeVarying:TV,end:eq,[Symbol.iterator]:qn[Symbol.iterator]};function nq(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rq={time:null,delay:0,duration:250,ease:nq};function iq(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function oq(e){var t,n;e instanceof nr?(t=e._id,e=e._name):(t=L2(),(n=rq).time=D0(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&ac(l,e,t,u,s,n||iq(l,t));return new nr(r,this._parents,e,t)}wa.prototype.interrupt=nV;wa.prototype.transition=oq;const al=e=>()=>e;function sq(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Gn(e,t,n){this.k=e,this.x=t,this.y=n}Gn.prototype={constructor:Gn,scale:function(e){return e===1?this:new Gn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lc=new Gn(1,0,0);D2.prototype=Gn.prototype;function D2(e){for(;!e.__zoom;)if(!(e=e.parentNode))return lc;return e.__zoom}function _f(e){e.stopImmediatePropagation()}function Zo(e){e.preventDefault(),e.stopImmediatePropagation()}function aq(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function lq(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Hw(){return this.__zoom||lc}function uq(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cq(){return navigator.maxTouchPoints||"ontouchstart"in this}function fq(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function O2(){var e=aq,t=lq,n=fq,r=uq,i=cq,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Dl,u=ic("start","zoom","end"),c,f,d,h=500,p=150,g=0,x=10;function m(I){I.property("__zoom",Hw).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(I,L,F,M){var C=I.selection?I.selection():I;C.property("__zoom",Hw),I!==C?E(I,L,F,M):C.interrupt().each(function(){_(this,arguments).event(M).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},m.scaleBy=function(I,L,F,M){m.scaleTo(I,function(){var C=this.__zoom.k,R=typeof L=="function"?L.apply(this,arguments):L;return C*R},F,M)},m.scaleTo=function(I,L,F,M){m.transform(I,function(){var C=t.apply(this,arguments),R=this.__zoom,S=F==null?b(C):typeof F=="function"?F.apply(this,arguments):F,V=R.invert(S),q=typeof L=="function"?L.apply(this,arguments):L;return n(y(v(R,q),S,V),C,s)},F,M)},m.translateBy=function(I,L,F,M){m.transform(I,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof F=="function"?F.apply(this,arguments):F),t.apply(this,arguments),s)},null,M)},m.translateTo=function(I,L,F,M,C){m.transform(I,function(){var R=t.apply(this,arguments),S=this.__zoom,V=M==null?b(R):typeof M=="function"?M.apply(this,arguments):M;return n(lc.translate(V[0],V[1]).scale(S.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof F=="function"?-F.apply(this,arguments):-F),R,s)},M,C)};function v(I,L){return L=Math.max(o[0],Math.min(o[1],L)),L===I.k?I:new Gn(L,I.x,I.y)}function y(I,L,F){var M=L[0]-F[0]*I.k,C=L[1]-F[1]*I.k;return M===I.x&&C===I.y?I:new Gn(I.k,M,C)}function b(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function E(I,L,F,M){I.on("start.zoom",function(){_(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(M).end()}).tween("zoom",function(){var C=this,R=arguments,S=_(C,R).event(M),V=t.apply(C,R),q=F==null?b(V):typeof F=="function"?F.apply(C,R):F,N=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),B=C.__zoom,X=typeof L=="function"?L.apply(C,R):L,Y=l(B.invert(q).concat(N/B.k),X.invert(q).concat(N/X.k));return function(Q){if(Q===1)Q=X;else{var W=Y(Q),J=N/W[2];Q=new Gn(J,q[0]-W[0]*J,q[1]-W[1]*J)}S.zoom(null,Q)}})}function _(I,L,F){return!F&&I.__zooming||new k(I,L)}function k(I,L){this.that=I,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(I,L),this.taps=0}k.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,L){return this.mouse&&I!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var L=Vt(this.that).datum();u.call(I,this.that,new sq(I,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),L)}};function T(I,...L){if(!e.apply(this,arguments))return;var F=_(this,L).event(I),M=this.__zoom,C=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,r.apply(this,arguments)))),R=pn(I);if(F.wheel)(F.mouse[0][0]!==R[0]||F.mouse[0][1]!==R[1])&&(F.mouse[1]=M.invert(F.mouse[0]=R)),clearTimeout(F.wheel);else{if(M.k===C)return;F.mouse=[R,M.invert(R)],zl(this),F.start()}Zo(I),F.wheel=setTimeout(S,p),F.zoom("mouse",n(y(v(M,C),F.mouse[0],F.mouse[1]),F.extent,s));function S(){F.wheel=null,F.end()}}function j(I,...L){if(d||!e.apply(this,arguments))return;var F=I.currentTarget,M=_(this,L,!0).event(I),C=Vt(I.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",N,!0),R=pn(I,F),S=I.clientX,V=I.clientY;w2(I.view),_f(I),M.mouse=[R,this.__zoom.invert(R)],zl(this),M.start();function q(B){if(Zo(B),!M.moved){var X=B.clientX-S,Y=B.clientY-V;M.moved=X*X+Y*Y>g}M.event(B).zoom("mouse",n(y(M.that.__zoom,M.mouse[0]=pn(B,F),M.mouse[1]),M.extent,s))}function N(B){C.on("mousemove.zoom mouseup.zoom",null),b2(B.view,M.moved),Zo(B),M.event(B).end()}}function O(I,...L){if(e.apply(this,arguments)){var F=this.__zoom,M=pn(I.changedTouches?I.changedTouches[0]:I,this),C=F.invert(M),R=F.k*(I.shiftKey?.5:2),S=n(y(v(F,R),M,C),t.apply(this,L),s);Zo(I),a>0?Vt(this).transition().duration(a).call(E,S,M,I):Vt(this).call(m.transform,S,M,I)}}function A(I,...L){if(e.apply(this,arguments)){var F=I.touches,M=F.length,C=_(this,L,I.changedTouches.length===M).event(I),R,S,V,q;for(_f(I),S=0;S<M;++S)V=F[S],q=pn(V,this),q=[q,this.__zoom.invert(q),V.identifier],C.touch0?!C.touch1&&C.touch0[2]!==q[2]&&(C.touch1=q,C.taps=0):(C.touch0=q,R=!0,C.taps=1+!!c);c&&(c=clearTimeout(c)),R&&(C.taps<2&&(f=q[0],c=setTimeout(function(){c=null},h)),zl(this),C.start())}}function D(I,...L){if(this.__zooming){var F=_(this,L).event(I),M=I.changedTouches,C=M.length,R,S,V,q;for(Zo(I),R=0;R<C;++R)S=M[R],V=pn(S,this),F.touch0&&F.touch0[2]===S.identifier?F.touch0[0]=V:F.touch1&&F.touch1[2]===S.identifier&&(F.touch1[0]=V);if(S=F.that.__zoom,F.touch1){var N=F.touch0[0],B=F.touch0[1],X=F.touch1[0],Y=F.touch1[1],Q=(Q=X[0]-N[0])*Q+(Q=X[1]-N[1])*Q,W=(W=Y[0]-B[0])*W+(W=Y[1]-B[1])*W;S=v(S,Math.sqrt(Q/W)),V=[(N[0]+X[0])/2,(N[1]+X[1])/2],q=[(B[0]+Y[0])/2,(B[1]+Y[1])/2]}else if(F.touch0)V=F.touch0[0],q=F.touch0[1];else return;F.zoom("touch",n(y(S,V,q),F.extent,s))}}function z(I,...L){if(this.__zooming){var F=_(this,L).event(I),M=I.changedTouches,C=M.length,R,S;for(_f(I),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),R=0;R<C;++R)S=M[R],F.touch0&&F.touch0[2]===S.identifier?delete F.touch0:F.touch1&&F.touch1[2]===S.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(S=pn(S,this),Math.hypot(f[0]-S[0],f[1]-S[1])<x)){var V=Vt(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return m.wheelDelta=function(I){return arguments.length?(r=typeof I=="function"?I:al(+I),m):r},m.filter=function(I){return arguments.length?(e=typeof I=="function"?I:al(!!I),m):e},m.touchable=function(I){return arguments.length?(i=typeof I=="function"?I:al(!!I),m):i},m.extent=function(I){return arguments.length?(t=typeof I=="function"?I:al([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),m):t},m.scaleExtent=function(I){return arguments.length?(o[0]=+I[0],o[1]=+I[1],m):[o[0],o[1]]},m.translateExtent=function(I){return arguments.length?(s[0][0]=+I[0][0],s[1][0]=+I[1][0],s[0][1]=+I[0][1],s[1][1]=+I[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(I){return arguments.length?(n=I,m):n},m.duration=function(I){return arguments.length?(a=+I,m):a},m.interpolate=function(I){return arguments.length?(l=I,m):l},m.on=function(){var I=u.on.apply(u,arguments);return I===u?m:I},m.clickDistance=function(I){return arguments.length?(g=(I=+I)*I,m):Math.sqrt(g)},m.tapDistance=function(I){return arguments.length?(x=+I,m):x},m}const On={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},na=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],F2=["Enter"," ","Escape"],z2={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var _o;(function(e){e.Strict="strict",e.Loose="loose"})(_o||(_o={}));var fi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(fi||(fi={}));var ra;(function(e){e.Partial="partial",e.Full="full"})(ra||(ra={}));const V2={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var wr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(wr||(wr={}));var Su;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Su||(Su={}));var ee;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ee||(ee={}));const Uw={[ee.Left]:ee.Right,[ee.Right]:ee.Left,[ee.Top]:ee.Bottom,[ee.Bottom]:ee.Top};function q2(e){return e===null?null:e?"valid":"invalid"}const $2=e=>"id"in e&&"source"in e&&"target"in e,dq=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),z0=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),_a=(e,t=[0,0])=>{const{width:n,height:r}=ar(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},hq=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):z0(i)?i:t.nodeLookup.get(i.id));const a=s?Eu(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return uc(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return cc(n)},Sa=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=uc(n,Eu(i)),r=!0)}),r?cc(n):{x:0,y:0,width:0,height:0}},V0=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...ka(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const u of e.values()){const{measured:c,selectable:f=!0,hidden:d=!1}=u;if(s&&!f||d)continue;const h=c.width??u.width??u.initialWidth??null,p=c.height??u.height??u.initialHeight??null,g=ia(a,Eo(u)),x=(h??0)*(p??0),m=o&&g>0;(!u.internals.handleBounds||m||g>=x||u.dragging)&&l.push(u)}return l},pq=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function mq(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function gq({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=mq(e,s),l=Sa(a),u=q0(l,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function B2({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},c=s.origin??r;let f=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",On.error005());else{const h=a.measured.width,p=a.measured.height;h&&p&&(f=[[l,u],[l+h,u+p]])}else a&&ko(s.extent)&&(f=[[s.extent[0][0]+l,s.extent[0][1]+u],[s.extent[1][0]+l,s.extent[1][1]+u]]);const d=ko(f)?bi(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",On.error015())),{position:{x:d.x-l+(s.measured.width??0)*c[0],y:d.y-u+(s.measured.height??0)*c[1]},positionAbsolute:d}}async function yq({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const h=o.has(d.id),p=!h&&d.parentId&&s.find(g=>g.id===d.parentId);(h||p)&&s.push(d)}const a=new Set(t.map(d=>d.id)),l=r.filter(d=>d.deletable!==!1),c=pq(s,l);for(const d of l)a.has(d.id)&&!c.find(p=>p.id===d.id)&&c.push(d);if(!i)return{edges:c,nodes:s};const f=await i({nodes:s,edges:c});return typeof f=="boolean"?f?{edges:c,nodes:s}:{edges:[],nodes:[]}:f}const So=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),bi=(e={x:0,y:0},t,n)=>({x:So(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:So(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function H2(e,t,n){const{width:r,height:i}=ar(n),{x:o,y:s}=n.internals.positionAbsolute;return bi(e,[[o,s],[o+r,s+i]],t)}const Ww=(e,t,n)=>e<t?So(Math.abs(e-t),1,t)/t:e>n?-So(Math.abs(e-n),1,t)/t:0,U2=(e,t,n=15,r=40)=>{const i=Ww(e.x,r,t.width-r)*n,o=Ww(e.y,r,t.height-r)*n;return[i,o]},uc=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Qy=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),cc=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Eo=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=z0(e)?e.internals.positionAbsolute:_a(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Eu=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=z0(e)?e.internals.positionAbsolute:_a(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},W2=(e,t)=>cc(uc(Qy(e),Qy(t))),ia=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Gw=e=>yn(e.width)&&yn(e.height)&&yn(e.x)&&yn(e.y),yn=e=>!isNaN(e)&&isFinite(e),vq=(e,t)=>{},Ea=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ka=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?Ea(a,s):a},ku=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Mi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function xq(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Mi(e,n),i=Mi(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Mi(e.top??e.y??0,n),i=Mi(e.bottom??e.y??0,n),o=Mi(e.left??e.x??0,t),s=Mi(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function wq(e,t,n,r,i,o){const{x:s,y:a}=ku(e,[t,n,r]),{x:l,y:u}=ku({x:e.x+e.width,y:e.y+e.height},[t,n,r]),c=i-l,f=o-u;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(f)}}const q0=(e,t,n,r,i,o)=>{const s=xq(o,t,n),a=(t-s.x)/e.width,l=(n-s.y)/e.height,u=Math.min(a,l),c=So(u,r,i),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*c,p=n/2-d*c,g=wq(e,h,p,c,t,n),x={left:Math.min(g.left-s.left,0),top:Math.min(g.top-s.top,0),right:Math.min(g.right-s.right,0),bottom:Math.min(g.bottom-s.bottom,0)};return{x:h-x.left+x.right,y:p-x.top+x.bottom,zoom:c}},oa=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function ko(e){return e!=null&&e!=="parent"}function ar(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function G2(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function K2(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function Kw(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function bq(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function _q(e){return{...z2,...e||{}}}function Cs(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=vn(e),a=ka({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=n?Ea(a,t):a;return{xSnapped:l,ySnapped:u,...a}}const $0=e=>({width:e.offsetWidth,height:e.offsetHeight}),Y2=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Sq=["INPUT","SELECT","TEXTAREA"];function X2(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Sq.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Q2=e=>"clientX"in e,vn=(e,t)=>{var o,s;const n=Q2(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Yw=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...$0(s)}})};function Z2({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}function ll(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Xw({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case ee.Left:return[t-ll(t-r,o),n];case ee.Right:return[t+ll(r-t,o),n];case ee.Top:return[t,n-ll(n-i,o)];case ee.Bottom:return[t,n+ll(i-n,o)]}}function J2({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top,curvature:s=.25}){const[a,l]=Xw({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=Xw({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,d,h,p]=Z2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,f,d,h,p]}function eI({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function Eq({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+a}function kq({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=uc(Eu(e),Eu(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return ia(s,cc(o))>0}const Cq=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Tq=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Pq=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||Cq;let i;return $2(e)?i={...e}:i={...e,id:r(e)},Tq(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function tI({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=eI({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const Qw={[ee.Left]:{x:-1,y:0},[ee.Right]:{x:1,y:0},[ee.Top]:{x:0,y:-1},[ee.Bottom]:{x:0,y:1}},Nq=({source:e,sourcePosition:t=ee.Bottom,target:n})=>t===ee.Left||t===ee.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Zw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Aq({source:e,sourcePosition:t=ee.Bottom,target:n,targetPosition:r=ee.Top,center:i,offset:o,stepPosition:s}){const a=Qw[t],l=Qw[r],u={x:e.x+a.x*o,y:e.y+a.y*o},c={x:n.x+l.x*o,y:n.y+l.y*o},f=Nq({source:u,sourcePosition:t,target:c}),d=f.x!==0?"x":"y",h=f[d];let p=[],g,x;const m={x:0,y:0},v={x:0,y:0},[,,y,b]=eI({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*l[d]===-1){d==="x"?(g=i.x??u.x+(c.x-u.x)*s,x=i.y??(u.y+c.y)/2):(g=i.x??(u.x+c.x)/2,x=i.y??u.y+(c.y-u.y)*s);const _=[{x:g,y:u.y},{x:g,y:c.y}],k=[{x:u.x,y:x},{x:c.x,y:x}];a[d]===h?p=d==="x"?_:k:p=d==="x"?k:_}else{const _=[{x:u.x,y:c.y}],k=[{x:c.x,y:u.y}];if(d==="x"?p=a.x===h?k:_:p=a.y===h?_:k,t===r){const D=Math.abs(e[d]-n[d]);if(D<=o){const z=Math.min(o-1,o-D);a[d]===h?m[d]=(u[d]>e[d]?-1:1)*z:v[d]=(c[d]>n[d]?-1:1)*z}}if(t!==r){const D=d==="x"?"y":"x",z=a[d]===l[D],I=u[D]>c[D],L=u[D]<c[D];(a[d]===1&&(!z&&I||z&&L)||a[d]!==1&&(!z&&L||z&&I))&&(p=d==="x"?_:k)}const T={x:u.x+m.x,y:u.y+m.y},j={x:c.x+v.x,y:c.y+v.y},O=Math.max(Math.abs(T.x-p[0].x),Math.abs(j.x-p[0].x)),A=Math.max(Math.abs(T.y-p[0].y),Math.abs(j.y-p[0].y));O>=A?(g=(T.x+j.x)/2,x=p[0].y):(g=p[0].x,x=(T.y+j.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...p,{x:c.x+v.x,y:c.y+v.y},n],g,x,y,b]}function Iq(e,t,n,r){const i=Math.min(Zw(e,t)/2,Zw(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function Cu({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20,stepPosition:c=.5}){const[f,d,h,p,g]=Aq({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u,stepPosition:c});return[f.reduce((m,v,y)=>{let b="";return y>0&&y<f.length-1?b=Iq(f[y-1],v,f[y+1],s):b=`${y===0?"M":"L"}${v.x} ${v.y}`,m+=b,m},""),d,h,p,g]}function Jw(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Mq(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Jw(t)||!Jw(n))return null;const r=t.internals.handleBounds||eb(t.handles),i=n.internals.handleBounds||eb(n.handles),o=tb((r==null?void 0:r.source)??[],e.sourceHandle),s=tb(e.connectionMode===_o.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(f=e.onError)==null||f.call(e,"008",On.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||ee.Bottom,l=(s==null?void 0:s.position)||ee.Top,u=_i(t,o,a),c=_i(n,s,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:l}}function eb(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function _i(e,t,n=ee.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??ar(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case ee.Top:return{x:i+s/2,y:o};case ee.Right:return{x:i+s,y:o+a/2};case ee.Bottom:return{x:i+s/2,y:o+a};case ee.Left:return{x:i,y:o+a/2}}}function tb(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Zy(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Rq(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=Zy(l,t);o.has(u)||(s.push({id:u,color:l.color||n,...l}),o.add(u))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const nI=1e3,jq=10,B0={nodeOrigin:[0,0],nodeExtent:na,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Lq={...B0,checkEquality:!0};function H0(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Dq(e,t,n){const r=H0(B0,n);for(const i of e.values())if(i.parentId)W0(i,e,t,r);else{const o=_a(i,r.nodeOrigin),s=ko(i.extent)?i.extent:r.nodeExtent,a=bi(o,s,ar(i));i.internals.positionAbsolute=a}}function Oq(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function U0(e){return e==="manual"}function Jy(e,t,n,r={}){var u,c;const i=H0(Lq,r),o={i:0},s=new Map(t),a=i!=null&&i.elevateNodesOnSelect&&!U0(i.zIndexMode)?nI:0;let l=e.length>0;t.clear(),n.clear();for(const f of e){let d=s.get(f.id);if(i.checkEquality&&f===(d==null?void 0:d.internals.userNode))t.set(f.id,d);else{const h=_a(f,i.nodeOrigin),p=ko(f.extent)?f.extent:i.nodeExtent,g=bi(h,p,ar(f));d={...i.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(c=f.measured)==null?void 0:c.height},internals:{positionAbsolute:g,handleBounds:Oq(f,d),z:rI(f,a,i.zIndexMode),userNode:f}},t.set(f.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(l=!1),f.parentId&&W0(d,t,n,r,o)}return l}function Fq(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function W0(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:l}=H0(B0,r),u=e.parentId,c=t.get(u);if(!c){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Fq(e,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&l==="auto"&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*jq),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const f=o&&!U0(l)?nI:0,{x:d,y:h,z:p}=zq(e,c,s,a,f,l),{positionAbsolute:g}=e.internals,x=d!==g.x||h!==g.y;(x||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:x?{x:d,y:h}:g,z:p}})}function rI(e,t,n){const r=yn(e.zIndex)?e.zIndex:0;return U0(n)?r:r+(e.selected?t:0)}function zq(e,t,n,r,i,o){const{x:s,y:a}=t.internals.positionAbsolute,l=ar(e),u=_a(e,n),c=ko(e.extent)?bi(u,e.extent,l):u;let f=bi({x:s+c.x,y:a+c.y},r,l);e.extent==="parent"&&(f=H2(f,l,t));const d=rI(e,i,o),h=t.internals.z??0;return{x:f.x,y:f.y,z:h>=d?h+1:d}}function G0(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const l=t.get(a.parentId);if(!l)continue;const u=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??Eo(l),c=W2(u,a.rect);o.set(a.parentId,{expandedRect:c,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},u)=>{var y;const c=l.internals.positionAbsolute,f=ar(l),d=l.origin??r,h=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,p=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,g=Math.max(f.width,Math.round(a.width)),x=Math.max(f.height,Math.round(a.height)),m=(g-f.width)*d[0],v=(x-f.height)*d[1];(h>0||p>0||m||v)&&(i.push({id:u,type:"position",position:{x:l.position.x-h+m,y:l.position.y-p+v}}),(y=n.get(u))==null||y.forEach(b=>{e.some(E=>E.id===b.id)||i.push({id:b.id,type:"position",position:{x:b.position.x+h,y:b.position.y+p}})})),(f.width<a.width||f.height<a.height||h||p)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:g+(h?d[0]*h-m:0),height:x+(p?d[1]*p-v:0)}})}),i}function Vq(e,t,n,r,i,o,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const u=[],c=window.getComputedStyle(a),{m22:f}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const h of e.values()){const p=t.get(h.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),l=!0;continue}const g=$0(h.nodeElement),x=p.measured.width!==g.width||p.measured.height!==g.height;if(!!(g.width&&g.height&&(x||!p.internals.handleBounds||h.force))){const v=h.nodeElement.getBoundingClientRect(),y=ko(p.extent)?p.extent:o;let{positionAbsolute:b}=p.internals;p.parentId&&p.extent==="parent"?b=H2(b,g,t.get(p.parentId)):y&&(b=bi(b,y,g));const E={...p,measured:g,internals:{...p.internals,positionAbsolute:b,handleBounds:{source:Yw("source",h.nodeElement,v,f,p.id),target:Yw("target",h.nodeElement,v,f,p.id)}}};t.set(p.id,E),p.parentId&&W0(E,t,n,{nodeOrigin:i,zIndexMode:s}),l=!0,x&&(u.push({id:p.id,type:"dimensions",dimensions:g}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:Eo(E,i)}))}}if(d.length>0){const h=G0(d,t,n,i);u.push(...h)}return{changes:u,updatedInternals:l}}async function qq({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function nb(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,t)),o){s=`${i}-${e}-${o}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function iI(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},u=`${i}-${s}--${o}-${a}`,c=`${o}-${a}--${i}-${s}`;nb("source",l,c,e,i,s),nb("target",l,u,e,o,a),t.set(r.id,r)}}function oI(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:oI(n,t):!1}function rb(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function $q(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!oI(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function Sf({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,l;const i=[];for(const[u,c]of t){const f=(s=n.get(u))==null?void 0:s.internals.userNode;f&&i.push({...f,position:c.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function Bq({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=Ea(o,t);return{x:s.x-o.x,y:s.y-o.y}}function Hq({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,u={x:0,y:0},c=null,f=!1,d=null,h=!1,p=!1,g=null;function x({noDragClassName:v,handleSelector:y,domNode:b,isSelectable:E,nodeId:_,nodeClickDistance:k=0}){d=Vt(b);function T({x:D,y:z}){const{nodeLookup:I,nodeExtent:L,snapGrid:F,snapToGrid:M,nodeOrigin:C,onNodeDrag:R,onSelectionDrag:S,onError:V,updateNodePositions:q}=t();o={x:D,y:z};let N=!1;const B=a.size>1,X=B&&L?Qy(Sa(a)):null,Y=B&&M?Bq({dragItems:a,snapGrid:F,x:D,y:z}):null;for(const[Q,W]of a){if(!I.has(Q))continue;let J={x:D-W.distance.x,y:z-W.distance.y};M&&(J=Y?{x:Math.round(J.x+Y.x),y:Math.round(J.y+Y.y)}:Ea(J,F));let ae=null;if(B&&L&&!W.extent&&X){const{positionAbsolute:ne}=W.internals,ge=ne.x-X.x+L[0][0],te=ne.x+W.measured.width-X.x2+L[1][0],he=ne.y-X.y+L[0][1],le=ne.y+W.measured.height-X.y2+L[1][1];ae=[[ge,he],[te,le]]}const{position:se,positionAbsolute:ie}=B2({nodeId:Q,nextPosition:J,nodeLookup:I,nodeExtent:ae||L,nodeOrigin:C,onError:V});N=N||W.position.x!==se.x||W.position.y!==se.y,W.position=se,W.internals.positionAbsolute=ie}if(p=p||N,!!N&&(q(a,!0),g&&(r||R||!_&&S))){const[Q,W]=Sf({nodeId:_,dragItems:a,nodeLookup:I});r==null||r(g,a,Q,W),R==null||R(g,Q,W),_||S==null||S(g,W)}}async function j(){if(!c)return;const{transform:D,panBy:z,autoPanSpeed:I,autoPanOnNodeDrag:L}=t();if(!L){l=!1,cancelAnimationFrame(s);return}const[F,M]=U2(u,c,I);(F!==0||M!==0)&&(o.x=(o.x??0)-F/D[2],o.y=(o.y??0)-M/D[2],await z({x:F,y:M})&&T(o)),s=requestAnimationFrame(j)}function O(D){var B;const{nodeLookup:z,multiSelectionActive:I,nodesDraggable:L,transform:F,snapGrid:M,snapToGrid:C,selectNodesOnDrag:R,onNodeDragStart:S,onSelectionDragStart:V,unselectNodesAndEdges:q}=t();f=!0,(!R||!E)&&!I&&_&&((B=z.get(_))!=null&&B.selected||q()),E&&R&&_&&(e==null||e(_));const N=Cs(D.sourceEvent,{transform:F,snapGrid:M,snapToGrid:C,containerBounds:c});if(o=N,a=$q(z,L,N,_),a.size>0&&(n||S||!_&&V)){const[X,Y]=Sf({nodeId:_,dragItems:a,nodeLookup:z});n==null||n(D.sourceEvent,a,X,Y),S==null||S(D.sourceEvent,X,Y),_||V==null||V(D.sourceEvent,Y)}}const A=_2().clickDistance(k).on("start",D=>{const{domNode:z,nodeDragThreshold:I,transform:L,snapGrid:F,snapToGrid:M}=t();c=(z==null?void 0:z.getBoundingClientRect())||null,h=!1,p=!1,g=D.sourceEvent,I===0&&O(D),o=Cs(D.sourceEvent,{transform:L,snapGrid:F,snapToGrid:M,containerBounds:c}),u=vn(D.sourceEvent,c)}).on("drag",D=>{const{autoPanOnNodeDrag:z,transform:I,snapGrid:L,snapToGrid:F,nodeDragThreshold:M,nodeLookup:C}=t(),R=Cs(D.sourceEvent,{transform:I,snapGrid:L,snapToGrid:F,containerBounds:c});if(g=D.sourceEvent,(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||_&&!C.has(_))&&(h=!0),!h){if(!l&&z&&f&&(l=!0,j()),!f){const S=vn(D.sourceEvent,c),V=S.x-u.x,q=S.y-u.y;Math.sqrt(V*V+q*q)>M&&O(D)}(o.x!==R.xSnapped||o.y!==R.ySnapped)&&a&&f&&(u=vn(D.sourceEvent,c),T(R))}}).on("end",D=>{if(!(!f||h)&&(l=!1,f=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:z,updateNodePositions:I,onNodeDragStop:L,onSelectionDragStop:F}=t();if(p&&(I(a,!1),p=!1),i||L||!_&&F){const[M,C]=Sf({nodeId:_,dragItems:a,nodeLookup:z,dragging:!1});i==null||i(D.sourceEvent,a,M,C),L==null||L(D.sourceEvent,M,C),_||F==null||F(D.sourceEvent,C)}}}).filter(D=>{const z=D.target;return!D.button&&(!v||!rb(z,`.${v}`,b))&&(!y||rb(z,y,b))});d.call(A)}function m(){d==null||d.on(".drag",null)}return{update:x,destroy:m}}function Uq(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())ia(i,Eo(o))>0&&r.push(o);return r}const Wq=250;function Gq(e,t,n,r){var a,l;let i=[],o=1/0;const s=Uq(e,n,t+Wq);for(const u of s){const c=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=_i(u,f,f.position,!0),p=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));p>t||(p<o?(i=[{...f,x:d,y:h}],o=p):p===o&&i.push({...f,x:d,y:h}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function sI(e,t,n,r,i,o=!1){var u,c,f;const s=r.get(e);if(!s)return null;const a=i==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((c=s.internals.handleBounds)==null?void 0:c.source)??[],...((f=s.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?a==null?void 0:a.find(d=>d.id===n):a==null?void 0:a[0])??null;return l&&o?{...l,..._i(s,l,l.position,!0)}:l}function aI(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Kq(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const lI=()=>!0;function Yq(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:f,panBy:d,cancelConnection:h,onConnectStart:p,onConnect:g,onConnectEnd:x,isValidConnection:m=lI,onReconnectEnd:v,updateConnection:y,getTransform:b,getFromHandle:E,autoPanSpeed:_,dragThreshold:k=1,handleDomNode:T}){const j=Y2(e.target);let O=0,A;const{x:D,y:z}=vn(e),I=aI(o,T),L=a==null?void 0:a.getBoundingClientRect();let F=!1;if(!L||!I)return;const M=sI(i,I,r,l,t);if(!M)return;let C=vn(e,L),R=!1,S=null,V=!1,q=null;function N(){if(!c||!L)return;const[se,ie]=U2(C,L,_);d({x:se,y:ie}),O=requestAnimationFrame(N)}const B={...M,nodeId:i,type:I,position:M.position},X=l.get(i);let Q={inProgress:!0,isValid:null,from:_i(X,B,ee.Left,!0),fromHandle:B,fromPosition:B.position,fromNode:X,to:C,toHandle:null,toPosition:Uw[B.position],toNode:null,pointer:C};function W(){F=!0,y(Q),p==null||p(e,{nodeId:i,handleId:r,handleType:I})}k===0&&W();function J(se){if(!F){const{x:le,y:Ye}=vn(se),$e=le-D,wt=Ye-z;if(!($e*$e+wt*wt>k*k))return;W()}if(!E()||!B){ae(se);return}const ie=b();C=vn(se,L),A=Gq(ka(C,ie,!1,[1,1]),n,l,B),R||(N(),R=!0);const ne=uI(se,{handle:A,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:m,doc:j,lib:u,flowId:f,nodeLookup:l});q=ne.handleDomNode,S=ne.connection,V=Kq(!!A,ne.isValid);const ge=l.get(i),te=ge?_i(ge,B,ee.Left,!0):Q.from,he={...Q,from:te,isValid:V,to:ne.toHandle&&V?ku({x:ne.toHandle.x,y:ne.toHandle.y},ie):C,toHandle:ne.toHandle,toPosition:V&&ne.toHandle?ne.toHandle.position:Uw[B.position],toNode:ne.toHandle?l.get(ne.toHandle.nodeId):null,pointer:C};y(he),Q=he}function ae(se){if(!("touches"in se&&se.touches.length>0)){if(F){(A||q)&&S&&V&&(g==null||g(S));const{inProgress:ie,...ne}=Q,ge={...ne,toPosition:Q.toHandle?Q.toPosition:null};x==null||x(se,ge),o&&(v==null||v(se,ge))}h(),cancelAnimationFrame(O),R=!1,V=!1,S=null,q=null,j.removeEventListener("mousemove",J),j.removeEventListener("mouseup",ae),j.removeEventListener("touchmove",J),j.removeEventListener("touchend",ae)}}j.addEventListener("mousemove",J),j.addEventListener("mouseup",ae),j.addEventListener("touchmove",J),j.addEventListener("touchend",ae)}function uI(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:u=lI,nodeLookup:c}){const f=o==="target",d=t?s.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:p}=vn(e),g=s.elementFromPoint(h,p),x=g!=null&&g.classList.contains(`${a}-flow__handle`)?g:d,m={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){const v=aI(void 0,x),y=x.getAttribute("data-nodeid"),b=x.getAttribute("data-handleid"),E=x.classList.contains("connectable"),_=x.classList.contains("connectableend");if(!y||!v)return m;const k={source:f?y:r,sourceHandle:f?b:i,target:f?r:y,targetHandle:f?i:b};m.connection=k;const j=E&&_&&(n===_o.Strict?f&&v==="source"||!f&&v==="target":y!==r||b!==i);m.isValid=j&&u(k),m.toHandle=sI(y,v,b,c,n,!0)}return m}const ev={onPointerDown:Yq,isValid:uI};function Xq({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Vt(e);function o({translateExtent:a,width:l,height:u,zoomStep:c=1,pannable:f=!0,zoomable:d=!0,inversePan:h=!1}){const p=y=>{if(y.sourceEvent.type!=="wheel"||!t)return;const b=n(),E=y.sourceEvent.ctrlKey&&oa()?10:1,_=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*c,k=b[2]*Math.pow(2,_*E);t.scaleTo(k)};let g=[0,0];const x=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(g=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},m=y=>{const b=n();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!t)return;const E=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],_=[E[0]-g[0],E[1]-g[1]];g=E;const k=r()*Math.max(b[2],Math.log(b[2]))*(h?-1:1),T={x:b[0]-_[0]*k,y:b[1]-_[1]*k},j=[[0,0],[l,u]];t.setViewportConstrained({x:T.x,y:T.y,zoom:b[2]},j,a)},v=O2().on("start",x).on("zoom",f?m:null).on("zoom.wheel",d?p:null);i.call(v,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:pn}}const fc=e=>({x:e.x,y:e.y,zoom:e.k}),Ef=({x:e,y:t,zoom:n})=>lc.translate(e,t).scale(n),Wi=(e,t)=>e.target.closest(`.${t}`),cI=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Qq=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,kf=(e,t=0,n=Qq,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},fI=e=>{const t=e.ctrlKey&&oa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Zq({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(Wi(c,t))return c.ctrlKey&&c.preventDefault(),!1;c.preventDefault(),c.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(c.ctrlKey&&s){const x=pn(c),m=fI(c),v=f*Math.pow(2,m);r.scaleTo(n,v,x,c);return}const d=c.deltaMode===1?20:1;let h=i===fi.Vertical?0:c.deltaX*d,p=i===fi.Horizontal?0:c.deltaY*d;!oa()&&c.shiftKey&&i!==fi.Vertical&&(h=c.deltaY*d,p=0),r.translateBy(n,-(h/f)*o,-(p/f)*o,{internal:!0});const g=fc(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l==null||l(c,g),e.panScrollTimeout=setTimeout(()=>{u==null||u(c,g),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(c,g))}}function Jq({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=Wi(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function e$({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=fc(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function t$({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&cI(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,fc(o.transform)))}}function n$({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&cI(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const l=fc(s.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,l)},n?150:0)}}}function r$({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:u,connectionInProgress:c}){return f=>{var x;const d=e||t,h=n&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(Wi(f,`${u}-flow__node`)||Wi(f,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||s||c&&!p||Wi(f,a)&&p||Wi(f,l)&&(!p||i&&p&&!e)||!n&&f.ctrlKey&&p)return!1;if(!n&&f.type==="touchstart"&&((x=f.touches)==null?void 0:x.length)>1)return f.preventDefault(),!1;if(!d&&!i&&!h&&p||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const g=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&g}}function i$({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),f=O2().scaleExtent([t,n]).translateExtent(r),d=Vt(e).call(f);v({x:i.x,y:i.y,zoom:So(i.zoom,t,n)},[[0,0],[c.width,c.height]],r);const h=d.on("wheel.zoom"),p=d.on("dblclick.zoom");f.wheelDelta(fI);function g(A,D){return d?new Promise(z=>{f==null||f.interpolate((D==null?void 0:D.interpolate)==="linear"?ks:Dl).transform(kf(d,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>z(!0)),A)}):Promise.resolve(!1)}function x({noWheelClassName:A,noPanClassName:D,onPaneContextMenu:z,userSelectionActive:I,panOnScroll:L,panOnDrag:F,panOnScrollMode:M,panOnScrollSpeed:C,preventScrolling:R,zoomOnPinch:S,zoomOnScroll:V,zoomOnDoubleClick:q,zoomActivationKeyPressed:N,lib:B,onTransformChange:X,connectionInProgress:Y,paneClickDistance:Q,selectionOnDrag:W}){I&&!u.isZoomingOrPanning&&m();const J=L&&!N&&!I;f.clickDistance(W?1/0:!yn(Q)||Q<0?0:Q);const ae=J?Zq({zoomPanValues:u,noWheelClassName:A,d3Selection:d,d3Zoom:f,panOnScrollMode:M,panOnScrollSpeed:C,zoomOnPinch:S,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):Jq({noWheelClassName:A,preventScrolling:R,d3ZoomHandler:h});if(d.on("wheel.zoom",ae,{passive:!1}),!I){const ie=e$({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:s});f.on("start",ie);const ne=t$({zoomPanValues:u,panOnDrag:F,onPaneContextMenu:!!z,onPanZoom:o,onTransformChange:X});f.on("zoom",ne);const ge=n$({zoomPanValues:u,panOnDrag:F,panOnScroll:L,onPaneContextMenu:z,onPanZoomEnd:a,onDraggingChange:l});f.on("end",ge)}const se=r$({zoomActivationKeyPressed:N,panOnDrag:F,zoomOnScroll:V,panOnScroll:L,zoomOnDoubleClick:q,zoomOnPinch:S,userSelectionActive:I,noPanClassName:D,noWheelClassName:A,lib:B,connectionInProgress:Y});f.filter(se),q?d.on("dblclick.zoom",p):d.on("dblclick.zoom",null)}function m(){f.on("zoom",null)}async function v(A,D,z){const I=Ef(A),L=f==null?void 0:f.constrain()(I,D,z);return L&&await g(L),new Promise(F=>F(L))}async function y(A,D){const z=Ef(A);return await g(z,D),new Promise(I=>I(z))}function b(A){if(d){const D=Ef(A),z=d.property("__zoom");(z.k!==A.zoom||z.x!==A.x||z.y!==A.y)&&(f==null||f.transform(d,D,null,{sync:!0}))}}function E(){const A=d?D2(d.node()):{x:0,y:0,k:1};return{x:A.x,y:A.y,zoom:A.k}}function _(A,D){return d?new Promise(z=>{f==null||f.interpolate((D==null?void 0:D.interpolate)==="linear"?ks:Dl).scaleTo(kf(d,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>z(!0)),A)}):Promise.resolve(!1)}function k(A,D){return d?new Promise(z=>{f==null||f.interpolate((D==null?void 0:D.interpolate)==="linear"?ks:Dl).scaleBy(kf(d,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>z(!0)),A)}):Promise.resolve(!1)}function T(A){f==null||f.scaleExtent(A)}function j(A){f==null||f.translateExtent(A)}function O(A){const D=!yn(A)||A<0?0:A;f==null||f.clickDistance(D)}return{update:x,destroy:m,setViewport:y,setViewportConstrained:v,getViewport:E,scaleTo:_,scaleBy:k,setScaleExtent:T,setTranslateExtent:j,syncViewport:b,setClickDistance:O}}var Co;(function(e){e.Line="line",e.Handle="handle"})(Co||(Co={}));function o$({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function ib(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function fr(e,t){return Math.max(0,t-e)}function dr(e,t){return Math.max(0,e-t)}function ul(e,t,n){return Math.max(0,t-e,e-n)}function ob(e,t){return e?!t:t}function s$(e,t,n,r,i,o,s,a){let{affectsX:l,affectsY:u}=t;const{isHorizontal:c,isVertical:f}=t,d=c&&f,{xSnapped:h,ySnapped:p}=n,{minWidth:g,maxWidth:x,minHeight:m,maxHeight:v}=r,{x:y,y:b,width:E,height:_,aspectRatio:k}=e;let T=Math.floor(c?h-e.pointerX:0),j=Math.floor(f?p-e.pointerY:0);const O=E+(l?-T:T),A=_+(u?-j:j),D=-o[0]*E,z=-o[1]*_;let I=ul(O,g,x),L=ul(A,m,v);if(s){let C=0,R=0;l&&T<0?C=fr(y+T+D,s[0][0]):!l&&T>0&&(C=dr(y+O+D,s[1][0])),u&&j<0?R=fr(b+j+z,s[0][1]):!u&&j>0&&(R=dr(b+A+z,s[1][1])),I=Math.max(I,C),L=Math.max(L,R)}if(a){let C=0,R=0;l&&T>0?C=dr(y+T,a[0][0]):!l&&T<0&&(C=fr(y+O,a[1][0])),u&&j>0?R=dr(b+j,a[0][1]):!u&&j<0&&(R=fr(b+A,a[1][1])),I=Math.max(I,C),L=Math.max(L,R)}if(i){if(c){const C=ul(O/k,m,v)*k;if(I=Math.max(I,C),s){let R=0;!l&&!u||l&&!u&&d?R=dr(b+z+O/k,s[1][1])*k:R=fr(b+z+(l?T:-T)/k,s[0][1])*k,I=Math.max(I,R)}if(a){let R=0;!l&&!u||l&&!u&&d?R=fr(b+O/k,a[1][1])*k:R=dr(b+(l?T:-T)/k,a[0][1])*k,I=Math.max(I,R)}}if(f){const C=ul(A*k,g,x)/k;if(L=Math.max(L,C),s){let R=0;!l&&!u||u&&!l&&d?R=dr(y+A*k+D,s[1][0])/k:R=fr(y+(u?j:-j)*k+D,s[0][0])/k,L=Math.max(L,R)}if(a){let R=0;!l&&!u||u&&!l&&d?R=fr(y+A*k,a[1][0])/k:R=dr(y+(u?j:-j)*k,a[0][0])/k,L=Math.max(L,R)}}}j=j+(j<0?L:-L),T=T+(T<0?I:-I),i&&(d?O>A*k?j=(ob(l,u)?-T:T)/k:T=(ob(l,u)?-j:j)*k:c?(j=T/k,u=l):(T=j*k,l=u));const F=l?y+T:y,M=u?b+j:b;return{width:E+(l?-T:T),height:_+(u?-j:j),x:o[0]*T*(l?-1:1)+F,y:o[1]*j*(u?-1:1)+M}}const dI={width:0,height:0,x:0,y:0},a$={...dI,pointerX:0,pointerY:0,aspectRatio:1};function l$(e){return[[0,0],[e.measured.width,e.measured.height]]}function u$(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function c$({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Vt(e);let s={controlDirection:ib("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:u,boundaries:c,keepAspectRatio:f,resizeDirection:d,onResizeStart:h,onResize:p,onResizeEnd:g,shouldResize:x}){let m={...dI},v={...a$};s={boundaries:c,resizeDirection:d,keepAspectRatio:f,controlDirection:ib(u)};let y,b=null,E=[],_,k,T,j=!1;const O=_2().on("start",A=>{const{nodeLookup:D,transform:z,snapGrid:I,snapToGrid:L,nodeOrigin:F,paneDomNode:M}=n();if(y=D.get(t),!y)return;b=(M==null?void 0:M.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:R}=Cs(A.sourceEvent,{transform:z,snapGrid:I,snapToGrid:L,containerBounds:b});m={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},v={...m,pointerX:C,pointerY:R,aspectRatio:m.width/m.height},_=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(_=D.get(y.parentId),k=_&&y.extent==="parent"?l$(_):void 0),E=[],T=void 0;for(const[S,V]of D)if(V.parentId===t&&(E.push({id:S,position:{...V.position},extent:V.extent}),V.extent==="parent"||V.expandParent)){const q=u$(V,y,V.origin??F);T?T=[[Math.min(q[0][0],T[0][0]),Math.min(q[0][1],T[0][1])],[Math.max(q[1][0],T[1][0]),Math.max(q[1][1],T[1][1])]]:T=q}h==null||h(A,{...m})}).on("drag",A=>{const{transform:D,snapGrid:z,snapToGrid:I,nodeOrigin:L}=n(),F=Cs(A.sourceEvent,{transform:D,snapGrid:z,snapToGrid:I,containerBounds:b}),M=[];if(!y)return;const{x:C,y:R,width:S,height:V}=m,q={},N=y.origin??L,{width:B,height:X,x:Y,y:Q}=s$(v,s.controlDirection,F,s.boundaries,s.keepAspectRatio,N,k,T),W=B!==S,J=X!==V,ae=Y!==C&&W,se=Q!==R&&J;if(!ae&&!se&&!W&&!J)return;if((ae||se||N[0]===1||N[1]===1)&&(q.x=ae?Y:m.x,q.y=se?Q:m.y,m.x=q.x,m.y=q.y,E.length>0)){const te=Y-C,he=Q-R;for(const le of E)le.position={x:le.position.x-te+N[0]*(B-S),y:le.position.y-he+N[1]*(X-V)},M.push(le)}if((W||J)&&(q.width=W&&(!s.resizeDirection||s.resizeDirection==="horizontal")?B:m.width,q.height=J&&(!s.resizeDirection||s.resizeDirection==="vertical")?X:m.height,m.width=q.width,m.height=q.height),_&&y.expandParent){const te=N[0]*(q.width??0);q.x&&q.x<te&&(m.x=te,v.x=v.x-(q.x-te));const he=N[1]*(q.height??0);q.y&&q.y<he&&(m.y=he,v.y=v.y-(q.y-he))}const ie=o$({width:m.width,prevWidth:S,height:m.height,prevHeight:V,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),ne={...m,direction:ie};(x==null?void 0:x(A,ne))!==!1&&(j=!0,p==null||p(A,ne),r(q,M))}).on("end",A=>{j&&(g==null||g(A,{...m}),i==null||i({...m}),j=!1)});o.call(O)}function l(){o.on(".drag",null)}return{update:a,destroy:l}}const{useDebugValue:f$}=Xn,{useSyncExternalStoreWithSelector:d$}=s2,h$=e=>e;function hI(e,t=h$,n){const r=d$(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return f$(r),r}const sb=(e,t)=>{const n=t2(e),r=(i,o=t)=>hI(n,i,o);return Object.assign(r,n),r},p$=(e,t)=>e?sb(e,t):sb;function Me(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const dc=P.createContext(null),m$=dc.Provider,pI=On.error001();function xe(e,t){const n=P.useContext(dc);if(n===null)throw new Error(pI);return hI(n,e,t)}function Re(){const e=P.useContext(dc);if(e===null)throw new Error(pI);return P.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const ab={display:"none"},g$={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},mI="react-flow__node-desc",gI="react-flow__edge-desc",y$="react-flow__aria-live",v$=e=>e.ariaLiveMessage,x$=e=>e.ariaLabelConfig;function w$({rfId:e}){const t=xe(v$);return w.jsx("div",{id:`${y$}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:g$,children:t})}function b$({rfId:e,disableKeyboardA11y:t}){const n=xe(x$);return w.jsxs(w.Fragment,{children:[w.jsx("div",{id:`${mI}-${e}`,style:ab,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),w.jsx("div",{id:`${gI}-${e}`,style:ab,children:n["edge.a11yDescription.default"]}),!t&&w.jsx(w$,{rfId:e})]})}const hc=P.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const s=`${e}`.split("-");return w.jsx("div",{className:Ge(["react-flow__panel",n,...s]),style:r,ref:o,...i,children:t})});hc.displayName="Panel";function _$({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:w.jsx(hc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:w.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const S$=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},cl=e=>e.id;function E$(e,t){return Me(e.selectedNodes.map(cl),t.selectedNodes.map(cl))&&Me(e.selectedEdges.map(cl),t.selectedEdges.map(cl))}function k$({onSelectionChange:e}){const t=Re(),{selectedNodes:n,selectedEdges:r}=xe(S$,E$);return P.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const C$=e=>!!e.onSelectionChangeHandlers;function T$({onSelectionChange:e}){const t=xe(C$);return e||t?w.jsx(k$,{onSelectionChange:e}):null}const yI=[0,0],P$={x:0,y:0,zoom:1},N$=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],lb=[...N$,"rfId"],A$=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),ub={translateExtent:na,nodeOrigin:yI,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function I$(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l}=xe(A$,Me),u=Re();P.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{c.current=ub,a()}),[]);const c=P.useRef(ub);return P.useEffect(()=>{for(const f of lb){const d=e[f],h=c.current[f];d!==h&&(typeof e[f]>"u"||(f==="nodes"?t(d):f==="edges"?n(d):f==="minZoom"?r(d):f==="maxZoom"?i(d):f==="translateExtent"?o(d):f==="nodeExtent"?s(d):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:_q(d)}):f==="fitView"?u.setState({fitViewQueued:d}):f==="fitViewOptions"?u.setState({fitViewOptions:d}):u.setState({[f]:d})))}c.current=e},lb.map(f=>e[f])),null}function cb(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function M$(e){var r;const[t,n]=P.useState(e==="system"?null:e);return P.useEffect(()=>{if(e!=="system"){n(e);return}const i=cb(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=cb())!=null&&r.matches?"dark":"light"}const fb=typeof document<"u"?document:null;function sa(e=null,t={target:fb,actInsideInputWithModifier:!0}){const[n,r]=P.useState(!1),i=P.useRef(!1),o=P.useRef(new Set([])),[s,a]=P.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return P.useEffect(()=>{const l=(t==null?void 0:t.target)??fb,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const c=h=>{var x,m;if(i.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!i.current||i.current&&!u)&&X2(h))return!1;const g=hb(h.code,a);if(o.current.add(h[g]),db(s,o.current,!1)){const v=((m=(x=h.composedPath)==null?void 0:x.call(h))==null?void 0:m[0])||h.target,y=(v==null?void 0:v.nodeName)==="BUTTON"||(v==null?void 0:v.nodeName)==="A";t.preventDefault!==!1&&(i.current||!y)&&h.preventDefault(),r(!0)}},f=h=>{const p=hb(h.code,a);db(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[p]),h.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function db(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function hb(e,t){return t.includes(e)?"code":"key"}const R$=()=>{const e=Re();return P.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=e.getState(),l=q0(t,r,i,o,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=e.getState();if(!s)return t;const{x:a,y:l}=s.getBoundingClientRect(),u={x:t.x-a,y:t.y-l},c=n.snapGrid??i,f=n.snapToGrid??o;return ka(u,r,f,c)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),s=ku(t,n);return{x:s.x+i,y:s.y+o}}}),[])};function vI(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of t){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const l of s)j$(l,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function j$(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function xI(e,t){return vI(e,t)}function wI(e,t){return vI(e,t)}function Qr(e,t){return{id:e,type:"select",selected:t}}function Gi(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const s=t.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(Qr(o.id,s)))}return r}function pb({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,s]of e.entries()){const a=t.get(s.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function mb(e){return{id:e.id,type:"remove"}}const gb=e=>dq(e),L$=e=>$2(e);function bI(e){return P.forwardRef(e)}const D$=typeof window<"u"?P.useLayoutEffect:P.useEffect;function yb(e){const[t,n]=P.useState(BigInt(0)),[r]=P.useState(()=>O$(()=>n(i=>i+BigInt(1))));return D$(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function O$(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const _I=P.createContext(null);function F$({children:e}){const t=Re(),n=P.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:f,nodeLookup:d,fitViewQueued:h,onNodesChangeMiddlewareMap:p}=t.getState();let g=l;for(const m of a)g=typeof m=="function"?m(g):m;let x=pb({items:g,lookup:d});for(const m of p.values())x=m(x);c&&u(g),x.length>0?f==null||f(x):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:v,setNodes:y}=t.getState();m&&y(v)})},[]),r=yb(n),i=P.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:f,edgeLookup:d}=t.getState();let h=l;for(const p of a)h=typeof p=="function"?p(h):p;c?u(h):f&&f(pb({items:h,lookup:d}))},[]),o=yb(i),s=P.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return w.jsx(_I.Provider,{value:s,children:e})}function z$(){const e=P.useContext(_I);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const V$=e=>!!e.panZoom;function pc(){const e=R$(),t=Re(),n=z$(),r=xe(V$),i=P.useMemo(()=>{const o=f=>t.getState().nodeLookup.get(f),s=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},l=f=>{var m,v;const{nodeLookup:d,nodeOrigin:h}=t.getState(),p=gb(f)?f:d.get(f.id),g=p.parentId?K2(p.position,p.measured,p.parentId,d,h):p.position,x={...p,position:g,width:((m=p.measured)==null?void 0:m.width)??p.width,height:((v=p.measured)==null?void 0:v.height)??p.height};return Eo(x)},u=(f,d,h={replace:!1})=>{s(p=>p.map(g=>{if(g.id===f){const x=typeof d=="function"?d(g):d;return h.replace&&gb(x)?x:{...g,...x}}return g}))},c=(f,d,h={replace:!1})=>{a(p=>p.map(g=>{if(g.id===f){const x=typeof d=="function"?d(g):d;return h.replace&&L$(x)?x:{...g,...x}}return g}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=o(f))==null?void 0:d.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:a,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:h}=t.getState(),[p,g,x]=h;return{nodes:f.map(m=>({...m})),edges:d.map(m=>({...m})),viewport:{x:p,y:g,zoom:x}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:h,edges:p,onNodesDelete:g,onEdgesDelete:x,triggerNodeChanges:m,triggerEdgeChanges:v,onDelete:y,onBeforeDelete:b}=t.getState(),{nodes:E,edges:_}=await yq({nodesToRemove:f,edgesToRemove:d,nodes:h,edges:p,onBeforeDelete:b}),k=_.length>0,T=E.length>0;if(k){const j=_.map(mb);x==null||x(_),v(j)}if(T){const j=E.map(mb);g==null||g(E),m(j)}return(T||k)&&(y==null||y({nodes:E,edges:_})),{deletedNodes:E,deletedEdges:_}},getIntersectingNodes:(f,d=!0,h)=>{const p=Gw(f),g=p?f:l(f),x=h!==void 0;return g?(h||t.getState().nodes).filter(m=>{const v=t.getState().nodeLookup.get(m.id);if(v&&!p&&(m.id===f.id||!v.internals.positionAbsolute))return!1;const y=Eo(x?m:v),b=ia(y,g);return d&&b>0||b>=y.width*y.height||b>=g.width*g.height}):[]},isNodeIntersecting:(f,d,h=!0)=>{const g=Gw(f)?f:l(f);if(!g)return!1;const x=ia(g,d);return h&&x>0||x>=d.width*d.height||x>=g.width*g.height},updateNode:u,updateNodeData:(f,d,h={replace:!1})=>{u(f,p=>{const g=typeof d=="function"?d(p):d;return h.replace?{...p,data:g}:{...p,data:{...p.data,...g}}},h)},updateEdge:c,updateEdgeData:(f,d,h={replace:!1})=>{c(f,p=>{const g=typeof d=="function"?d(p):d;return h.replace?{...p,data:g}:{...p,data:{...p.data,...g}}},h)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:h}=t.getState();return hq(f,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:f,id:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}-${f}${d?`-${d}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const d=t.getState().fitViewResolver??bq();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(h=>[...h]),d.promise}}},[]);return P.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const vb=e=>e.selected,q$=typeof window<"u"?window:void 0;function $$({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Re(),{deleteElements:r}=pc(),i=sa(e,{actInsideInputWithModifier:!1}),o=sa(t,{target:q$});P.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(vb),edges:s.filter(vb)}),n.setState({nodesSelectionActive:!1})}},[i]),P.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function B$(e){const t=Re();P.useEffect(()=>{const n=()=>{var i,o,s,a;if(!e.current||!(((o=(i=e.current).checkVisibility)==null?void 0:o.call(i))??!0))return!1;const r=$0(e.current);(r.height===0||r.width===0)&&((a=(s=t.getState()).onError)==null||a.call(s,"004",On.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const mc={position:"absolute",width:"100%",height:"100%",top:0,left:0},H$=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function U$({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=fi.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:h=!0,children:p,noWheelClassName:g,noPanClassName:x,onViewportChange:m,isControlledViewport:v,paneClickDistance:y,selectionOnDrag:b}){const E=Re(),_=P.useRef(null),{userSelectionActive:k,lib:T,connectionInProgress:j}=xe(H$,Me),O=sa(d),A=P.useRef();B$(_);const D=P.useCallback(z=>{m==null||m({x:z[0],y:z[1],zoom:z[2]}),v||E.setState({transform:z})},[m,v]);return P.useEffect(()=>{if(_.current){A.current=i$({domNode:_.current,minZoom:c,maxZoom:f,translateExtent:u,viewport:l,onDraggingChange:F=>E.setState({paneDragging:F}),onPanZoomStart:(F,M)=>{const{onViewportChangeStart:C,onMoveStart:R}=E.getState();R==null||R(F,M),C==null||C(M)},onPanZoom:(F,M)=>{const{onViewportChange:C,onMove:R}=E.getState();R==null||R(F,M),C==null||C(M)},onPanZoomEnd:(F,M)=>{const{onViewportChangeEnd:C,onMoveEnd:R}=E.getState();R==null||R(F,M),C==null||C(M)}});const{x:z,y:I,zoom:L}=A.current.getViewport();return E.setState({panZoom:A.current,transform:[z,I,L],domNode:_.current.closest(".react-flow")}),()=>{var F;(F=A.current)==null||F.destroy()}}},[]),P.useEffect(()=>{var z;(z=A.current)==null||z.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:O,preventScrolling:h,noPanClassName:x,userSelectionActive:k,noWheelClassName:g,lib:T,onTransformChange:D,connectionInProgress:j,selectionOnDrag:b,paneClickDistance:y})},[e,t,n,r,i,o,s,a,O,h,x,k,g,T,D,j,b,y]),w.jsx("div",{className:"react-flow__renderer",ref:_,style:mc,children:p})}const W$=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function G$(){const{userSelectionActive:e,userSelectionRect:t}=xe(W$,Me);return e&&t?w.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Cf=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},K$=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Y$({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ra.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:s,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:h,children:p}){const g=Re(),{userSelectionActive:x,elementsSelectable:m,dragging:v,connectionInProgress:y}=xe(K$,Me),b=m&&(e||x),E=P.useRef(null),_=P.useRef(),k=P.useRef(new Set),T=P.useRef(new Set),j=P.useRef(!1),O=C=>{if(j.current||y){j.current=!1;return}l==null||l(C),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},A=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},D=c?C=>c(C):void 0,z=C=>{j.current&&(C.stopPropagation(),j.current=!1)},I=C=>{var X,Y;const{domNode:R}=g.getState();if(_.current=R==null?void 0:R.getBoundingClientRect(),!_.current)return;const S=C.target===E.current;if(!S&&!!C.target.closest(".nokey")||!e||!(o&&S||t)||C.button!==0||!C.isPrimary)return;(Y=(X=C.target)==null?void 0:X.setPointerCapture)==null||Y.call(X,C.pointerId),j.current=!1;const{x:N,y:B}=vn(C.nativeEvent,_.current);g.setState({userSelectionRect:{width:0,height:0,startX:N,startY:B,x:N,y:B}}),S||(C.stopPropagation(),C.preventDefault())},L=C=>{const{userSelectionRect:R,transform:S,nodeLookup:V,edgeLookup:q,connectionLookup:N,triggerNodeChanges:B,triggerEdgeChanges:X,defaultEdgeOptions:Y,resetSelectedElements:Q}=g.getState();if(!_.current||!R)return;const{x:W,y:J}=vn(C.nativeEvent,_.current),{startX:ae,startY:se}=R;if(!j.current){const he=t?0:i;if(Math.hypot(W-ae,J-se)<=he)return;Q(),s==null||s(C)}j.current=!0;const ie={startX:ae,startY:se,x:W<ae?W:ae,y:J<se?J:se,width:Math.abs(W-ae),height:Math.abs(J-se)},ne=k.current,ge=T.current;k.current=new Set(V0(V,ie,S,n===ra.Partial,!0).map(he=>he.id)),T.current=new Set;const te=(Y==null?void 0:Y.selectable)??!0;for(const he of k.current){const le=N.get(he);if(le)for(const{edgeId:Ye}of le.values()){const $e=q.get(Ye);$e&&($e.selectable??te)&&T.current.add(Ye)}}if(!Kw(ne,k.current)){const he=Gi(V,k.current,!0);B(he)}if(!Kw(ge,T.current)){const he=Gi(q,T.current);X(he)}g.setState({userSelectionRect:ie,userSelectionActive:!0,nodesSelectionActive:!1})},F=C=>{var R,S;C.button===0&&((S=(R=C.target)==null?void 0:R.releasePointerCapture)==null||S.call(R,C.pointerId),!x&&C.target===E.current&&g.getState().userSelectionRect&&(O==null||O(C)),g.setState({userSelectionActive:!1,userSelectionRect:null}),j.current&&(a==null||a(C),g.setState({nodesSelectionActive:k.current.size>0})))},M=r===!0||Array.isArray(r)&&r.includes(0);return w.jsxs("div",{className:Ge(["react-flow__pane",{draggable:M,dragging:v,selection:e}]),onClick:b?void 0:Cf(O,E),onContextMenu:Cf(A,E),onWheel:Cf(D,E),onPointerEnter:b?void 0:f,onPointerMove:b?L:d,onPointerUp:b?F:void 0,onPointerDownCapture:b?I:void 0,onClickCapture:b?z:void 0,onPointerLeave:h,ref:E,style:mc,children:[p,w.jsx(G$,{})]})}function tv({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",On.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function SI({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=Re(),[l,u]=P.useState(!1),c=P.useRef();return P.useEffect(()=>{c.current=Hq({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{tv({id:f,store:a,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),P.useEffect(()=>{var f,d;if(t)(f=c.current)==null||f.destroy();else if(e.current)return(d=c.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var h;(h=c.current)==null||h.destroy()}},[n,r,t,o,e,i]),l}const X$=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function EI(){const e=Re();return P.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=e.getState(),f=new Map,d=X$(s),h=i?o[0]:5,p=i?o[1]:5,g=n.direction.x*h*n.factor,x=n.direction.y*p*n.factor;for(const[,m]of u){if(!d(m))continue;let v={x:m.internals.positionAbsolute.x+g,y:m.internals.positionAbsolute.y+x};i&&(v=Ea(v,o));const{position:y,positionAbsolute:b}=B2({nodeId:m.id,nextPosition:v,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:a});m.position=y,m.internals.positionAbsolute=b,f.set(m.id,m)}l(f)},[])}const K0=P.createContext(null),Q$=K0.Provider;K0.Consumer;const kI=()=>P.useContext(K0),Z$=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),J$=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:u}=s,c=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===_o.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:c&&u}};function eB({type:e="source",position:t=ee.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},h){var L,F;const p=s||null,g=e==="target",x=Re(),m=kI(),{connectOnClick:v,noPanClassName:y,rfId:b}=xe(Z$,Me),{connectingFrom:E,connectingTo:_,clickConnecting:k,isPossibleEndHandle:T,connectionInProcess:j,clickConnectionInProcess:O,valid:A}=xe(J$(m,p,e),Me);m||(F=(L=x.getState()).onError)==null||F.call(L,"010",On.error010());const D=M=>{const{defaultEdgeOptions:C,onConnect:R,hasDefaultEdges:S}=x.getState(),V={...C,...M};if(S){const{edges:q,setEdges:N}=x.getState();N(Pq(V,q))}R==null||R(V),a==null||a(V)},z=M=>{if(!m)return;const C=Q2(M.nativeEvent);if(i&&(C&&M.button===0||!C)){const R=x.getState();ev.onPointerDown(M.nativeEvent,{handleDomNode:M.currentTarget,autoPanOnConnect:R.autoPanOnConnect,connectionMode:R.connectionMode,connectionRadius:R.connectionRadius,domNode:R.domNode,nodeLookup:R.nodeLookup,lib:R.lib,isTarget:g,handleId:p,nodeId:m,flowId:R.rfId,panBy:R.panBy,cancelConnection:R.cancelConnection,onConnectStart:R.onConnectStart,onConnectEnd:R.onConnectEnd,updateConnection:R.updateConnection,onConnect:D,isValidConnection:n||R.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:R.autoPanSpeed,dragThreshold:R.connectionDragThreshold})}C?c==null||c(M):f==null||f(M)},I=M=>{const{onClickConnectStart:C,onClickConnectEnd:R,connectionClickStartHandle:S,connectionMode:V,isValidConnection:q,lib:N,rfId:B,nodeLookup:X,connection:Y}=x.getState();if(!m||!S&&!i)return;if(!S){C==null||C(M.nativeEvent,{nodeId:m,handleId:p,handleType:e}),x.setState({connectionClickStartHandle:{nodeId:m,type:e,id:p}});return}const Q=Y2(M.target),W=n||q,{connection:J,isValid:ae}=ev.isValid(M.nativeEvent,{handle:{nodeId:m,id:p,type:e},connectionMode:V,fromNodeId:S.nodeId,fromHandleId:S.id||null,fromType:S.type,isValidConnection:W,flowId:B,doc:Q,lib:N,nodeLookup:X});ae&&J&&D(J);const se=structuredClone(Y);delete se.inProgress,se.toPosition=se.toHandle?se.toHandle.position:null,R==null||R(M,se),x.setState({connectionClickStartHandle:null})};return w.jsx("div",{"data-handleid":p,"data-nodeid":m,"data-handlepos":t,"data-id":`${b}-${m}-${p}-${e}`,className:Ge(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,clickconnecting:k,connectingfrom:E,connectingto:_,valid:A,connectionindicator:r&&(!j||T)&&(j||O?o:i)}]),onMouseDown:z,onTouchStart:z,onClick:v?I:void 0,ref:h,...d,children:l})}const Mt=P.memo(bI(eB));function tB({data:e,isConnectable:t,sourcePosition:n=ee.Bottom}){return w.jsxs(w.Fragment,{children:[e==null?void 0:e.label,w.jsx(Mt,{type:"source",position:n,isConnectable:t})]})}function nB({data:e,isConnectable:t,targetPosition:n=ee.Top,sourcePosition:r=ee.Bottom}){return w.jsxs(w.Fragment,{children:[w.jsx(Mt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,w.jsx(Mt,{type:"source",position:r,isConnectable:t})]})}function rB(){return null}function iB({data:e,isConnectable:t,targetPosition:n=ee.Top}){return w.jsxs(w.Fragment,{children:[w.jsx(Mt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Tu={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},xb={input:tB,default:nB,output:iB,group:rB};function oB(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const sB=e=>{const{width:t,height:n,x:r,y:i}=Sa(e.nodeLookup,{filter:o=>!!o.selected});return{width:yn(t)?t:null,height:yn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function aB({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Re(),{width:i,height:o,transformString:s,userSelectionActive:a}=xe(sB,Me),l=EI(),u=P.useRef(null);if(P.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),SI({nodeRef:u}),a||!i||!o)return null;const c=e?d=>{const h=r.getState().nodes.filter(p=>p.selected);e(d,h)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(Tu,d.key)&&(d.preventDefault(),l({direction:Tu[d.key],factor:d.shiftKey?4:1}))};return w.jsx("div",{className:Ge(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:w.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:o}})})}const wb=typeof window<"u"?window:void 0,lB=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function CI({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:f,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:p,panActivationKeyCode:g,zoomActivationKeyCode:x,elementsSelectable:m,zoomOnScroll:v,zoomOnPinch:y,panOnScroll:b,panOnScrollSpeed:E,panOnScrollMode:_,zoomOnDoubleClick:k,panOnDrag:T,defaultViewport:j,translateExtent:O,minZoom:A,maxZoom:D,preventScrolling:z,onSelectionContextMenu:I,noWheelClassName:L,noPanClassName:F,disableKeyboardA11y:M,onViewportChange:C,isControlledViewport:R}){const{nodesSelectionActive:S,userSelectionActive:V}=xe(lB,Me),q=sa(u,{target:wb}),N=sa(g,{target:wb}),B=N||T,X=N||b,Y=c&&B!==!0,Q=q||V||Y;return $$({deleteKeyCode:l,multiSelectionKeyCode:p}),w.jsx(U$,{onPaneContextMenu:o,elementsSelectable:m,zoomOnScroll:v,zoomOnPinch:y,panOnScroll:X,panOnScrollSpeed:E,panOnScrollMode:_,zoomOnDoubleClick:k,panOnDrag:!q&&B,defaultViewport:j,translateExtent:O,minZoom:A,maxZoom:D,zoomActivationKeyCode:x,preventScrolling:z,noWheelClassName:L,noPanClassName:F,onViewportChange:C,isControlledViewport:R,paneClickDistance:a,selectionOnDrag:Y,children:w.jsxs(Y$,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:B,isSelecting:!!Q,selectionMode:f,selectionKeyPressed:q,paneClickDistance:a,selectionOnDrag:Y,children:[e,S&&w.jsx(aB,{onSelectionContextMenu:I,noPanClassName:F,disableKeyboardA11y:M})]})})}CI.displayName="FlowRenderer";const uB=P.memo(CI),cB=e=>t=>e?V0(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function fB(e){return xe(P.useCallback(cB(e),[e]),Me)}const dB=e=>e.updateNodeInternals;function hB(){const e=xe(dB),[t]=P.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return P.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function pB({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Re(),o=P.useRef(null),s=P.useRef(null),a=P.useRef(e.sourcePosition),l=P.useRef(e.targetPosition),u=P.useRef(t),c=n&&!!e.internals.handleBounds;return P.useEffect(()=>{o.current&&!e.hidden&&(!c||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[c,e.hidden]),P.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),P.useEffect(()=>{if(o.current){const f=u.current!==t,d=a.current!==e.sourcePosition,h=l.current!==e.targetPosition;(f||d||h)&&(u.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function mB({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:f,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:p,rfId:g,nodeTypes:x,nodeClickDistance:m,onError:v}){const{node:y,internals:b,isParent:E}=xe(W=>{const J=W.nodeLookup.get(e),ae=W.parentLookup.has(e);return{node:J,internals:J.internals,isParent:ae}},Me);let _=y.type||"default",k=(x==null?void 0:x[_])||xb[_];k===void 0&&(v==null||v("003",On.error003(_)),_="default",k=(x==null?void 0:x.default)||xb.default);const T=!!(y.draggable||a&&typeof y.draggable>"u"),j=!!(y.selectable||l&&typeof y.selectable>"u"),O=!!(y.connectable||u&&typeof y.connectable>"u"),A=!!(y.focusable||c&&typeof y.focusable>"u"),D=Re(),z=G2(y),I=pB({node:y,nodeType:_,hasDimensions:z,resizeObserver:f}),L=SI({nodeRef:I,disabled:y.hidden||!T,noDragClassName:d,handleSelector:y.dragHandle,nodeId:e,isSelectable:j,nodeClickDistance:m}),F=EI();if(y.hidden)return null;const M=ar(y),C=oB(y),R=j||T||t||n||r||i,S=n?W=>n(W,{...b.userNode}):void 0,V=r?W=>r(W,{...b.userNode}):void 0,q=i?W=>i(W,{...b.userNode}):void 0,N=o?W=>o(W,{...b.userNode}):void 0,B=s?W=>s(W,{...b.userNode}):void 0,X=W=>{const{selectNodesOnDrag:J,nodeDragThreshold:ae}=D.getState();j&&(!J||!T||ae>0)&&tv({id:e,store:D,nodeRef:I}),t&&t(W,{...b.userNode})},Y=W=>{if(!(X2(W.nativeEvent)||p)){if(F2.includes(W.key)&&j){const J=W.key==="Escape";tv({id:e,store:D,unselect:J,nodeRef:I})}else if(T&&y.selected&&Object.prototype.hasOwnProperty.call(Tu,W.key)){W.preventDefault();const{ariaLabelConfig:J}=D.getState();D.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),F({direction:Tu[W.key],factor:W.shiftKey?4:1})}}},Q=()=>{var ge;if(p||!((ge=I.current)!=null&&ge.matches(":focus-visible")))return;const{transform:W,width:J,height:ae,autoPanOnNodeFocus:se,setCenter:ie}=D.getState();if(!se)return;V0(new Map([[e,y]]),{x:0,y:0,width:J,height:ae},W,!0).length>0||ie(y.position.x+M.width/2,y.position.y+M.height/2,{zoom:W[2]})};return w.jsx("div",{className:Ge(["react-flow__node",`react-flow__node-${_}`,{[h]:T},y.className,{selected:y.selected,selectable:j,parent:E,draggable:T,dragging:L}]),ref:I,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:R?"all":"none",visibility:z?"visible":"hidden",...y.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:S,onMouseMove:V,onMouseLeave:q,onContextMenu:N,onClick:X,onDoubleClick:B,onKeyDown:A?Y:void 0,tabIndex:A?0:void 0,onFocus:A?Q:void 0,role:y.ariaRole??(A?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${mI}-${g}`,"aria-label":y.ariaLabel,...y.domAttributes,children:w.jsx(Q$,{value:e,children:w.jsx(k,{id:e,data:y.data,type:_,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:y.selected??!1,selectable:j,draggable:T,deletable:y.deletable??!0,isConnectable:O,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:L,dragHandle:y.dragHandle,zIndex:b.z,parentId:y.parentId,...M})})})}var gB=P.memo(mB);const yB=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function TI(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=xe(yB,Me),s=fB(e.onlyRenderVisibleElements),a=hB();return w.jsx("div",{className:"react-flow__nodes",style:mc,children:s.map(l=>w.jsx(gB,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}TI.displayName="NodeRenderer";const vB=P.memo(TI);function xB(e){return xe(P.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&kq({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Me)}const wB=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return w.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},bB=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return w.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},bb={[Su.Arrow]:wB,[Su.ArrowClosed]:bB};function _B(e){const t=Re();return P.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(bb,e)?bb[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",On.error009(e)),null)},[e])}const SB=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=_B(t);return l?w.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:w.jsx(l,{color:n,strokeWidth:s})}):null},PI=({defaultColor:e,rfId:t})=>{const n=xe(o=>o.edges),r=xe(o=>o.defaultEdgeOptions),i=P.useMemo(()=>Rq(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?w.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:w.jsx("defs",{children:i.map(o=>w.jsx(SB,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};PI.displayName="MarkerDefinitions";var EB=P.memo(PI);function NI({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c}){const[f,d]=P.useState({x:1,y:0,width:0,height:0}),h=Ge(["react-flow__edge-textwrapper",u]),p=P.useRef(null);return P.useEffect(()=>{if(p.current){const g=p.current.getBBox();d({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),n?w.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...c,children:[i&&w.jsx("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),w.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:r,children:n}),l]}):null}NI.displayName="EdgeText";const kB=P.memo(NI);function Ca({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return w.jsxs(w.Fragment,{children:[w.jsx("path",{...c,d:e,fill:"none",className:Ge(["react-flow__edge-path",c.className])}),u?w.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&yn(t)&&yn(n)?w.jsx(kB,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function _b({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===ee.Left||e===ee.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function AI({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top}){const[s,a]=_b({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=_b({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,d,h]=Z2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${a} ${l},${u} ${r},${i}`,c,f,d,h]}function II(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:x,interactionWidth:m})=>{const[v,y,b]=AI({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),E=e.isInternal?void 0:t;return w.jsx(Ca,{id:E,path:v,labelX:y,labelY:b,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:x,interactionWidth:m})})}const CB=II({isInternal:!1}),MI=II({isInternal:!0});CB.displayName="SimpleBezierEdge";MI.displayName="SimpleBezierEdgeInternal";function RI(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:h=ee.Bottom,targetPosition:p=ee.Top,markerEnd:g,markerStart:x,pathOptions:m,interactionWidth:v})=>{const[y,b,E]=Cu({sourceX:n,sourceY:r,sourcePosition:h,targetX:i,targetY:o,targetPosition:p,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),_=e.isInternal?void 0:t;return w.jsx(Ca,{id:_,path:y,labelX:b,labelY:E,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:x,interactionWidth:v})})}const jI=RI({isInternal:!1}),LI=RI({isInternal:!0});jI.displayName="SmoothStepEdge";LI.displayName="SmoothStepEdgeInternal";function DI(e){return P.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return w.jsx(jI,{...n,id:r,pathOptions:P.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const TB=DI({isInternal:!1}),OI=DI({isInternal:!0});TB.displayName="StepEdge";OI.displayName="StepEdgeInternal";function FI(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[x,m,v]=tI({sourceX:n,sourceY:r,targetX:i,targetY:o}),y=e.isInternal?void 0:t;return w.jsx(Ca,{id:y,path:x,labelX:m,labelY:v,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})})}const PB=FI({isInternal:!1}),zI=FI({isInternal:!0});PB.displayName="StraightEdge";zI.displayName="StraightEdgeInternal";function VI(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=ee.Bottom,targetPosition:a=ee.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:x,pathOptions:m,interactionWidth:v})=>{const[y,b,E]=J2({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:m==null?void 0:m.curvature}),_=e.isInternal?void 0:t;return w.jsx(Ca,{id:_,path:y,labelX:b,labelY:E,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:x,interactionWidth:v})})}const NB=VI({isInternal:!1}),qI=VI({isInternal:!0});NB.displayName="BezierEdge";qI.displayName="BezierEdgeInternal";const Sb={default:qI,straight:zI,step:OI,smoothstep:LI,simplebezier:MI},Eb={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},AB=(e,t,n)=>n===ee.Left?e-t:n===ee.Right?e+t:e,IB=(e,t,n)=>n===ee.Top?e-t:n===ee.Bottom?e+t:e,kb="react-flow__edgeupdater";function Cb({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return w.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Ge([kb,`${kb}-${a}`]),cx:AB(t,r,e),cy:IB(n,r,e),r,stroke:"transparent",fill:"transparent"})}function MB({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:f,setReconnecting:d,setUpdateHover:h}){const p=Re(),g=(b,E)=>{if(b.button!==0)return;const{autoPanOnConnect:_,domNode:k,isValidConnection:T,connectionMode:j,connectionRadius:O,lib:A,onConnectStart:D,onConnectEnd:z,cancelConnection:I,nodeLookup:L,rfId:F,panBy:M,updateConnection:C}=p.getState(),R=E.type==="target",S=(N,B)=>{d(!1),f==null||f(N,n,E.type,B)},V=N=>u==null?void 0:u(n,N),q=(N,B)=>{d(!0),c==null||c(b,n,E.type),D==null||D(N,B)};ev.onPointerDown(b.nativeEvent,{autoPanOnConnect:_,connectionMode:j,connectionRadius:O,domNode:k,handleId:E.id,nodeId:E.nodeId,nodeLookup:L,isTarget:R,edgeUpdaterType:E.type,lib:A,flowId:F,cancelConnection:I,panBy:M,isValidConnection:T,onConnect:V,onConnectStart:q,onConnectEnd:z,onReconnectEnd:S,updateConnection:C,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:b.currentTarget})},x=b=>g(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=b=>g(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),v=()=>h(!0),y=()=>h(!1);return w.jsxs(w.Fragment,{children:[(e===!0||e==="source")&&w.jsx(Cb,{position:a,centerX:r,centerY:i,radius:t,onMouseDown:x,onMouseEnter:v,onMouseOut:y,type:"source"}),(e===!0||e==="target")&&w.jsx(Cb,{position:l,centerX:o,centerY:s,radius:t,onMouseDown:m,onMouseEnter:v,onMouseOut:y,type:"target"})]})}function RB({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,rfId:p,edgeTypes:g,noPanClassName:x,onError:m,disableKeyboardA11y:v}){let y=xe(ie=>ie.edgeLookup.get(e));const b=xe(ie=>ie.defaultEdgeOptions);y=b?{...b,...y}:y;let E=y.type||"default",_=(g==null?void 0:g[E])||Sb[E];_===void 0&&(m==null||m("011",On.error011(E)),E="default",_=(g==null?void 0:g.default)||Sb.default);const k=!!(y.focusable||t&&typeof y.focusable>"u"),T=typeof f<"u"&&(y.reconnectable||n&&typeof y.reconnectable>"u"),j=!!(y.selectable||r&&typeof y.selectable>"u"),O=P.useRef(null),[A,D]=P.useState(!1),[z,I]=P.useState(!1),L=Re(),{zIndex:F,sourceX:M,sourceY:C,targetX:R,targetY:S,sourcePosition:V,targetPosition:q}=xe(P.useCallback(ie=>{const ne=ie.nodeLookup.get(y.source),ge=ie.nodeLookup.get(y.target);if(!ne||!ge)return{zIndex:y.zIndex,...Eb};const te=Mq({id:e,sourceNode:ne,targetNode:ge,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:ie.connectionMode,onError:m});return{zIndex:Eq({selected:y.selected,zIndex:y.zIndex,sourceNode:ne,targetNode:ge,elevateOnSelect:ie.elevateEdgesOnSelect,zIndexMode:ie.zIndexMode}),...te||Eb}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),Me),N=P.useMemo(()=>y.markerStart?`url('#${Zy(y.markerStart,p)}')`:void 0,[y.markerStart,p]),B=P.useMemo(()=>y.markerEnd?`url('#${Zy(y.markerEnd,p)}')`:void 0,[y.markerEnd,p]);if(y.hidden||M===null||C===null||R===null||S===null)return null;const X=ie=>{var he;const{addSelectedEdges:ne,unselectNodesAndEdges:ge,multiSelectionActive:te}=L.getState();j&&(L.setState({nodesSelectionActive:!1}),y.selected&&te?(ge({nodes:[],edges:[y]}),(he=O.current)==null||he.blur()):ne([e])),i&&i(ie,y)},Y=o?ie=>{o(ie,{...y})}:void 0,Q=s?ie=>{s(ie,{...y})}:void 0,W=a?ie=>{a(ie,{...y})}:void 0,J=l?ie=>{l(ie,{...y})}:void 0,ae=u?ie=>{u(ie,{...y})}:void 0,se=ie=>{var ne;if(!v&&F2.includes(ie.key)&&j){const{unselectNodesAndEdges:ge,addSelectedEdges:te}=L.getState();ie.key==="Escape"?((ne=O.current)==null||ne.blur(),ge({edges:[y]})):te([e])}};return w.jsx("svg",{style:{zIndex:F},children:w.jsxs("g",{className:Ge(["react-flow__edge",`react-flow__edge-${E}`,y.className,x,{selected:y.selected,animated:y.animated,inactive:!j&&!i,updating:A,selectable:j}]),onClick:X,onDoubleClick:Y,onContextMenu:Q,onMouseEnter:W,onMouseMove:J,onMouseLeave:ae,onKeyDown:k?se:void 0,tabIndex:k?0:void 0,role:y.ariaRole??(k?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":y.ariaLabel===null?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":k?`${gI}-${p}`:void 0,ref:O,...y.domAttributes,children:[!z&&w.jsx(_,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:j,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:M,sourceY:C,targetX:R,targetY:S,sourcePosition:V,targetPosition:q,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:N,markerEnd:B,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),T&&w.jsx(MB,{edge:y,isReconnectable:T,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,sourceX:M,sourceY:C,targetX:R,targetY:S,sourcePosition:V,targetPosition:q,setUpdateHover:D,setReconnecting:I})]})})}var jB=P.memo(RB);const LB=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function $I({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,disableKeyboardA11y:g}){const{edgesFocusable:x,edgesReconnectable:m,elementsSelectable:v,onError:y}=xe(LB,Me),b=xB(t);return w.jsxs("div",{className:"react-flow__edges",children:[w.jsx(EB,{defaultColor:e,rfId:n}),b.map(E=>w.jsx(jB,{id:E,edgesFocusable:x,edgesReconnectable:m,elementsSelectable:v,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:f,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,rfId:n,onError:y,edgeTypes:r,disableKeyboardA11y:g},E))]})}$I.displayName="EdgeRenderer";const DB=P.memo($I),OB=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function FB({children:e}){const t=xe(OB);return w.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function zB(e){const t=pc(),n=P.useRef(!1);P.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const VB=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function qB(e){const t=xe(VB),n=Re();return P.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function $B(e){return e.connection.inProgress?{...e.connection,to:ka(e.connection.to,e.transform)}:{...e.connection}}function BB(e){return $B}function HB(e){const t=BB();return xe(t,Me)}const UB=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function WB({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=xe(UB,Me);return!(o&&i&&l)?null:w.jsx("svg",{style:e,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:w.jsx("g",{className:Ge(["react-flow__connection",q2(a)]),children:w.jsx(BI,{style:t,type:n,CustomComponent:r,isValid:a})})})}const BI=({style:e,type:t=wr.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:u,toNode:c,toHandle:f,toPosition:d,pointer:h}=HB();if(!i)return;if(n)return w.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:d,connectionStatus:q2(r),toNode:c,toHandle:f,pointer:h});let p="";const g={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case wr.Bezier:[p]=J2(g);break;case wr.SimpleBezier:[p]=AI(g);break;case wr.Step:[p]=Cu({...g,borderRadius:0});break;case wr.SmoothStep:[p]=Cu(g);break;default:[p]=tI(g)}return w.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};BI.displayName="ConnectionLine";const GB={};function Tb(e=GB){P.useRef(e),Re(),P.useEffect(()=>{},[e])}function KB(){Re(),P.useRef(!1),P.useEffect(()=>{},[])}function HI({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:h,connectionLineType:p,connectionLineStyle:g,connectionLineComponent:x,connectionLineContainerStyle:m,selectionKeyCode:v,selectionOnDrag:y,selectionMode:b,multiSelectionKeyCode:E,panActivationKeyCode:_,zoomActivationKeyCode:k,deleteKeyCode:T,onlyRenderVisibleElements:j,elementsSelectable:O,defaultViewport:A,translateExtent:D,minZoom:z,maxZoom:I,preventScrolling:L,defaultMarkerColor:F,zoomOnScroll:M,zoomOnPinch:C,panOnScroll:R,panOnScrollSpeed:S,panOnScrollMode:V,zoomOnDoubleClick:q,panOnDrag:N,onPaneClick:B,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:Q,onPaneScroll:W,onPaneContextMenu:J,paneClickDistance:ae,nodeClickDistance:se,onEdgeContextMenu:ie,onEdgeMouseEnter:ne,onEdgeMouseMove:ge,onEdgeMouseLeave:te,reconnectRadius:he,onReconnect:le,onReconnectStart:Ye,onReconnectEnd:$e,noDragClassName:wt,noWheelClassName:bt,noPanClassName:et,disableKeyboardA11y:Ne,nodeExtent:Kt,rfId:_t,viewport:$,onViewportChange:G}){return Tb(e),Tb(t),KB(),zB(n),qB($),w.jsx(uB,{onPaneClick:B,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:Q,onPaneContextMenu:J,onPaneScroll:W,paneClickDistance:ae,deleteKeyCode:T,selectionKeyCode:v,selectionOnDrag:y,selectionMode:b,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:E,panActivationKeyCode:_,zoomActivationKeyCode:k,elementsSelectable:O,zoomOnScroll:M,zoomOnPinch:C,zoomOnDoubleClick:q,panOnScroll:R,panOnScrollSpeed:S,panOnScrollMode:V,panOnDrag:N,defaultViewport:A,translateExtent:D,minZoom:z,maxZoom:I,onSelectionContextMenu:f,preventScrolling:L,noDragClassName:wt,noWheelClassName:bt,noPanClassName:et,disableKeyboardA11y:Ne,onViewportChange:G,isControlledViewport:!!$,children:w.jsxs(FB,{children:[w.jsx(DB,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:le,onReconnectStart:Ye,onReconnectEnd:$e,onlyRenderVisibleElements:j,onEdgeContextMenu:ie,onEdgeMouseEnter:ne,onEdgeMouseMove:ge,onEdgeMouseLeave:te,reconnectRadius:he,defaultMarkerColor:F,noPanClassName:et,disableKeyboardA11y:Ne,rfId:_t}),w.jsx(WB,{style:g,type:p,component:x,containerStyle:m}),w.jsx("div",{className:"react-flow__edgelabel-renderer"}),w.jsx(vB,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:se,onlyRenderVisibleElements:j,noPanClassName:et,noDragClassName:wt,disableKeyboardA11y:Ne,nodeExtent:Kt,rfId:_t}),w.jsx("div",{className:"react-flow__viewport-portal"})]})})}HI.displayName="GraphView";const YB=P.memo(HI),Pb=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:f,zIndexMode:d="basic"}={})=>{const h=new Map,p=new Map,g=new Map,x=new Map,m=r??t??[],v=n??e??[],y=c??[0,0],b=f??na;iI(g,x,m);const E=Jy(v,h,p,{nodeOrigin:y,nodeExtent:b,zIndexMode:d});let _=[0,0,1];if(s&&i&&o){const k=Sa(h,{filter:A=>!!((A.width||A.initialWidth)&&(A.height||A.initialHeight))}),{x:T,y:j,zoom:O}=q0(k,i,o,l,u,(a==null?void 0:a.padding)??.1);_=[T,j,O]}return{rfId:"1",width:i??0,height:o??0,transform:_,nodes:v,nodesInitialized:E,nodeLookup:h,parentLookup:p,edges:m,edgeLookup:x,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:na,nodeExtent:b,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:_o.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...V2},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:vq,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:z2,zIndexMode:d,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},XB=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f,zIndexMode:d})=>p$((h,p)=>{async function g(){const{nodeLookup:x,panZoom:m,fitViewOptions:v,fitViewResolver:y,width:b,height:E,minZoom:_,maxZoom:k}=p();m&&(await gq({nodes:x,width:b,height:E,panZoom:m,minZoom:_,maxZoom:k},v),y==null||y.resolve(!0),h({fitViewResolver:null}))}return{...Pb({nodes:e,edges:t,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:d}),setNodes:x=>{const{nodeLookup:m,parentLookup:v,nodeOrigin:y,elevateNodesOnSelect:b,fitViewQueued:E,zIndexMode:_}=p(),k=Jy(x,m,v,{nodeOrigin:y,nodeExtent:f,elevateNodesOnSelect:b,checkEquality:!0,zIndexMode:_});E&&k?(g(),h({nodes:x,nodesInitialized:k,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:x,nodesInitialized:k})},setEdges:x=>{const{connectionLookup:m,edgeLookup:v}=p();iI(m,v,x),h({edges:x})},setDefaultNodesAndEdges:(x,m)=>{if(x){const{setNodes:v}=p();v(x),h({hasDefaultNodes:!0})}if(m){const{setEdges:v}=p();v(m),h({hasDefaultEdges:!0})}},updateNodeInternals:x=>{const{triggerNodeChanges:m,nodeLookup:v,parentLookup:y,domNode:b,nodeOrigin:E,nodeExtent:_,debug:k,fitViewQueued:T,zIndexMode:j}=p(),{changes:O,updatedInternals:A}=Vq(x,v,y,b,E,_,j);A&&(Dq(v,y,{nodeOrigin:E,nodeExtent:_,zIndexMode:j}),T?(g(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(O==null?void 0:O.length)>0&&(k&&console.log("React Flow: trigger node changes",O),m==null||m(O)))},updateNodePositions:(x,m=!1)=>{const v=[];let y=[];const{nodeLookup:b,triggerNodeChanges:E,connection:_,updateConnection:k,onNodesChangeMiddlewareMap:T}=p();for(const[j,O]of x){const A=b.get(j),D=!!(A!=null&&A.expandParent&&(A!=null&&A.parentId)&&(O!=null&&O.position)),z={id:j,type:"position",position:D?{x:Math.max(0,O.position.x),y:Math.max(0,O.position.y)}:O.position,dragging:m};if(A&&_.inProgress&&_.fromNode.id===A.id){const I=_i(A,_.fromHandle,ee.Left,!0);k({..._,from:I})}D&&A.parentId&&v.push({id:j,parentId:A.parentId,rect:{...O.internals.positionAbsolute,width:O.measured.width??0,height:O.measured.height??0}}),y.push(z)}if(v.length>0){const{parentLookup:j,nodeOrigin:O}=p(),A=G0(v,b,j,O);y.push(...A)}for(const j of T.values())y=j(y);E(y)},triggerNodeChanges:x=>{const{onNodesChange:m,setNodes:v,nodes:y,hasDefaultNodes:b,debug:E}=p();if(x!=null&&x.length){if(b){const _=xI(x,y);v(_)}E&&console.log("React Flow: trigger node changes",x),m==null||m(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:m,setEdges:v,edges:y,hasDefaultEdges:b,debug:E}=p();if(x!=null&&x.length){if(b){const _=wI(x,y);v(_)}E&&console.log("React Flow: trigger edge changes",x),m==null||m(x)}},addSelectedNodes:x=>{const{multiSelectionActive:m,edgeLookup:v,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:E}=p();if(m){const _=x.map(k=>Qr(k,!0));b(_);return}b(Gi(y,new Set([...x]),!0)),E(Gi(v))},addSelectedEdges:x=>{const{multiSelectionActive:m,edgeLookup:v,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:E}=p();if(m){const _=x.map(k=>Qr(k,!0));E(_);return}E(Gi(v,new Set([...x]))),b(Gi(y,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:m}={})=>{const{edges:v,nodes:y,nodeLookup:b,triggerNodeChanges:E,triggerEdgeChanges:_}=p(),k=x||y,T=m||v,j=k.map(A=>{const D=b.get(A.id);return D&&(D.selected=!1),Qr(A.id,!1)}),O=T.map(A=>Qr(A.id,!1));E(j),_(O)},setMinZoom:x=>{const{panZoom:m,maxZoom:v}=p();m==null||m.setScaleExtent([x,v]),h({minZoom:x})},setMaxZoom:x=>{const{panZoom:m,minZoom:v}=p();m==null||m.setScaleExtent([v,x]),h({maxZoom:x})},setTranslateExtent:x=>{var m;(m=p().panZoom)==null||m.setTranslateExtent(x),h({translateExtent:x})},resetSelectedElements:()=>{const{edges:x,nodes:m,triggerNodeChanges:v,triggerEdgeChanges:y,elementsSelectable:b}=p();if(!b)return;const E=m.reduce((k,T)=>T.selected?[...k,Qr(T.id,!1)]:k,[]),_=x.reduce((k,T)=>T.selected?[...k,Qr(T.id,!1)]:k,[]);v(E),y(_)},setNodeExtent:x=>{const{nodes:m,nodeLookup:v,parentLookup:y,nodeOrigin:b,elevateNodesOnSelect:E,nodeExtent:_,zIndexMode:k}=p();x[0][0]===_[0][0]&&x[0][1]===_[0][1]&&x[1][0]===_[1][0]&&x[1][1]===_[1][1]||(Jy(m,v,y,{nodeOrigin:b,nodeExtent:x,elevateNodesOnSelect:E,checkEquality:!1,zIndexMode:k}),h({nodeExtent:x}))},panBy:x=>{const{transform:m,width:v,height:y,panZoom:b,translateExtent:E}=p();return qq({delta:x,panZoom:b,transform:m,translateExtent:E,width:v,height:y})},setCenter:async(x,m,v)=>{const{width:y,height:b,maxZoom:E,panZoom:_}=p();if(!_)return Promise.resolve(!1);const k=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:E;return await _.setViewport({x:y/2-x*k,y:b/2-m*k,zoom:k},{duration:v==null?void 0:v.duration,ease:v==null?void 0:v.ease,interpolate:v==null?void 0:v.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...V2}})},updateConnection:x=>{h({connection:x})},reset:()=>h({...Pb()})}},Object.is);function QB({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:f,zIndexMode:d,children:h}){const[p]=P.useState(()=>XB({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:s,maxZoom:a,fitViewOptions:l,nodeOrigin:c,nodeExtent:f,zIndexMode:d}));return w.jsx(m$,{value:p,children:w.jsx(F$,{children:h})})}function ZB({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:h}){return P.useContext(dc)?w.jsx(w.Fragment,{children:e}):w.jsx(QB,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:h,children:e})}const JB={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function e5({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:x,onClickConnectEnd:m,onNodeMouseEnter:v,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:E,onNodeDoubleClick:_,onNodeDragStart:k,onNodeDrag:T,onNodeDragStop:j,onNodesDelete:O,onEdgesDelete:A,onDelete:D,onSelectionChange:z,onSelectionDragStart:I,onSelectionDrag:L,onSelectionDragStop:F,onSelectionContextMenu:M,onSelectionStart:C,onSelectionEnd:R,onBeforeDelete:S,connectionMode:V,connectionLineType:q=wr.Bezier,connectionLineStyle:N,connectionLineComponent:B,connectionLineContainerStyle:X,deleteKeyCode:Y="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:W=!1,selectionMode:J=ra.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:se=oa()?"Meta":"Control",zoomActivationKeyCode:ie=oa()?"Meta":"Control",snapToGrid:ne,snapGrid:ge,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:he,nodesDraggable:le,autoPanOnNodeFocus:Ye,nodesConnectable:$e,nodesFocusable:wt,nodeOrigin:bt=yI,edgesFocusable:et,edgesReconnectable:Ne,elementsSelectable:Kt=!0,defaultViewport:_t=P$,minZoom:$=.5,maxZoom:G=2,translateExtent:re=na,preventScrolling:de=!0,nodeExtent:ye,defaultMarkerColor:tt="#b1b1b7",zoomOnScroll:pt=!0,zoomOnPinch:K=!0,panOnScroll:oe=!1,panOnScrollSpeed:Le=.5,panOnScrollMode:Xe=fi.Free,zoomOnDoubleClick:ln=!0,panOnDrag:Lt=!0,onPaneClick:VL,onPaneMouseEnter:qL,onPaneMouseMove:$L,onPaneMouseLeave:BL,onPaneScroll:HL,onPaneContextMenu:UL,paneClickDistance:WL=1,nodeClickDistance:GL=0,children:KL,onReconnect:YL,onReconnectStart:XL,onReconnectEnd:QL,onEdgeContextMenu:ZL,onEdgeDoubleClick:JL,onEdgeMouseEnter:eD,onEdgeMouseMove:tD,onEdgeMouseLeave:nD,reconnectRadius:rD=10,onNodesChange:iD,onEdgesChange:oD,noDragClassName:sD="nodrag",noWheelClassName:aD="nowheel",noPanClassName:u1="nopan",fitView:c1,fitViewOptions:f1,connectOnClick:lD,attributionPosition:uD,proOptions:cD,defaultEdgeOptions:fD,elevateNodesOnSelect:dD=!0,elevateEdgesOnSelect:hD=!1,disableKeyboardA11y:d1=!1,autoPanOnConnect:pD,autoPanOnNodeDrag:mD,autoPanSpeed:gD,connectionRadius:yD,isValidConnection:vD,onError:xD,style:wD,id:h1,nodeDragThreshold:bD,connectionDragThreshold:_D,viewport:SD,onViewportChange:ED,width:kD,height:CD,colorMode:TD="light",debug:PD,onScroll:za,ariaLabelConfig:ND,zIndexMode:p1="basic",...AD},ID){const Hc=h1||"1",MD=M$(TD),RD=P.useCallback(m1=>{m1.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),za==null||za(m1)},[za]);return w.jsx("div",{"data-testid":"rf__wrapper",...AD,onScroll:RD,style:{...wD,...JB},ref:ID,className:Ge(["react-flow",i,MD]),id:h1,role:"application",children:w.jsxs(ZB,{nodes:e,edges:t,width:kD,height:CD,fitView:c1,fitViewOptions:f1,minZoom:$,maxZoom:G,nodeOrigin:bt,nodeExtent:ye,zIndexMode:p1,children:[w.jsx(YB,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:v,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:E,onNodeDoubleClick:_,nodeTypes:o,edgeTypes:s,connectionLineType:q,connectionLineStyle:N,connectionLineComponent:B,connectionLineContainerStyle:X,selectionKeyCode:Q,selectionOnDrag:W,selectionMode:J,deleteKeyCode:Y,multiSelectionKeyCode:se,panActivationKeyCode:ae,zoomActivationKeyCode:ie,onlyRenderVisibleElements:te,defaultViewport:_t,translateExtent:re,minZoom:$,maxZoom:G,preventScrolling:de,zoomOnScroll:pt,zoomOnPinch:K,zoomOnDoubleClick:ln,panOnScroll:oe,panOnScrollSpeed:Le,panOnScrollMode:Xe,panOnDrag:Lt,onPaneClick:VL,onPaneMouseEnter:qL,onPaneMouseMove:$L,onPaneMouseLeave:BL,onPaneScroll:HL,onPaneContextMenu:UL,paneClickDistance:WL,nodeClickDistance:GL,onSelectionContextMenu:M,onSelectionStart:C,onSelectionEnd:R,onReconnect:YL,onReconnectStart:XL,onReconnectEnd:QL,onEdgeContextMenu:ZL,onEdgeDoubleClick:JL,onEdgeMouseEnter:eD,onEdgeMouseMove:tD,onEdgeMouseLeave:nD,reconnectRadius:rD,defaultMarkerColor:tt,noDragClassName:sD,noWheelClassName:aD,noPanClassName:u1,rfId:Hc,disableKeyboardA11y:d1,nodeExtent:ye,viewport:SD,onViewportChange:ED}),w.jsx(I$,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:x,onClickConnectEnd:m,nodesDraggable:le,autoPanOnNodeFocus:Ye,nodesConnectable:$e,nodesFocusable:wt,edgesFocusable:et,edgesReconnectable:Ne,elementsSelectable:Kt,elevateNodesOnSelect:dD,elevateEdgesOnSelect:hD,minZoom:$,maxZoom:G,nodeExtent:ye,onNodesChange:iD,onEdgesChange:oD,snapToGrid:ne,snapGrid:ge,connectionMode:V,translateExtent:re,connectOnClick:lD,defaultEdgeOptions:fD,fitView:c1,fitViewOptions:f1,onNodesDelete:O,onEdgesDelete:A,onDelete:D,onNodeDragStart:k,onNodeDrag:T,onNodeDragStop:j,onSelectionDrag:L,onSelectionDragStart:I,onSelectionDragStop:F,onMove:c,onMoveStart:f,onMoveEnd:d,noPanClassName:u1,nodeOrigin:bt,rfId:Hc,autoPanOnConnect:pD,autoPanOnNodeDrag:mD,autoPanSpeed:gD,onError:xD,connectionRadius:yD,isValidConnection:vD,selectNodesOnDrag:he,nodeDragThreshold:bD,connectionDragThreshold:_D,onBeforeDelete:S,debug:PD,ariaLabelConfig:ND,zIndexMode:p1}),w.jsx(T$,{onSelectionChange:z}),KL,w.jsx(_$,{proOptions:cD,position:uD}),w.jsx(b$,{rfId:Hc,disableKeyboardA11y:d1})]})})}var t5=bI(e5);function n5(e){const[t,n]=P.useState(e),r=P.useCallback(i=>n(o=>xI(i,o)),[]);return[t,n,r]}function r5(e){const[t,n]=P.useState(e),r=P.useCallback(i=>n(o=>wI(i,o)),[]);return[t,n,r]}function i5({dimensions:e,lineWidth:t,variant:n,className:r}){return w.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ge(["react-flow__background-pattern",n,r])})}function o5({radius:e,className:t}){return w.jsx("circle",{cx:e,cy:e,r:e,className:Ge(["react-flow__background-pattern","dots",t])})}var Rr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Rr||(Rr={}));const s5={[Rr.Dots]:1,[Rr.Lines]:1,[Rr.Cross]:6},a5=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function UI({id:e,variant:t=Rr.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:u,patternClassName:c}){const f=P.useRef(null),{transform:d,patternId:h}=xe(a5,Me),p=r||s5[t],g=t===Rr.Dots,x=t===Rr.Cross,m=Array.isArray(n)?n:[n,n],v=[m[0]*d[2]||1,m[1]*d[2]||1],y=p*d[2],b=Array.isArray(o)?o:[o,o],E=x?[y,y]:v,_=[b[0]*d[2]||1+E[0]/2,b[1]*d[2]||1+E[1]/2],k=`${h}${e||""}`;return w.jsxs("svg",{className:Ge(["react-flow__background",u]),style:{...l,...mc,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[w.jsx("pattern",{id:k,x:d[0]%v[0],y:d[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:g?w.jsx(o5,{radius:y/2,className:c}):w.jsx(i5,{dimensions:E,lineWidth:i,variant:t,className:c})}),w.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${k})`})]})}UI.displayName="Background";const l5=P.memo(UI);function u5(){return w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:w.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function c5(){return w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:w.jsx("path",{d:"M0 0h32v4.2H0z"})})}function f5(){return w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:w.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function d5(){return w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:w.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function h5(){return w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:w.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function fl({children:e,className:t,...n}){return w.jsx("button",{type:"button",className:Ge(["react-flow__controls-button",t]),...n,children:e})}const p5=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function WI({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:u,children:c,position:f="bottom-left",orientation:d="vertical","aria-label":h}){const p=Re(),{isInteractive:g,minZoomReached:x,maxZoomReached:m,ariaLabelConfig:v}=xe(p5,Me),{zoomIn:y,zoomOut:b,fitView:E}=pc(),_=()=>{y(),o==null||o()},k=()=>{b(),s==null||s()},T=()=>{E(i),a==null||a()},j=()=>{p.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)},O=d==="horizontal"?"horizontal":"vertical";return w.jsxs(hc,{className:Ge(["react-flow__controls",O,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??v["controls.ariaLabel"],children:[t&&w.jsxs(w.Fragment,{children:[w.jsx(fl,{onClick:_,className:"react-flow__controls-zoomin",title:v["controls.zoomIn.ariaLabel"],"aria-label":v["controls.zoomIn.ariaLabel"],disabled:m,children:w.jsx(u5,{})}),w.jsx(fl,{onClick:k,className:"react-flow__controls-zoomout",title:v["controls.zoomOut.ariaLabel"],"aria-label":v["controls.zoomOut.ariaLabel"],disabled:x,children:w.jsx(c5,{})})]}),n&&w.jsx(fl,{className:"react-flow__controls-fitview",onClick:T,title:v["controls.fitView.ariaLabel"],"aria-label":v["controls.fitView.ariaLabel"],children:w.jsx(f5,{})}),r&&w.jsx(fl,{className:"react-flow__controls-interactive",onClick:j,title:v["controls.interactive.ariaLabel"],"aria-label":v["controls.interactive.ariaLabel"],children:g?w.jsx(h5,{}):w.jsx(d5,{})}),c]})}WI.displayName="Controls";const m5=P.memo(WI);function g5({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,selected:d,onClick:h}){const{background:p,backgroundColor:g}=o||{},x=s||p||g;return w.jsx("rect",{className:Ge(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,style:{fill:x,stroke:a,strokeWidth:l},shapeRendering:f,onClick:h?m=>h(m,e):void 0})}const y5=P.memo(g5),v5=e=>e.nodes.map(t=>t.id),Tf=e=>e instanceof Function?e:()=>e;function x5({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=y5,onClick:s}){const a=xe(v5,Me),l=Tf(t),u=Tf(e),c=Tf(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return w.jsx(w.Fragment,{children:a.map(d=>w.jsx(b5,{id:d,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:f},d))})}function w5({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:u,x:c,y:f,width:d,height:h}=xe(p=>{const{internals:g}=p.nodeLookup.get(e),x=g.userNode,{x:m,y:v}=g.positionAbsolute,{width:y,height:b}=ar(x);return{node:x,x:m,y:v,width:y,height:b}},Me);return!u||u.hidden||!G2(u)?null:w.jsx(a,{x:c,y:f,width:d,height:h,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:s,onClick:l,id:u.id})}const b5=P.memo(w5);var _5=P.memo(x5);const S5=200,E5=150,k5=e=>!e.hidden,C5=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?W2(Sa(e.nodeLookup,{filter:k5}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},T5="react-flow__minimap-desc";function GI({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:f,position:d="bottom-right",onClick:h,onNodeClick:p,pannable:g=!1,zoomable:x=!1,ariaLabel:m,inversePan:v,zoomStep:y=1,offsetScale:b=5}){const E=Re(),_=P.useRef(null),{boundingRect:k,viewBB:T,rfId:j,panZoom:O,translateExtent:A,flowWidth:D,flowHeight:z,ariaLabelConfig:I}=xe(C5,Me),L=(e==null?void 0:e.width)??S5,F=(e==null?void 0:e.height)??E5,M=k.width/L,C=k.height/F,R=Math.max(M,C),S=R*L,V=R*F,q=b*R,N=k.x-(S-k.width)/2-q,B=k.y-(V-k.height)/2-q,X=S+q*2,Y=V+q*2,Q=`${T5}-${j}`,W=P.useRef(0),J=P.useRef();W.current=R,P.useEffect(()=>{if(_.current&&O)return J.current=Xq({domNode:_.current,panZoom:O,getTransform:()=>E.getState().transform,getViewScale:()=>W.current}),()=>{var ne;(ne=J.current)==null||ne.destroy()}},[O]),P.useEffect(()=>{var ne;(ne=J.current)==null||ne.update({translateExtent:A,width:D,height:z,inversePan:v,pannable:g,zoomStep:y,zoomable:x})},[g,x,v,y,A,D,z]);const ae=h?ne=>{var he;const[ge,te]=((he=J.current)==null?void 0:he.pointer(ne))||[0,0];h(ne,{x:ge,y:te})}:void 0,se=p?P.useCallback((ne,ge)=>{const te=E.getState().nodeLookup.get(ge).internals.userNode;p(ne,te)},[]):void 0,ie=m??I["minimap.ariaLabel"];return w.jsx(hc,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*R:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Ge(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:w.jsxs("svg",{width:L,height:F,viewBox:`${N} ${B} ${X} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Q,ref:_,onClick:ae,children:[ie&&w.jsx("title",{id:Q,children:ie}),w.jsx(_5,{onClick:se,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),w.jsx("path",{className:"react-flow__minimap-mask",d:`M${N-q},${B-q}h${X+q*2}v${Y+q*2}h${-X-q*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}GI.displayName="MiniMap";const P5=P.memo(GI),N5=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,A5={[Co.Line]:"right",[Co.Handle]:"bottom-right"};function I5({nodeId:e,position:t,variant:n=Co.Handle,className:r,style:i=void 0,children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:h=!0,shouldResize:p,onResizeStart:g,onResize:x,onResizeEnd:m}){const v=kI(),y=typeof e=="string"?e:v,b=Re(),E=P.useRef(null),_=n===Co.Handle,k=xe(P.useCallback(N5(_&&h),[_,h]),Me),T=P.useRef(null),j=t??A5[n];P.useEffect(()=>{if(!(!E.current||!y))return T.current||(T.current=c$({domNode:E.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:A,transform:D,snapGrid:z,snapToGrid:I,nodeOrigin:L,domNode:F}=b.getState();return{nodeLookup:A,transform:D,snapGrid:z,snapToGrid:I,nodeOrigin:L,paneDomNode:F}},onChange:(A,D)=>{const{triggerNodeChanges:z,nodeLookup:I,parentLookup:L,nodeOrigin:F}=b.getState(),M=[],C={x:A.x,y:A.y},R=I.get(y);if(R&&R.expandParent&&R.parentId){const S=R.origin??F,V=A.width??R.measured.width??0,q=A.height??R.measured.height??0,N={id:R.id,parentId:R.parentId,rect:{width:V,height:q,...K2({x:A.x??R.position.x,y:A.y??R.position.y},{width:V,height:q},R.parentId,I,S)}},B=G0([N],I,L,F);M.push(...B),C.x=A.x?Math.max(S[0]*V,A.x):void 0,C.y=A.y?Math.max(S[1]*q,A.y):void 0}if(C.x!==void 0&&C.y!==void 0){const S={id:y,type:"position",position:{...C}};M.push(S)}if(A.width!==void 0&&A.height!==void 0){const V={id:y,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:A.width,height:A.height}};M.push(V)}for(const S of D){const V={...S,type:"position"};M.push(V)}z(M)},onEnd:({width:A,height:D})=>{const z={id:y,type:"dimensions",resizing:!1,dimensions:{width:A,height:D}};b.getState().triggerNodeChanges([z])}})),T.current.update({controlPosition:j,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:f,resizeDirection:d,onResizeStart:g,onResize:x,onResizeEnd:m,shouldResize:p}),()=>{var A;(A=T.current)==null||A.destroy()}},[j,a,l,u,c,f,g,x,m,p]);const O=j.split("-");return w.jsx("div",{className:Ge(["react-flow__resize-control","nodrag",...O,n,r]),ref:E,style:{...i,scale:k,...s&&{[_?"backgroundColor":"borderColor"]:s}},children:o})}P.memo(I5);function M5(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const R5=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,j5=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,L5={};function Nb(e,t){return(L5.jsx?j5:R5).test(e)}const D5=/[ \t\n\f\r]/g;function O5(e){return typeof e=="object"?e.type==="text"?Ab(e.value):!1:Ab(e)}function Ab(e){return e.replace(D5,"")===""}class Ta{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ta.prototype.normal={};Ta.prototype.property={};Ta.prototype.space=void 0;function KI(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ta(n,r,t)}function nv(e){return e.toLowerCase()}class jt{constructor(t,n){this.attribute=n,this.property=t}}jt.prototype.attribute="";jt.prototype.booleanish=!1;jt.prototype.boolean=!1;jt.prototype.commaOrSpaceSeparated=!1;jt.prototype.commaSeparated=!1;jt.prototype.defined=!1;jt.prototype.mustUseProperty=!1;jt.prototype.number=!1;jt.prototype.overloadedBoolean=!1;jt.prototype.property="";jt.prototype.spaceSeparated=!1;jt.prototype.space=void 0;let F5=0;const pe=ki(),He=ki(),rv=ki(),U=ki(),Ee=ki(),lo=ki(),Dt=ki();function ki(){return 2**++F5}const iv=Object.freeze(Object.defineProperty({__proto__:null,boolean:pe,booleanish:He,commaOrSpaceSeparated:Dt,commaSeparated:lo,number:U,overloadedBoolean:rv,spaceSeparated:Ee},Symbol.toStringTag,{value:"Module"})),Pf=Object.keys(iv);class Y0 extends jt{constructor(t,n,r,i){let o=-1;if(super(t,n),Ib(this,"space",i),typeof r=="number")for(;++o<Pf.length;){const s=Pf[o];Ib(this,Pf[o],(r&iv[s])===iv[s])}}}Y0.prototype.defined=!0;function Ib(e,t,n){n&&(e[t]=n)}function Ro(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Y0(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[nv(r)]=r,n[nv(o.attribute)]=r}return new Ta(t,n,e.space)}const YI=Ro({properties:{ariaActiveDescendant:null,ariaAtomic:He,ariaAutoComplete:null,ariaBusy:He,ariaChecked:He,ariaColCount:U,ariaColIndex:U,ariaColSpan:U,ariaControls:Ee,ariaCurrent:null,ariaDescribedBy:Ee,ariaDetails:null,ariaDisabled:He,ariaDropEffect:Ee,ariaErrorMessage:null,ariaExpanded:He,ariaFlowTo:Ee,ariaGrabbed:He,ariaHasPopup:null,ariaHidden:He,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ee,ariaLevel:U,ariaLive:null,ariaModal:He,ariaMultiLine:He,ariaMultiSelectable:He,ariaOrientation:null,ariaOwns:Ee,ariaPlaceholder:null,ariaPosInSet:U,ariaPressed:He,ariaReadOnly:He,ariaRelevant:null,ariaRequired:He,ariaRoleDescription:Ee,ariaRowCount:U,ariaRowIndex:U,ariaRowSpan:U,ariaSelected:He,ariaSetSize:U,ariaSort:null,ariaValueMax:U,ariaValueMin:U,ariaValueNow:U,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function XI(e,t){return t in e?e[t]:t}function QI(e,t){return XI(e,t.toLowerCase())}const z5=Ro({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lo,acceptCharset:Ee,accessKey:Ee,action:null,allow:null,allowFullScreen:pe,allowPaymentRequest:pe,allowUserMedia:pe,alt:null,as:null,async:pe,autoCapitalize:null,autoComplete:Ee,autoFocus:pe,autoPlay:pe,blocking:Ee,capture:null,charSet:null,checked:pe,cite:null,className:Ee,cols:U,colSpan:null,content:null,contentEditable:He,controls:pe,controlsList:Ee,coords:U|lo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pe,defer:pe,dir:null,dirName:null,disabled:pe,download:rv,draggable:He,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pe,formTarget:null,headers:Ee,height:U,hidden:rv,high:U,href:null,hrefLang:null,htmlFor:Ee,httpEquiv:Ee,id:null,imageSizes:null,imageSrcSet:null,inert:pe,inputMode:null,integrity:null,is:null,isMap:pe,itemId:null,itemProp:Ee,itemRef:Ee,itemScope:pe,itemType:Ee,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pe,low:U,manifest:null,max:null,maxLength:U,media:null,method:null,min:null,minLength:U,multiple:pe,muted:pe,name:null,nonce:null,noModule:pe,noValidate:pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pe,optimum:U,pattern:null,ping:Ee,placeholder:null,playsInline:pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pe,referrerPolicy:null,rel:Ee,required:pe,reversed:pe,rows:U,rowSpan:U,sandbox:Ee,scope:null,scoped:pe,seamless:pe,selected:pe,shadowRootClonable:pe,shadowRootDelegatesFocus:pe,shadowRootMode:null,shape:null,size:U,sizes:null,slot:null,span:U,spellCheck:He,src:null,srcDoc:null,srcLang:null,srcSet:null,start:U,step:null,style:null,tabIndex:U,target:null,title:null,translate:null,type:null,typeMustMatch:pe,useMap:null,value:He,width:U,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ee,axis:null,background:null,bgColor:null,border:U,borderColor:null,bottomMargin:U,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pe,declare:pe,event:null,face:null,frame:null,frameBorder:null,hSpace:U,leftMargin:U,link:null,longDesc:null,lowSrc:null,marginHeight:U,marginWidth:U,noResize:pe,noHref:pe,noShade:pe,noWrap:pe,object:null,profile:null,prompt:null,rev:null,rightMargin:U,rules:null,scheme:null,scrolling:He,standby:null,summary:null,text:null,topMargin:U,valueType:null,version:null,vAlign:null,vLink:null,vSpace:U,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pe,disableRemotePlayback:pe,prefix:null,property:null,results:U,security:null,unselectable:null},space:"html",transform:QI}),V5=Ro({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Dt,accentHeight:U,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:U,amplitude:U,arabicForm:null,ascent:U,attributeName:null,attributeType:null,azimuth:U,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:U,by:null,calcMode:null,capHeight:U,className:Ee,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:U,diffuseConstant:U,direction:null,display:null,dur:null,divisor:U,dominantBaseline:null,download:pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:U,enableBackground:null,end:null,event:null,exponent:U,externalResourcesRequired:null,fill:null,fillOpacity:U,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lo,g2:lo,glyphName:lo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:U,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:U,horizOriginX:U,horizOriginY:U,id:null,ideographic:U,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:U,k:U,k1:U,k2:U,k3:U,k4:U,kernelMatrix:Dt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:U,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:U,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:U,overlineThickness:U,paintOrder:null,panose1:null,path:null,pathLength:U,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ee,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:U,pointsAtY:U,pointsAtZ:U,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Dt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Dt,rev:Dt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Dt,requiredFeatures:Dt,requiredFonts:Dt,requiredFormats:Dt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:U,specularExponent:U,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:U,strikethroughThickness:U,string:null,stroke:null,strokeDashArray:Dt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:U,strokeOpacity:U,strokeWidth:null,style:null,surfaceScale:U,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Dt,tabIndex:U,tableValues:null,target:null,targetX:U,targetY:U,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Dt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:U,underlineThickness:U,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:U,values:null,vAlphabetic:U,vMathematical:U,vectorEffect:null,vHanging:U,vIdeographic:U,version:null,vertAdvY:U,vertOriginX:U,vertOriginY:U,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:U,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:XI}),ZI=Ro({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),JI=Ro({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:QI}),eM=Ro({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),q5={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$5=/[A-Z]/g,Mb=/-[a-z]/g,B5=/^data[-\w.:]+$/i;function H5(e,t){const n=nv(t);let r=t,i=jt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&B5.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Mb,W5);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Mb.test(o)){let s=o.replace($5,U5);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=Y0}return new i(r,t)}function U5(e){return"-"+e.toLowerCase()}function W5(e){return e.charAt(1).toUpperCase()}const G5=KI([YI,z5,ZI,JI,eM],"html"),X0=KI([YI,V5,ZI,JI,eM],"svg");function K5(e){return e.join(" ").trim()}var Q0={},Rb=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Y5=/\n/g,X5=/^\s*/,Q5=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Z5=/^:\s*/,J5=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,e6=/^[;\s]*/,t6=/^\s+|\s+$/g,n6=`
`,jb="/",Lb="*",ei="",r6="comment",i6="declaration";function o6(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(Y5);g&&(n+=g.length);var x=p.lastIndexOf(n6);r=~x?p.length-x:r+p.length}function o(){var p={line:n,column:r};return function(g){return g.position=new s(p),u(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var x=g[0];return i(x),e=e.slice(x.length),g}}function u(){l(X5)}function c(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=o();if(!(jb!=e.charAt(0)||Lb!=e.charAt(1))){for(var g=2;ei!=e.charAt(g)&&(Lb!=e.charAt(g)||jb!=e.charAt(g+1));)++g;if(g+=2,ei===e.charAt(g-1))return a("End of comment missing");var x=e.slice(2,g-2);return r+=2,i(x),e=e.slice(g),r+=2,p({type:r6,comment:x})}}function d(){var p=o(),g=l(Q5);if(g){if(f(),!l(Z5))return a("property missing ':'");var x=l(J5),m=p({type:i6,property:Db(g[0].replace(Rb,ei)),value:x?Db(x[0].replace(Rb,ei)):ei});return l(e6),m}}function h(){var p=[];c(p);for(var g;g=d();)g!==!1&&(p.push(g),c(p));return p}return u(),h()}function Db(e){return e?e.replace(t6,ei):ei}var s6=o6,a6=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.default=u6;const l6=a6(s6);function u6(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,l6.default)(e),i=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:s,value:a}=o;i?t(s,a,o):a&&(n=n||{},n[s]=a)}),n}var gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.camelCase=void 0;var c6=/^--[a-zA-Z0-9_-]+$/,f6=/-([a-z])/g,d6=/^[^-]+$/,h6=/^-(webkit|moz|ms|o|khtml)-/,p6=/^-(ms)-/,m6=function(e){return!e||d6.test(e)||c6.test(e)},g6=function(e,t){return t.toUpperCase()},Ob=function(e,t){return"".concat(t,"-")},y6=function(e,t){return t===void 0&&(t={}),m6(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(p6,Ob):e=e.replace(h6,Ob),e.replace(f6,g6))};gc.camelCase=y6;var v6=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},x6=v6(Q0),w6=gc;function ov(e,t){var n={};return!e||typeof e!="string"||(0,x6.default)(e,function(r,i){r&&i&&(n[(0,w6.camelCase)(r,t)]=i)}),n}ov.default=ov;var b6=ov;const _6=pa(b6),tM=nM("end"),Z0=nM("start");function nM(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function S6(e){const t=Z0(e),n=tM(e);if(t&&n)return{start:t,end:n}}function Ts(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Fb(e.position):"start"in e||"end"in e?Fb(e):"line"in e||"column"in e?sv(e):""}function sv(e){return zb(e&&e.line)+":"+zb(e&&e.column)}function Fb(e){return sv(e&&e.start)+"-"+sv(e&&e.end)}function zb(e){return e&&typeof e=="number"?e:1}class ht extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Ts(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ht.prototype.file="";ht.prototype.name="";ht.prototype.reason="";ht.prototype.message="";ht.prototype.stack="";ht.prototype.column=void 0;ht.prototype.line=void 0;ht.prototype.ancestors=void 0;ht.prototype.cause=void 0;ht.prototype.fatal=void 0;ht.prototype.place=void 0;ht.prototype.ruleId=void 0;ht.prototype.source=void 0;const J0={}.hasOwnProperty,E6=new Map,k6=/[A-Z]/g,C6=new Set(["table","tbody","thead","tfoot","tr"]),T6=new Set(["td","th"]),rM="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function P6(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=D6(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=L6(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?X0:G5,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=iM(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function iM(e,t,n){if(t.type==="element")return N6(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return A6(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return M6(e,t,n);if(t.type==="mdxjsEsm")return I6(e,t);if(t.type==="root")return R6(e,t,n);if(t.type==="text")return j6(e,t)}function N6(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=X0,e.schema=i),e.ancestors.push(t);const o=sM(e,t.tagName,!1),s=O6(e,t);let a=tx(e,t);return C6.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!O5(l):!0})),oM(e,s,o,t),ex(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function A6(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}aa(e,t.position)}function I6(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);aa(e,t.position)}function M6(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=X0,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:sM(e,t.name,!0),s=F6(e,t),a=tx(e,t);return oM(e,s,o,t),ex(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function R6(e,t,n){const r={};return ex(r,tx(e,t)),e.create(t,e.Fragment,r,n)}function j6(e,t){return t.value}function oM(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ex(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function L6(e,t,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:t;return a?u(o,s,a):u(o,s)}}function D6(e,t){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=Z0(r);return t(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function O6(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&J0.call(t.properties,i)){const o=z6(e,i,t.properties[i]);if(o){const[s,a]=o;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&T6.has(t.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function F6(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else aa(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else aa(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function tx(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:E6;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=iM(e,o,s);a!==void 0&&n.push(a)}return n}function z6(e,t,n){const r=H5(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?M5(n):K5(n)),r.property==="style"){let i=typeof n=="object"?n:V6(e,String(n));return e.stylePropertyNameCase==="css"&&(i=q6(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?q5[r.property]||r.property:r.attribute,n]}}function V6(e,t){try{return _6(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ht("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=rM+"#cannot-parse-style-attribute",i}}function sM(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const a=Nb(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=Nb(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return J0.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);aa(e)}function aa(e,t){const n=new ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=rM+"#cannot-handle-mdx-estrees-without-createevaluater",n}function q6(e){const t={};let n;for(n in e)J0.call(e,n)&&(t[$6(n)]=e[n]);return t}function $6(e){let t=e.replace(k6,B6);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function B6(e){return"-"+e.toLowerCase()}const Nf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},H6={};function U6(e,t){const n=H6,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return aM(e,r,i)}function aM(e,t,n){if(W6(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Vb(e.children,t,n)}return Array.isArray(e)?Vb(e,t,n):""}function Vb(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=aM(e[i],t,n);return r.join("")}function W6(e){return!!(e&&typeof e=="object")}const qb=document.createElement("i");function nx(e){const t="&"+e+";";qb.innerHTML=t;const n=qb.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Fn(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function Zt(e,t){return e.length>0?(Fn(e,e.length,0,t),e):t}const $b={}.hasOwnProperty;function G6(e){const t={};let n=-1;for(;++n<e.length;)K6(t,e[n]);return t}function K6(e,t){let n;for(n in t){const i=($b.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){$b.call(i,s)||(i[s]=[]);const a=o[s];Y6(i[s],Array.isArray(a)?a:a?[a]:[])}}}function Y6(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Fn(e,0,0,r)}function lM(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function uo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const An=Hr(/[A-Za-z]/),$t=Hr(/[\dA-Za-z]/),X6=Hr(/[#-'*+\--9=?A-Z^-~]/);function av(e){return e!==null&&(e<32||e===127)}const lv=Hr(/\d/),Q6=Hr(/[\dA-Fa-f]/),Z6=Hr(/[!-/:-@[-`{-~]/);function ce(e){return e!==null&&e<-2}function It(e){return e!==null&&(e<0||e===32)}function be(e){return e===-2||e===-1||e===32}const J6=Hr(new RegExp("\\p{P}|\\p{S}","u")),e8=Hr(/\s/);function Hr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function jo(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&$t(e.charCodeAt(n+1))&&$t(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ce(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return be(l)?(e.enter(n),a(l)):t(l)}function a(l){return be(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const t8={tokenize:n8};function n8(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ce(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ce(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const r8={tokenize:i8},Bb={tokenize:o8};function i8(e){const t=this,n=[];let r=0,i,o,s;return a;function a(y){if(r<n.length){const b=n[r];return t.containerState=b[1],e.attempt(b[0].continuation,l,u)(y)}return u(y)}function l(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const b=t.events.length;let E=b,_;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){_=t.events[E][1].end;break}m(r);let k=b;for(;k<t.events.length;)t.events[k][1].end={..._},k++;return Fn(t.events,E+1,0,t.events.slice(b)),t.events.length=k,u(y)}return a(y)}function u(y){if(r===n.length){if(!i)return d(y);if(i.currentConstruct&&i.currentConstruct.concrete)return p(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Bb,c,f)(y)}function c(y){return i&&v(),m(r),d(y)}function f(y){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(y)}function d(y){return t.containerState={},e.attempt(Bb,h,p)(y)}function h(y){return r++,n.push([t.currentConstruct,t.containerState]),d(y)}function p(y){if(y===null){i&&v(),m(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),g(y)}function g(y){if(y===null){x(e.exit("chunkFlow"),!0),m(0),e.consume(y);return}return ce(y)?(e.consume(y),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(y),g)}function x(y,b){const E=t.sliceStream(y);if(b&&E.push(null),y.previous=o,o&&(o.next=y),o=y,i.defineSkip(y.start),i.write(E),t.parser.lazy[y.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<s&&(!i.events[_][1].end||i.events[_][1].end.offset>s))return;const k=t.events.length;let T=k,j,O;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(j){O=t.events[T][1].end;break}j=!0}for(m(r),_=k;_<t.events.length;)t.events[_][1].end={...O},_++;Fn(t.events,T+1,0,t.events.slice(k)),t.events.length=_}}function m(y){let b=n.length;for(;b-- >y;){const E=n[b];t.containerState=E[1],E[0].exit.call(t,e)}n.length=y}function v(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function o8(e,t,n){return Ce(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Hb(e){if(e===null||It(e)||e8(e))return 1;if(J6(e))return 2}function rx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const uv={name:"attention",resolveAll:s8,tokenize:a8};function s8(e,t){let n=-1,r,i,o,s,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},d={...e[n][1].start};Ub(f,-l),Ub(d,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:d},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[r][1].end={...s.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Zt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Zt(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=Zt(u,rx(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Zt(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Zt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Fn(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function a8(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Hb(r);let o;return s;function s(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),c=Hb(l),f=!c||c===2&&i||n.includes(l),d=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!d)),u._close=!!(o===42?d:d&&(c||!f)),t(l)}}function Ub(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const l8={name:"autolink",tokenize:u8};function u8(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return An(h)?(e.consume(h),s):h===64?n(h):u(h)}function s(h){return h===43||h===45||h===46||$t(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||$t(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||av(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):X6(h)?(e.consume(h),u):n(h)}function c(h){return $t(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||$t(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const yc={partial:!0,tokenize:c8};function c8(e,t,n){return r;function r(o){return be(o)?Ce(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||ce(o)?t(o):n(o)}}const uM={continuation:{tokenize:d8},exit:h8,name:"blockQuote",tokenize:f8};function f8(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return be(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function d8(e,t,n){const r=this;return i;function i(s){return be(s)?Ce(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(uM,t,n)(s)}}function h8(e){e.exit("blockQuote")}const cM={name:"characterEscape",tokenize:p8};function p8(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return Z6(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const fM={name:"characterReference",tokenize:m8};function m8(e,t,n){const r=this;let i=0,o,s;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=$t,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=Q6,c):(e.enter("characterReferenceValue"),o=7,s=lv,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return s===$t&&!nx(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<o?(e.consume(f),c):n(f)}}const Wb={partial:!0,tokenize:y8},Gb={concrete:!0,name:"codeFenced",tokenize:g8};function g8(e,t,n){const r=this,i={partial:!0,tokenize:E};let o=0,s=0,a;return l;function l(_){return u(_)}function u(_){const k=r.events[r.events.length-1];return o=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,a=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(_)}function c(_){return _===a?(s++,e.consume(_),c):s<3?n(_):(e.exit("codeFencedFenceSequence"),be(_)?Ce(e,f,"whitespace")(_):f(_))}function f(_){return _===null||ce(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(Wb,g,b)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(_))}function d(_){return _===null||ce(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(_)):be(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ce(e,h,"whitespace")(_)):_===96&&_===a?n(_):(e.consume(_),d)}function h(_){return _===null||ce(_)?f(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||ce(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(_)):_===96&&_===a?n(_):(e.consume(_),p)}function g(_){return e.attempt(i,b,x)(_)}function x(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),m}function m(_){return o>0&&be(_)?Ce(e,v,"linePrefix",o+1)(_):v(_)}function v(_){return _===null||ce(_)?e.check(Wb,g,b)(_):(e.enter("codeFlowValue"),y(_))}function y(_){return _===null||ce(_)?(e.exit("codeFlowValue"),v(_)):(e.consume(_),y)}function b(_){return e.exit("codeFenced"),t(_)}function E(_,k,T){let j=0;return O;function O(L){return _.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),A}function A(L){return _.enter("codeFencedFence"),be(L)?Ce(_,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):D(L)}function D(L){return L===a?(_.enter("codeFencedFenceSequence"),z(L)):T(L)}function z(L){return L===a?(j++,_.consume(L),z):j>=s?(_.exit("codeFencedFenceSequence"),be(L)?Ce(_,I,"whitespace")(L):I(L)):T(L)}function I(L){return L===null||ce(L)?(_.exit("codeFencedFence"),k(L)):T(L)}}}function y8(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Af={name:"codeIndented",tokenize:x8},v8={partial:!0,tokenize:w8};function x8(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ce(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):ce(u)?e.attempt(v8,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||ce(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function w8(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):ce(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Ce(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):ce(s)?i(s):n(s)}}const b8={name:"codeText",previous:S8,resolve:_8,tokenize:E8};function _8(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function S8(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function E8(e,t,n){let r=0,i,o;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(o=e.enter("codeTextSequence"),i=0,c(f)):ce(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ce(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}class k8{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Jo(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Jo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Jo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Jo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Jo(this.left,n.reverse())}}}function Jo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function dM(e){const t={};let n=-1,r,i,o,s,a,l,u;const c=new k8(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,C8(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Fn(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function C8(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,f,d=-1,h=n,p=0,g=0;const x=[g];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(g=d+1,x.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):x.pop(),d=x.length;d--;){const m=a.slice(x[d],x[d+1]),v=o.pop();l.push([v,v+m.length-1]),e.splice(v,2,m)}for(l.reverse(),d=-1;++d<l.length;)u[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return u}const T8={resolve:N8,tokenize:A8},P8={partial:!0,tokenize:I8};function N8(e){return dM(e),e}function A8(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):ce(a)?e.check(P8,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function I8(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ce(e,o,"linePrefix")}function o(s){if(s===null||ce(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function hM(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(m){return m===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(m),e.exit(o),d):m===null||m===32||m===41||av(m)?n(m):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(m))}function d(m){return m===62?(e.enter(o),e.consume(m),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(a),d(m)):m===null||m===60||ce(m)?n(m):(e.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function g(m){return!c&&(m===null||m===41||It(m))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(m)):c<u&&m===40?(e.consume(m),c++,g):m===41?(e.consume(m),c--,g):m===null||m===32||m===40||av(m)?n(m):(e.consume(m),m===92?x:g)}function x(m){return m===40||m===41||m===92?(e.consume(m),g):g(m)}}function pM(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):ce(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||ce(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!be(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function mM(e,t,n,r,i,o){let s;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),s=d===40?41:d,l):n(d)}function l(d){return d===s?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(o),u(d))}function u(d){return d===s?(e.exit(o),l(s)):d===null?n(d):ce(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ce(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===s||d===null||ce(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?f:c)}function f(d){return d===s||d===92?(e.consume(d),c):c(d)}}function Ps(e,t){let n;return r;function r(i){return ce(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):be(i)?Ce(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const M8={name:"definition",tokenize:j8},R8={partial:!0,tokenize:L8};function j8(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),s(h)}function s(h){return pM.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=uo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return It(h)?Ps(e,u)(h):u(h)}function u(h){return hM(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(R8,f,f)(h)}function f(h){return be(h)?Ce(e,d,"whitespace")(h):d(h)}function d(h){return h===null||ce(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function L8(e,t,n){return r;function r(a){return It(a)?Ps(e,i)(a):n(a)}function i(a){return mM(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return be(a)?Ce(e,s,"whitespace")(a):s(a)}function s(a){return a===null||ce(a)?t(a):n(a)}}const D8={name:"hardBreakEscape",tokenize:O8};function O8(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return ce(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const F8={name:"headingAtx",resolve:z8,tokenize:V8};function z8(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Fn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function V8(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(e.consume(c),s):c===null||It(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||ce(c)?(e.exit("atxHeading"),t(c)):be(c)?Ce(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||It(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const q8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kb=["pre","script","style","textarea"],$8={concrete:!0,name:"htmlFlow",resolveTo:U8,tokenize:W8},B8={partial:!0,tokenize:K8},H8={partial:!0,tokenize:G8};function U8(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function W8(e,t,n){const r=this;let i,o,s,a,l;return u;function u(N){return c(N)}function c(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),d):N===47?(e.consume(N),o=!0,g):N===63?(e.consume(N),i=3,r.interrupt?t:S):An(N)?(e.consume(N),s=String.fromCharCode(N),x):n(N)}function d(N){return N===45?(e.consume(N),i=2,h):N===91?(e.consume(N),i=5,a=0,p):An(N)?(e.consume(N),i=4,r.interrupt?t:S):n(N)}function h(N){return N===45?(e.consume(N),r.interrupt?t:S):n(N)}function p(N){const B="CDATA[";return N===B.charCodeAt(a++)?(e.consume(N),a===B.length?r.interrupt?t:D:p):n(N)}function g(N){return An(N)?(e.consume(N),s=String.fromCharCode(N),x):n(N)}function x(N){if(N===null||N===47||N===62||It(N)){const B=N===47,X=s.toLowerCase();return!B&&!o&&Kb.includes(X)?(i=1,r.interrupt?t(N):D(N)):q8.includes(s.toLowerCase())?(i=6,B?(e.consume(N),m):r.interrupt?t(N):D(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):o?v(N):y(N))}return N===45||$t(N)?(e.consume(N),s+=String.fromCharCode(N),x):n(N)}function m(N){return N===62?(e.consume(N),r.interrupt?t:D):n(N)}function v(N){return be(N)?(e.consume(N),v):O(N)}function y(N){return N===47?(e.consume(N),O):N===58||N===95||An(N)?(e.consume(N),b):be(N)?(e.consume(N),y):O(N)}function b(N){return N===45||N===46||N===58||N===95||$t(N)?(e.consume(N),b):E(N)}function E(N){return N===61?(e.consume(N),_):be(N)?(e.consume(N),E):y(N)}function _(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,k):be(N)?(e.consume(N),_):T(N)}function k(N){return N===l?(e.consume(N),l=null,j):N===null||ce(N)?n(N):(e.consume(N),k)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||It(N)?E(N):(e.consume(N),T)}function j(N){return N===47||N===62||be(N)?y(N):n(N)}function O(N){return N===62?(e.consume(N),A):n(N)}function A(N){return N===null||ce(N)?D(N):be(N)?(e.consume(N),A):n(N)}function D(N){return N===45&&i===2?(e.consume(N),F):N===60&&i===1?(e.consume(N),M):N===62&&i===4?(e.consume(N),V):N===63&&i===3?(e.consume(N),S):N===93&&i===5?(e.consume(N),R):ce(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(B8,q,z)(N)):N===null||ce(N)?(e.exit("htmlFlowData"),z(N)):(e.consume(N),D)}function z(N){return e.check(H8,I,q)(N)}function I(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),L}function L(N){return N===null||ce(N)?z(N):(e.enter("htmlFlowData"),D(N))}function F(N){return N===45?(e.consume(N),S):D(N)}function M(N){return N===47?(e.consume(N),s="",C):D(N)}function C(N){if(N===62){const B=s.toLowerCase();return Kb.includes(B)?(e.consume(N),V):D(N)}return An(N)&&s.length<8?(e.consume(N),s+=String.fromCharCode(N),C):D(N)}function R(N){return N===93?(e.consume(N),S):D(N)}function S(N){return N===62?(e.consume(N),V):N===45&&i===2?(e.consume(N),S):D(N)}function V(N){return N===null||ce(N)?(e.exit("htmlFlowData"),q(N)):(e.consume(N),V)}function q(N){return e.exit("htmlFlow"),t(N)}}function G8(e,t,n){const r=this;return i;function i(s){return ce(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function K8(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(yc,t,n)}}const Y8={name:"htmlText",tokenize:X8};function X8(e,t,n){const r=this;let i,o,s;return a;function a(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),l}function l(S){return S===33?(e.consume(S),u):S===47?(e.consume(S),E):S===63?(e.consume(S),y):An(S)?(e.consume(S),T):n(S)}function u(S){return S===45?(e.consume(S),c):S===91?(e.consume(S),o=0,p):An(S)?(e.consume(S),v):n(S)}function c(S){return S===45?(e.consume(S),h):n(S)}function f(S){return S===null?n(S):S===45?(e.consume(S),d):ce(S)?(s=f,M(S)):(e.consume(S),f)}function d(S){return S===45?(e.consume(S),h):f(S)}function h(S){return S===62?F(S):S===45?d(S):f(S)}function p(S){const V="CDATA[";return S===V.charCodeAt(o++)?(e.consume(S),o===V.length?g:p):n(S)}function g(S){return S===null?n(S):S===93?(e.consume(S),x):ce(S)?(s=g,M(S)):(e.consume(S),g)}function x(S){return S===93?(e.consume(S),m):g(S)}function m(S){return S===62?F(S):S===93?(e.consume(S),m):g(S)}function v(S){return S===null||S===62?F(S):ce(S)?(s=v,M(S)):(e.consume(S),v)}function y(S){return S===null?n(S):S===63?(e.consume(S),b):ce(S)?(s=y,M(S)):(e.consume(S),y)}function b(S){return S===62?F(S):y(S)}function E(S){return An(S)?(e.consume(S),_):n(S)}function _(S){return S===45||$t(S)?(e.consume(S),_):k(S)}function k(S){return ce(S)?(s=k,M(S)):be(S)?(e.consume(S),k):F(S)}function T(S){return S===45||$t(S)?(e.consume(S),T):S===47||S===62||It(S)?j(S):n(S)}function j(S){return S===47?(e.consume(S),F):S===58||S===95||An(S)?(e.consume(S),O):ce(S)?(s=j,M(S)):be(S)?(e.consume(S),j):F(S)}function O(S){return S===45||S===46||S===58||S===95||$t(S)?(e.consume(S),O):A(S)}function A(S){return S===61?(e.consume(S),D):ce(S)?(s=A,M(S)):be(S)?(e.consume(S),A):j(S)}function D(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),i=S,z):ce(S)?(s=D,M(S)):be(S)?(e.consume(S),D):(e.consume(S),I)}function z(S){return S===i?(e.consume(S),i=void 0,L):S===null?n(S):ce(S)?(s=z,M(S)):(e.consume(S),z)}function I(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||It(S)?j(S):(e.consume(S),I)}function L(S){return S===47||S===62||It(S)?j(S):n(S)}function F(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function M(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),C}function C(S){return be(S)?Ce(e,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):R(S)}function R(S){return e.enter("htmlTextData"),s(S)}}const ix={name:"labelEnd",resolveAll:eH,resolveTo:tH,tokenize:nH},Q8={tokenize:rH},Z8={tokenize:iH},J8={tokenize:oH};function eH(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Fn(e,0,e.length,n),e}function tH(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=Zt(a,e.slice(o+1,o+r+3)),a=Zt(a,[["enter",c,t]]),a=Zt(a,rx(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=Zt(a,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),a=Zt(a,e.slice(s+1)),a=Zt(a,[["exit",l,t]]),Fn(e,o,e.length,a),e}function nH(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(d){return o?o._inactive?f(d):(s=r.parser.defined.includes(uo(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),l):n(d)}function l(d){return d===40?e.attempt(Q8,c,s?c:f)(d):d===91?e.attempt(Z8,c,s?u:f)(d):s?c(d):f(d)}function u(d){return e.attempt(J8,c,f)(d)}function c(d){return t(d)}function f(d){return o._balanced=!0,n(d)}}function rH(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return It(f)?Ps(e,o)(f):o(f)}function o(f){return f===41?c(f):hM(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return It(f)?Ps(e,l)(f):c(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?mM(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return It(f)?Ps(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function iH(e,t,n){const r=this;return i;function i(a){return pM.call(r,e,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(uo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function oH(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const sH={name:"labelStartImage",resolveAll:ix.resolveAll,tokenize:aH};function aH(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const lH={name:"labelStartLink",resolveAll:ix.resolveAll,tokenize:uH};function uH(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const If={name:"lineEnding",tokenize:cH};function cH(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ce(e,t,"linePrefix")}}const Vl={name:"thematicBreak",tokenize:fH};function fH(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ce(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),be(u)?Ce(e,a,"whitespace")(u):a(u))}}const St={continuation:{tokenize:mH},exit:yH,name:"list",tokenize:pH},dH={partial:!0,tokenize:vH},hH={partial:!0,tokenize:gH};function pH(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:lv(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Vl,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return lv(h)&&++s<10?(e.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(yc,r.interrupt?n:c,e.attempt(dH,d,f))}function c(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function f(h){return be(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function mH(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(yc,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ce(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!be(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(hH,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ce(e,e.attempt(St,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function gH(e,t,n){const r=this;return Ce(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function yH(e){e.exit(this.containerState.type)}function vH(e,t,n){const r=this;return Ce(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!be(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Yb={name:"setextUnderline",resolveTo:xH,tokenize:wH};function xH(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function wH(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),be(u)?Ce(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ce(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const bH={tokenize:_H};function _H(e){const t=this,n=e.attempt(yc,r,e.attempt(this.parser.constructs.flowInitial,i,Ce(e,e.attempt(this.parser.constructs.flow,i,e.attempt(T8,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const SH={resolveAll:yM()},EH=gM("string"),kH=gM("text");function gM(e){return{resolveAll:yM(e==="text"?CH:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function yM(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function CH(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const TH={42:St,43:St,45:St,48:St,49:St,50:St,51:St,52:St,53:St,54:St,55:St,56:St,57:St,62:uM},PH={91:M8},NH={[-2]:Af,[-1]:Af,32:Af},AH={35:F8,42:Vl,45:[Yb,Vl],60:$8,61:Yb,95:Vl,96:Gb,126:Gb},IH={38:fM,92:cM},MH={[-5]:If,[-4]:If,[-3]:If,33:sH,38:fM,42:uv,60:[l8,Y8],91:lH,92:[D8,cM],93:ix,95:uv,96:b8},RH={null:[uv,SH]},jH={null:[42,95]},LH={null:[]},DH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:jH,contentInitial:PH,disable:LH,document:TH,flow:AH,flowInitial:NH,insideSpan:RH,string:IH,text:MH},Symbol.toStringTag,{value:"Module"}));function OH(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:k(E),check:k(_),consume:v,enter:y,exit:b,interrupt:k(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:d,sliceStream:h,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function f(A){return s=Zt(s,A),x(),s[s.length-1]!==null?[]:(T(t,0),u.events=rx(o,u.events,u),u.events)}function d(A,D){return zH(h(A),D)}function h(A){return FH(s,A)}function p(){const{_bufferIndex:A,_index:D,line:z,column:I,offset:L}=r;return{_bufferIndex:A,_index:D,line:z,column:I,offset:L}}function g(A){i[A.line]=A.column,O()}function x(){let A;for(;r._index<s.length;){const D=s[r._index];if(typeof D=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<D.length;)m(D.charCodeAt(r._bufferIndex));else m(D)}}function m(A){c=c(A)}function v(A){ce(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,O()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=A}function y(A,D){const z=D||{};return z.type=A,z.start=p(),u.events.push(["enter",z,u]),a.push(z),z}function b(A){const D=a.pop();return D.end=p(),u.events.push(["exit",D,u]),D}function E(A,D){T(A,D.from)}function _(A,D){D.restore()}function k(A,D){return z;function z(I,L,F){let M,C,R,S;return Array.isArray(I)?q(I):"tokenize"in I?q([I]):V(I);function V(Y){return Q;function Q(W){const J=W!==null&&Y[W],ae=W!==null&&Y.null,se=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(ae)?ae:ae?[ae]:[]];return q(se)(W)}}function q(Y){return M=Y,C=0,Y.length===0?F:N(Y[C])}function N(Y){return Q;function Q(W){return S=j(),R=Y,Y.partial||(u.currentConstruct=Y),Y.name&&u.parser.constructs.disable.null.includes(Y.name)?X():Y.tokenize.call(D?Object.assign(Object.create(u),D):u,l,B,X)(W)}}function B(Y){return A(R,S),L}function X(Y){return S.restore(),++C<M.length?N(M[C]):F}}}function T(A,D){A.resolveAll&&!o.includes(A)&&o.push(A),A.resolve&&Fn(u.events,D,u.events.length-D,A.resolve(u.events.slice(D),u)),A.resolveTo&&(u.events=A.resolveTo(u.events,u))}function j(){const A=p(),D=u.previous,z=u.currentConstruct,I=u.events.length,L=Array.from(a);return{from:I,restore:F};function F(){r=A,u.previous=D,u.currentConstruct=z,u.events.length=I,a=L,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function FH(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function zH(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function VH(e){const r={constructs:G6([DH,...(e||{}).extensions||[]]),content:i(t8),defined:[],document:i(r8),flow:i(bH),lazy:{},string:i(EH),text:i(kH)};return r;function i(o){return s;function s(a){return OH(r,o,a)}}}function qH(e){for(;!dM(e););return e}const Xb=/[\0\t\n\r]/g;function $H(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,f,d,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(Xb.lastIndex=f,u=Xb.exec(o),d=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(d),!u){t=o.slice(f);break}if(h===10&&f===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<d&&(l.push(o.slice(f,d)),e+=d-f),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const BH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function HH(e){return e.replace(BH,UH)}function UH(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return lM(n.slice(o?2:1),o?16:10)}return nx(n)||e}const vM={}.hasOwnProperty;function WH(e,t,n){return typeof t!="string"&&(n=t,t=void 0),GH(n)(qH(VH(n).document().write($H()(e,t,!0))))}function GH(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o($e),autolinkProtocol:j,autolinkEmail:j,atxHeading:o(te),blockQuote:o(ae),characterEscape:j,characterReference:j,codeFenced:o(se),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(se,s),codeText:o(ie,s),codeTextData:j,data:j,codeFlowValue:j,definition:o(ne),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(ge),hardBreakEscape:o(he),hardBreakTrailing:o(he),htmlFlow:o(le,s),htmlFlowData:j,htmlText:o(le,s),htmlTextData:j,image:o(Ye),label:s,link:o($e),listItem:o(bt),listItemValue:d,listOrdered:o(wt,f),listUnordered:o(wt),paragraph:o(et),reference:N,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(te),strong:o(Ne),thematicBreak:o(_t)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:J,autolinkProtocol:W,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:Y,characterReference:Q,codeFenced:l(x),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:O,codeIndented:l(m),codeText:l(L),codeTextData:O,data:O,definition:l(),definitionDestinationString:b,definitionLabelString:v,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(z),htmlFlowData:O,htmlText:l(I),htmlTextData:O,image:l(M),label:R,labelText:C,lineEnding:A,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:B,resourceDestinationString:S,resourceTitleString:V,resource:q,setextHeading:l(T),setextHeadingLineSequence:k,setextHeadingText:_,strong:l(),thematicBreak:l()}};xM(t,(e||{}).mdastExtensions||[]);const n={};return r;function r($){let G={type:"root",children:[]};const re={stack:[G],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:c,data:n},de=[];let ye=-1;for(;++ye<$.length;)if($[ye][1].type==="listOrdered"||$[ye][1].type==="listUnordered")if($[ye][0]==="enter")de.push(ye);else{const tt=de.pop();ye=i($,tt,ye)}for(ye=-1;++ye<$.length;){const tt=t[$[ye][0]];vM.call(tt,$[ye][1].type)&&tt[$[ye][1].type].call(Object.assign({sliceSerialize:$[ye][2].sliceSerialize},re),$[ye][1])}if(re.tokenStack.length>0){const tt=re.tokenStack[re.tokenStack.length-1];(tt[1]||Qb).call(re,void 0,tt[0])}for(G.position={start:hr($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:hr($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},ye=-1;++ye<t.transforms.length;)G=t.transforms[ye](G)||G;return G}function i($,G,re){let de=G-1,ye=-1,tt=!1,pt,K,oe,Le;for(;++de<=re;){const Xe=$[de];switch(Xe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xe[0]==="enter"?ye++:ye--,Le=void 0;break}case"lineEndingBlank":{Xe[0]==="enter"&&(pt&&!Le&&!ye&&!oe&&(oe=de),Le=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Le=void 0}if(!ye&&Xe[0]==="enter"&&Xe[1].type==="listItemPrefix"||ye===-1&&Xe[0]==="exit"&&(Xe[1].type==="listUnordered"||Xe[1].type==="listOrdered")){if(pt){let ln=de;for(K=void 0;ln--;){const Lt=$[ln];if(Lt[1].type==="lineEnding"||Lt[1].type==="lineEndingBlank"){if(Lt[0]==="exit")continue;K&&($[K][1].type="lineEndingBlank",tt=!0),Lt[1].type="lineEnding",K=ln}else if(!(Lt[1].type==="linePrefix"||Lt[1].type==="blockQuotePrefix"||Lt[1].type==="blockQuotePrefixWhitespace"||Lt[1].type==="blockQuoteMarker"||Lt[1].type==="listItemIndent"))break}oe&&(!K||oe<K)&&(pt._spread=!0),pt.end=Object.assign({},K?$[K][1].start:Xe[1].end),$.splice(K||de,0,["exit",pt,Xe[2]]),de++,re++}if(Xe[1].type==="listItemPrefix"){const ln={type:"listItem",_spread:!1,start:Object.assign({},Xe[1].start),end:void 0};pt=ln,$.splice(de,0,["enter",ln,Xe[2]]),de++,re++,oe=void 0,Le=!0}}}return $[G][1]._spread=tt,re}function o($,G){return re;function re(de){a.call(this,$(de),de),G&&G.call(this,de)}}function s(){this.stack.push({type:"fragment",children:[]})}function a($,G,re){this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([G,re||void 0]),$.position={start:hr(G.start),end:void 0}}function l($){return G;function G(re){$&&$.call(this,re),u.call(this,re)}}function u($,G){const re=this.stack.pop(),de=this.tokenStack.pop();if(de)de[0].type!==$.type&&(G?G.call(this,$,de[0]):(de[1]||Qb).call(this,$,de[0]));else throw new Error("Cannot close `"+$.type+"` ("+Ts({start:$.start,end:$.end})+"): its not open");re.position.end=hr($.end)}function c(){return U6(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d($){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize($),10),this.data.expectingFirstListItemValue=void 0}}function h(){const $=this.resume(),G=this.stack[this.stack.length-1];G.lang=$}function p(){const $=this.resume(),G=this.stack[this.stack.length-1];G.meta=$}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const $=this.resume(),G=this.stack[this.stack.length-1];G.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const $=this.resume(),G=this.stack[this.stack.length-1];G.value=$.replace(/(\r?\n|\r)$/g,"")}function v($){const G=this.resume(),re=this.stack[this.stack.length-1];re.label=G,re.identifier=uo(this.sliceSerialize($)).toLowerCase()}function y(){const $=this.resume(),G=this.stack[this.stack.length-1];G.title=$}function b(){const $=this.resume(),G=this.stack[this.stack.length-1];G.url=$}function E($){const G=this.stack[this.stack.length-1];if(!G.depth){const re=this.sliceSerialize($).length;G.depth=re}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function k($){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize($).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function j($){const re=this.stack[this.stack.length-1].children;let de=re[re.length-1];(!de||de.type!=="text")&&(de=Kt(),de.position={start:hr($.start),end:void 0},re.push(de)),this.stack.push(de)}function O($){const G=this.stack.pop();G.value+=this.sliceSerialize($),G.position.end=hr($.end)}function A($){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=G.children[G.children.length-1];re.position.end=hr($.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(G.type)&&(j.call(this,$),O.call(this,$))}function D(){this.data.atHardBreak=!0}function z(){const $=this.resume(),G=this.stack[this.stack.length-1];G.value=$}function I(){const $=this.resume(),G=this.stack[this.stack.length-1];G.value=$}function L(){const $=this.resume(),G=this.stack[this.stack.length-1];G.value=$}function F(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=G,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function M(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=G,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function C($){const G=this.sliceSerialize($),re=this.stack[this.stack.length-2];re.label=HH(G),re.identifier=uo(G).toLowerCase()}function R(){const $=this.stack[this.stack.length-1],G=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const de=$.children;re.children=de}else re.alt=G}function S(){const $=this.resume(),G=this.stack[this.stack.length-1];G.url=$}function V(){const $=this.resume(),G=this.stack[this.stack.length-1];G.title=$}function q(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function B($){const G=this.resume(),re=this.stack[this.stack.length-1];re.label=G,re.identifier=uo(this.sliceSerialize($)).toLowerCase(),this.data.referenceType="full"}function X($){this.data.characterReferenceType=$.type}function Y($){const G=this.sliceSerialize($),re=this.data.characterReferenceType;let de;re?(de=lM(G,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):de=nx(G);const ye=this.stack[this.stack.length-1];ye.value+=de}function Q($){const G=this.stack.pop();G.position.end=hr($.end)}function W($){O.call(this,$);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize($)}function J($){O.call(this,$);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize($)}function ae(){return{type:"blockquote",children:[]}}function se(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ge(){return{type:"emphasis",children:[]}}function te(){return{type:"heading",depth:0,children:[]}}function he(){return{type:"break"}}function le(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function $e(){return{type:"link",title:null,url:"",children:[]}}function wt($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function bt($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function et(){return{type:"paragraph",children:[]}}function Ne(){return{type:"strong",children:[]}}function Kt(){return{type:"text",value:""}}function _t(){return{type:"thematicBreak"}}}function hr(e){return{line:e.line,column:e.column,offset:e.offset}}function xM(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?xM(e,r):KH(e,r)}}function KH(e,t){let n;for(n in t)if(vM.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Qb(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ts({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ts({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ts({start:t.start,end:t.end})+") is still open")}function YH(e){const t=this;t.parser=n;function n(r){return WH(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function XH(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function QH(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ZH(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function JH(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eU(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tU(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=jo(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function nU(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rU(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function wM(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function iU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return wM(e,t);const i={src:jo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function oU(e,t){const n={src:jo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function sU(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function aU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return wM(e,t);const i={href:jo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function lU(e,t){const n={href:jo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function uU(e,t,n){const r=e.all(t),i=n?cU(n):bM(t),o={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function cU(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=bM(n[r])}return t}function bM(e){const t=e.spread;return t??e.children.length>1}function fU(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function dU(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hU(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function pU(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mU(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Z0(t.children[1]),l=tM(t.children[t.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function gU(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const f=t.children[l],d={},h=s?s[l]:void 0;h&&(d.align=h);let p={type:"element",tagName:o,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function yU(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Zb=9,Jb=32;function vU(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(e_(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(e_(t.slice(i),i>0,!1)),o.join("")}function e_(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Zb||o===Jb;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Zb||o===Jb;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function xU(e,t){const n={type:"text",value:vU(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function wU(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const bU={blockquote:XH,break:QH,code:ZH,delete:JH,emphasis:eU,footnoteReference:tU,heading:nU,html:rU,imageReference:iU,image:oU,inlineCode:sU,linkReference:aU,link:lU,listItem:uU,list:fU,paragraph:dU,root:hU,strong:pU,table:mU,tableCell:yU,tableRow:gU,text:xU,thematicBreak:wU,toml:dl,yaml:dl,definition:dl,footnoteDefinition:dl};function dl(){}const _M=-1,vc=0,Ns=1,Pu=2,ox=3,sx=4,ax=5,lx=6,SM=7,EM=8,t_=typeof self=="object"?self:globalThis,_U=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case vc:case _M:return n(s,i);case Ns:{const a=n([],i);for(const l of s)a.push(r(l));return a}case Pu:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case ox:return n(new Date(s),i);case sx:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case ax:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case lx:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case SM:{const{name:a,message:l}=s;return n(new t_[a](l),i)}case EM:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new t_[o](s),i)};return r},n_=e=>_U(new Map,e)(0),Ri="",{toString:SU}={},{keys:EU}=Object,es=e=>{const t=typeof e;if(t!=="object"||!e)return[vc,t];const n=SU.call(e).slice(8,-1);switch(n){case"Array":return[Ns,Ri];case"Object":return[Pu,Ri];case"Date":return[ox,Ri];case"RegExp":return[sx,Ri];case"Map":return[ax,Ri];case"Set":return[lx,Ri];case"DataView":return[Ns,n]}return n.includes("Array")?[Ns,n]:n.includes("Error")?[SM,n]:[Pu,n]},hl=([e,t])=>e===vc&&(t==="function"||t==="symbol"),kU=(e,t,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=es(s);switch(a){case vc:{let c=s;switch(l){case"bigint":a=EM,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([_M],s)}return i([a,c],s)}case Ns:{if(l){let d=s;return l==="DataView"?d=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(s)),i([l,[...d]],s)}const c=[],f=i([a,c],s);for(const d of s)c.push(o(d));return f}case Pu:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const c=[],f=i([a,c],s);for(const d of EU(s))(e||!hl(es(s[d])))&&c.push([o(d),o(s[d])]);return f}case ox:return i([a,s.toISOString()],s);case sx:{const{source:c,flags:f}=s;return i([a,{source:c,flags:f}],s)}case ax:{const c=[],f=i([a,c],s);for(const[d,h]of s)(e||!(hl(es(d))||hl(es(h))))&&c.push([o(d),o(h)]);return f}case lx:{const c=[],f=i([a,c],s);for(const d of s)(e||!hl(es(d)))&&c.push(o(d));return f}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},r_=(e,{json:t,lossy:n}={})=>{const r=[];return kU(!(t||n),!!t,new Map,r)(e),r},Nu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?n_(r_(e,t)):structuredClone(e):(e,t)=>n_(r_(e,t));function CU(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function TU(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function PU(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||CU,r=e.options.footnoteBackLabel||TU,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),d=jo(f.toLowerCase());let h=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++h<=g;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,h);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const x=c[c.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const v=x.children[x.children.length-1];v&&v.type==="text"?v.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...p)}else c.push(...p);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(u,m),a.push(m)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Nu(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const kM=function(e){if(e==null)return MU;if(typeof e=="function")return xc(e);if(typeof e=="object")return Array.isArray(e)?NU(e):AU(e);if(typeof e=="string")return IU(e);throw new Error("Expected function, string, or object as test")};function NU(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=kM(e[n]);return xc(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function AU(e){const t=e;return xc(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function IU(e){return xc(t);function t(n){return n&&n.type===e}}function xc(e){return t;function t(n,r,i){return!!(RU(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function MU(){return!0}function RU(e){return e!==null&&typeof e=="object"&&"type"in e}const CM=[],jU=!0,i_=!1,LU="skip";function DU(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=kM(i),s=r?-1:1;a(e,void 0,[])();function a(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=CM,p,g,x;if((!t||o(l,u,c[c.length-1]||void 0))&&(h=OU(n(l,c)),h[0]===i_))return h;if("children"in l&&l.children){const m=l;if(m.children&&h[0]!==LU)for(g=(r?m.children.length:-1)+s,x=c.concat(m);g>-1&&g<m.children.length;){const v=m.children[g];if(p=a(v,g,x)(),p[0]===i_)return p;g=typeof p[1]=="number"?p[1]:g+s}}return h}}}function OU(e){return Array.isArray(e)?e:typeof e=="number"?[jU,e]:e==null?CM:[e]}function TM(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),DU(e,o,a,i);function a(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return s(l,f,c)}}const cv={}.hasOwnProperty,FU={};function zU(e,t){const n=t||FU,r=new Map,i=new Map,o=new Map,s={...bU,...n.handlers},a={all:u,applyData:qU,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:VU,wrap:BU};return TM(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();f.has(d)||f.set(d,c)}}),a;function l(c,f){const d=c.type,h=a.handlers[d];if(cv.call(a.handlers,d)&&h)return h(a,c,f);if(a.options.passThrough&&a.options.passThrough.includes(d)){if("children"in c){const{children:g,...x}=c,m=Nu(x);return m.children=a.all(c),m}return Nu(c)}return(a.options.unknownHandler||$U)(a,c,f)}function u(c){const f=[];if("children"in c){const d=c.children;let h=-1;for(;++h<d.length;){const p=a.one(d[h],c);if(p){if(h&&d[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=o_(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=o_(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function VU(e,t){e.position&&(t.position=S6(e))}function qU(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,Nu(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function $U(e,t){const n=t.data||{},r="value"in t&&!(cv.call(n,"hProperties")||cv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function BU(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function o_(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function s_(e,t){const n=zU(e,t),r=n.one(e,void 0),i=PU(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function HU(e,t){return e&&"run"in e?async function(n,r){const i=s_(n,{file:r,...t});await e.run(i,r)}:function(n,r){return s_(n,{file:r,...e||t})}}function a_(e){if(e)throw e}var ql=Object.prototype.hasOwnProperty,PM=Object.prototype.toString,l_=Object.defineProperty,u_=Object.getOwnPropertyDescriptor,c_=function(t){return typeof Array.isArray=="function"?Array.isArray(t):PM.call(t)==="[object Array]"},f_=function(t){if(!t||PM.call(t)!=="[object Object]")return!1;var n=ql.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ql.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ql.call(t,i)},d_=function(t,n){l_&&n.name==="__proto__"?l_(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},h_=function(t,n){if(n==="__proto__")if(ql.call(t,n)){if(u_)return u_(t,n).value}else return;return t[n]},UU=function e(){var t,n,r,i,o,s,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=h_(a,n),i=h_(t,n),a!==i&&(c&&i&&(f_(i)||(o=c_(i)))?(o?(o=!1,s=r&&c_(r)?r:[]):s=r&&f_(r)?r:{},d_(a,{name:n,newValue:e(c,s,i)})):typeof i<"u"&&d_(a,{name:n,newValue:i}));return a};const Mf=pa(UU);function fv(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function WU(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=e[++o];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?GU(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function GU(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const Tn={basename:KU,dirname:YU,extname:XU,join:QU,sep:"/"};function KU(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Pa(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function YU(e){if(Pa(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function XU(e){Pa(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function QU(...e){let t=-1,n;for(;++t<e.length;)Pa(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ZU(n)}function ZU(e){Pa(e);const t=e.codePointAt(0)===47;let n=JU(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function JU(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function Pa(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const e9={cwd:t9};function t9(){return"/"}function dv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function n9(e){if(typeof e=="string")e=new URL(e);else if(!dv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return r9(e)}function r9(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Rf=["history","path","basename","stem","extname","dirname"];class NM{constructor(t){let n;t?dv(t)?n={path:t}:typeof t=="string"||i9(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":e9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Rf.length;){const o=Rf[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Rf.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Tn.basename(this.path):void 0}set basename(t){Lf(t,"basename"),jf(t,"basename"),this.path=Tn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Tn.dirname(this.path):void 0}set dirname(t){p_(this.basename,"dirname"),this.path=Tn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Tn.extname(this.path):void 0}set extname(t){if(jf(t,"extname"),p_(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Tn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){dv(t)&&(t=n9(t)),Lf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Tn.basename(this.path,this.extname):void 0}set stem(t){Lf(t,"stem"),jf(t,"stem"),this.path=Tn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ht(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function jf(e,t){if(e&&e.includes(Tn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Tn.sep+"`")}function Lf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function p_(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function i9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const o9=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},s9={}.hasOwnProperty;class ux extends o9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=WU()}copy(){const t=new ux;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Mf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ff("data",this.frozen),this.namespace[t]=n,this):s9.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ff("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=pl(t),r=this.parser||this.Parser;return Df("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Df("process",this.parser||this.Parser),Of("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=pl(t),l=r.parse(a);r.run(l,a,function(c,f,d){if(c||!f||!d)return u(c);const h=f,p=r.stringify(h,d);u9(p)?d.value=p:d.result=p,u(c,d)});function u(c,f){c||!f?s(c):o?o(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Df("processSync",this.parser||this.Parser),Of("processSync",this.compiler||this.Compiler),this.process(t,i),g_("processSync","process",n),r;function i(o,s){n=!0,a_(o),r=s}}run(t,n,r){m_(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=pl(n);i.run(t,l,u);function u(c,f,d){const h=f||t;c?a(c):s?s(h):r(void 0,h,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),g_("runSync","run",r),i;function o(s,a){a_(s),i=a,r=!0}}stringify(t,n){this.freeze();const r=pl(n),i=this.compiler||this.Compiler;return Of("stringify",i),m_(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Ff("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Mf(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===u){d=f;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const g=r[d][1];fv(g)&&fv(h)&&(h=Mf(!0,g,h)),r[d]=[u,h,...p]}}}}const a9=new ux().freeze();function Df(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Of(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ff(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function m_(e){if(!fv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function g_(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function pl(e){return l9(e)?e:new NM(e)}function l9(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function u9(e){return typeof e=="string"||c9(e)}function c9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const f9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",y_=[],v_={allowDangerousHtml:!0},d9=/^(https?|ircs?|mailto|xmpp)$/i,h9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function x_(e){const t=p9(e),n=m9(e);return g9(t.runSync(t.parse(n),n),e)}function p9(e){const t=e.rehypePlugins||y_,n=e.remarkPlugins||y_,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...v_}:v_;return a9().use(YH).use(n).use(HU,r).use(t)}function m9(e){const t=e.children||"",n=new NM;return typeof t=="string"&&(n.value=t),n}function g9(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||y9;for(const c of h9)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+f9+c.id,void 0);return TM(e,u),P6(e,{Fragment:w.Fragment,components:i,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function u(c,f,d){if(c.type==="raw"&&d&&typeof f=="number")return s?d.children.splice(f,1):d.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let h;for(h in Nf)if(Object.hasOwn(Nf,h)&&Object.hasOwn(c.properties,h)){const p=c.properties[h],g=Nf[h];(g===null||g.includes(c.tagName))&&(c.properties[h]=l(String(p||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(c,f,d)),h&&d&&typeof f=="number")return a&&c.children?d.children.splice(f,1,...c.children):d.children.splice(f,1),f}}}function y9(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||d9.test(e.slice(0,t))?e:""}function v9(e,t){const[n,r]=P.useState(!1),[i,o]=P.useState(""),[s,a]=P.useState(""),[l,u]=P.useState([]),[c,f]=P.useState([]),[d,h]=P.useState(null),[p,g]=P.useState(0),x=P.useRef(null),m=P.useRef(""),v=P.useRef(""),y=P.useRef(null),b=P.useRef(0),E=P.useRef(new Set),_=(A,D,z,I)=>{f(L=>[...L,{type:A,timestamp:Date.now(),data:D,agent:z||v.current,screenshot:I}])},k=P.useCallback((A,D,z)=>{if(!e)return;m.current="",v.current="",b.current=0,E.current=new Set,o(""),a(""),u([]),g(0),f(M=>[...M,{type:"user",timestamp:Date.now(),data:A}]),r(!0);const I=new URLSearchParams({input:A});t&&I.set("binary_path",t),y.current&&I.set("session_id",y.current);const L=new EventSource(`/api/projects/${e}/stream?${I}`);x.current=L;let F=!1;L.addEventListener("session",M=>{y.current=M.data,h(M.data)}),L.addEventListener("agent",M=>{m.current&&(m.current+=`

`,o(m.current)),v.current=M.data,a(M.data),_("agent_start","runtime",M.data)}),L.addEventListener("chunk",M=>{m.current=M.data,o(m.current)}),L.addEventListener("trace",M=>{try{const C=JSON.parse(M.data);if(C.type==="node_start"){const R=C.node;E.current.has(R)&&(b.current++,g(b.current),E.current.clear()),E.current.add(R),v.current=R,a(R),_("agent_start",`Iter ${b.current+1}, Step ${C.step}`,R)}else if(C.type==="node_end")_("agent_end",`${C.duration_ms}ms`,C.node);else if(C.type==="state"){const R=C.state||{};R.response&&_("model",R.response.slice(0,100)+(R.response.length>100?"...":""),v.current)}else if(C.type==="done"){const R=C.state||{};R.response&&_("model",R.response.slice(0,150)+(R.response.length>150?"...":"")),_("done",`${C.total_steps} steps`)}}catch{}}),L.addEventListener("log",M=>{try{const C=JSON.parse(M.data);C.agent&&(v.current=C.agent,a(C.agent)),C.message&&_("model",C.message,C.agent)}catch{}}),L.addEventListener("tool_call",M=>{try{const C=JSON.parse(M.data);u(R=>[...R,{name:C.name,args:C.args}]),m.current+=`
 Calling ${C.name}...
`,o(m.current),_("tool_call",`${C.name}(${JSON.stringify(C.args)})`)}catch{}}),L.addEventListener("tool_result",M=>{try{const C=JSON.parse(M.data),R=typeof C.result=="string"?JSON.parse(C.result):C.result;let S;R!=null&&R.base64_image&&(S=R.base64_image);const V=S?" Screenshot captured":typeof C.result=="string"?C.result:JSON.stringify(C.result).slice(0,200);m.current+=` ${C.name}: ${V}
`,o(m.current),_("tool_result",`${C.name}  ${V}`,void 0,S)}catch{}}),L.addEventListener("end",()=>{F=!0;const M=m.current;o(""),a(""),r(!1),L.close(),D(M)}),L.addEventListener("error",M=>{if(!F){const C=M.data||"Connection error";o(""),a(""),r(!1),L.close(),_("error",C),z==null||z(C)}})},[e,t]),T=P.useCallback(()=>{var A;(A=x.current)==null||A.close(),o(""),a(""),r(!1)},[]),j=P.useCallback(()=>f([]),[]),O=P.useCallback(async()=>{y.current&&await fetch(`/api/sessions/${y.current}`,{method:"DELETE"}).catch(()=>{}),y.current=null,h(null),f([])},[]);return{send:k,cancel:T,isStreaming:n,streamingText:i,currentAgent:s,toolCalls:l,events:c,clearEvents:j,sessionId:d,newSession:O,iteration:p}}function x9({onFlowPhase:e,onActiveAgent:t,onIteration:n,onThought:r,binaryPath:i}){const{currentProject:o}=Mo(),[s,a]=P.useState([]),[l,u]=P.useState(""),[c,f]=P.useState("chat"),{send:d,cancel:h,isStreaming:p,streamingText:g,currentAgent:x,toolCalls:m,events:v,sessionId:y,newSession:b,iteration:E}=v9((o==null?void 0:o.id)??null,i),_=P.useRef(null),k=P.useRef(null),T=P.useRef(!1),j=P.useRef(null);P.useEffect(()=>{n==null||n(E)},[E,n]),P.useEffect(()=>{x&&(j.current=x,t==null||t(x))},[x,t]),P.useEffect(()=>{var M;(M=_.current)==null||M.scrollIntoView({behavior:"smooth"})},[s,g]),P.useEffect(()=>{var M;(M=k.current)==null||M.scrollIntoView({behavior:"smooth"})},[v]),P.useEffect(()=>{g&&x?r==null||r(x,g.slice(-150)):!p&&j.current&&(r==null||r(j.current,null))},[g,x,p,r]),P.useEffect(()=>{g?e==null||e("output"):p||(e==null||e("idle"),t==null||t(null))},[g,p,e,t]);const O=()=>{if(!l.trim()||!o||p||T.current)return;T.current=!0;const M=l.trim();u(""),a(C=>[...C,{role:"user",content:M}]),e==null||e("input"),j.current=null,d(M,C=>{C&&a(R=>[...R,{role:"assistant",content:C,agent:j.current||void 0}]),e==null||e("idle"),T.current=!1},C=>{a(R=>[...R,{role:"assistant",content:`Error: ${C}`}]),e==null||e("idle"),T.current=!1})},A=()=>{a([]),b()},D=()=>{h(),e==null||e("idle")},z=p&&!g,I=M=>{const C=new Date(M);return`${C.toLocaleTimeString("en-US",{hour12:!1})}:${String(C.getMilliseconds()).padStart(3,"0")}`},L=M=>{switch(M){case"user":return"";case"agent_start":return"";case"agent_end":return"";case"model":return"";case"tool_call":return"";case"tool_result":return"";case"done":return"";case"error":return"";default:return""}},F=M=>{switch(M){case"user":return"text-blue-400";case"agent_start":return"text-green-400";case"agent_end":return"text-green-300";case"model":return"text-gray-300";case"done":return"text-purple-400";case"error":return"text-red-400";default:return"text-gray-400"}};return w.jsxs("div",{className:"flex flex-col h-full bg-studio-panel border-t border-gray-700",children:[w.jsxs("div",{className:"p-2 border-b border-gray-700 text-sm flex justify-between items-center",children:[w.jsxs("div",{className:"flex gap-1 items-center",children:[w.jsx("button",{onClick:()=>f("chat"),className:`px-3 py-1 rounded text-xs ${c==="chat"?"bg-studio-highlight":"hover:bg-gray-700"}`,children:" Chat"}),w.jsxs("button",{onClick:()=>f("events"),className:`px-3 py-1 rounded text-xs ${c==="events"?"bg-studio-highlight":"hover:bg-gray-700"}`,children:[" Events ",v.length>0&&`(${v.length})`]}),y&&w.jsxs("span",{className:"ml-2 text-xs text-gray-500",title:y,children:["Session: ",y.slice(0,8),"..."]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:A,className:"text-green-400 text-xs hover:text-green-300 flex items-center gap-1",title:"Start new conversation",children:" New"}),p&&w.jsx("button",{onClick:D,className:"text-red-400 text-xs",children:"Stop"})]})]}),c==="chat"&&w.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[s.length===0&&!g&&!z&&w.jsx("div",{className:"text-gray-500 text-sm",children:"Send a message to test your agent..."}),s.map((M,C)=>w.jsxs("div",{className:`text-sm ${M.role==="user"?"text-blue-400":"text-gray-200"}`,children:[w.jsx("span",{className:"font-semibold",children:M.role==="user"?"You: ":`${M.agent||"Agent"}: `}),M.role==="user"?w.jsx("span",{children:M.content}):w.jsx("div",{className:"prose prose-invert prose-sm max-w-none inline",children:w.jsx(x_,{children:M.content})})]},C)),z&&w.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-2",children:[w.jsx("span",{className:"animate-spin",children:""}),w.jsx("span",{children:x?`${x} is thinking...`:"Thinking..."})]}),g&&w.jsxs("div",{className:"text-sm text-gray-200",children:[w.jsxs("span",{className:"font-semibold",children:[x||"Agent",": "]}),w.jsx("div",{className:"prose prose-invert prose-sm max-w-none inline",children:w.jsx(x_,{children:g})}),w.jsx("span",{className:"animate-pulse",children:""})]}),m.length>0&&p&&w.jsxs("div",{className:"text-xs text-yellow-400 mt-1",children:["Tools used: ",m.map(M=>M.name).join(", ")]}),w.jsx("div",{ref:_})]}),c==="events"&&w.jsxs("div",{className:"flex-1 overflow-y-auto p-2 font-mono text-xs",children:[v.length===0&&w.jsx("div",{className:"text-gray-500",children:"No events yet. Send a message to see the trace."}),v.map((M,C)=>w.jsxs("div",{className:"py-1 border-b border-gray-800",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx("span",{className:"text-gray-500 w-24 flex-shrink-0",children:I(M.timestamp)}),w.jsx("span",{children:L(M.type)}),w.jsxs("span",{className:`${F(M.type)} flex-1`,children:[M.agent&&w.jsxs("span",{className:"text-yellow-400 mr-2",children:["[",M.agent,"]"]}),M.type==="user"?`Input: ${M.data}`:M.type==="agent_start"?`Started ${M.data}`:M.type==="agent_end"?`Completed in ${M.data}`:M.type==="model"?`Response: ${M.data}`:M.type==="done"?`Done (${M.data})`:M.data]})]}),M.screenshot&&w.jsx("div",{className:"ml-28 mt-2 mb-2",children:w.jsx("img",{src:`data:image/png;base64,${M.screenshot}`,alt:"Browser screenshot",className:"max-w-full max-h-64 rounded border border-gray-600"})})]},C)),w.jsx("div",{ref:k})]}),w.jsxs("div",{className:"p-2 border-t border-gray-700 flex gap-2",children:[w.jsx("input",{type:"text",value:l,onChange:M=>u(M.target.value),onKeyDown:M=>{M.key==="Enter"&&!M.repeat&&(M.preventDefault(),O())},placeholder:"Type a message...",className:"flex-1 px-3 py-2 bg-studio-bg border border-gray-600 rounded text-sm",disabled:p}),w.jsx("button",{onClick:O,disabled:p||!l.trim(),className:"px-4 py-2 bg-studio-highlight rounded text-sm disabled:opacity-50",children:"Send"})]})]})}const w9=[{id:"simple_chat",name:"Simple Chat Agent",icon:"",description:"A basic conversational agent",agents:{chat_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful, friendly assistant. Answer questions clearly and concisely. Be conversational but informative.",tools:[],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"chat_agent"},{from:"chat_agent",to:"END"}]},{id:"research_pipeline",name:"Research Pipeline",icon:"",description:"Sequential: Researcher  Summarizer",agents:{researcher:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a research specialist. Given a topic, search for comprehensive information using Google Search. Gather key facts, statistics, recent developments, and expert opinions. Present your findings in a structured format.",tools:["google_search"],sub_agents:[],position:{x:0,y:0}},summarizer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are an expert summarizer. Take the research findings and create a clear, concise summary with: 1) Key takeaways (3-5 bullet points), 2) Main findings, 3) Conclusions. Make it easy to understand for a general audience.",tools:[],sub_agents:[],position:{x:0,y:0}},research_pipeline:{type:"sequential",instruction:"",tools:[],sub_agents:["researcher","summarizer"],position:{x:50,y:150}}},edges:[{from:"START",to:"research_pipeline"},{from:"research_pipeline",to:"END"}]},{id:"content_refiner",name:"Content Refiner",icon:"",description:"Loop agent that iteratively improves content",agents:{improver:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a content editor. Review the text and improve it by: fixing grammar and spelling errors, enhancing clarity and flow, improving word choice, and strengthening the overall structure. Output the improved version.",tools:[],sub_agents:[],position:{x:0,y:0}},reviewer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a quality reviewer. Evaluate the content for: clarity, grammar, flow, and completeness. If the content is polished and ready (score 8/10 or higher), call exit_loop. Otherwise, briefly note what still needs improvement and let the improver continue.",tools:["exit_loop"],sub_agents:[],position:{x:0,y:0}},content_refiner:{type:"loop",instruction:"",tools:[],sub_agents:["improver","reviewer"],position:{x:50,y:150},max_iterations:3}},edges:[{from:"START",to:"content_refiner"},{from:"content_refiner",to:"END"}]},{id:"parallel_analyzer",name:"Parallel Analyzer",icon:"",description:"Run multiple analyses concurrently",agents:{sentiment_analyzer:{type:"llm",model:"gemini-2.0-flash",instruction:"Analyze the sentiment of the provided text. Identify: 1) Overall sentiment (positive/negative/neutral with confidence %), 2) Emotional tones present (joy, anger, sadness, etc.), 3) Key phrases that indicate sentiment. Format as a brief report.",tools:[],sub_agents:[],position:{x:0,y:0}},entity_extractor:{type:"llm",model:"gemini-2.0-flash",instruction:"Extract key entities from the text. Identify and categorize: 1) People (names, roles), 2) Organizations (companies, institutions), 3) Locations (cities, countries), 4) Dates and times, 5) Key topics/concepts. Format as a structured list.",tools:[],sub_agents:[],position:{x:0,y:0}},parallel_analyzer:{type:"parallel",instruction:"",tools:[],sub_agents:["sentiment_analyzer","entity_extractor"],position:{x:50,y:150}}},edges:[{from:"START",to:"parallel_analyzer"},{from:"parallel_analyzer",to:"END"}]},{id:"support_router",name:"Support Router",icon:"",description:"Route requests to specialized agents",agents:{router:{type:"router",model:"gemini-2.0-flash",instruction:'Classify the user request into one category: "technical" for coding, bugs, API issues, or technical problems; "billing" for payments, subscriptions, refunds, or account charges; "general" for all other questions. Respond with just the category word.',tools:[],sub_agents:[],position:{x:200,y:100},routes:[{condition:"technical",target:"tech_support"},{condition:"billing",target:"billing_support"},{condition:"general",target:"general_support"}]},tech_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a senior technical support engineer. Help users with coding issues, bugs, API problems, and technical troubleshooting. Ask clarifying questions if needed. Provide code examples when helpful. Be patient and thorough.",tools:[],sub_agents:[],position:{x:50,y:350}},billing_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a billing specialist. Help users with payment issues, subscription questions, refund requests, and account billing inquiries. Be empathetic and solution-oriented. Explain charges clearly.",tools:[],sub_agents:[],position:{x:200,y:350}},general_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a friendly general support agent. Help users with general questions, product information, feature requests, and any inquiries that don't fit technical or billing categories. Be helpful and personable.",tools:[],sub_agents:[],position:{x:350,y:350}}},edges:[{from:"START",to:"router"},{from:"router",to:"tech_support"},{from:"router",to:"billing_support"},{from:"router",to:"general_support"},{from:"tech_support",to:"END"},{from:"billing_support",to:"END"},{from:"general_support",to:"END"}]},{id:"web_researcher",name:"Web Researcher",icon:"",description:"Agent that browses the web for information",agents:{web_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a web research assistant with browser capabilities. When asked a question: 1) Navigate to relevant websites to find accurate, up-to-date information, 2) Read and extract key content from pages, 3) Synthesize findings into a clear answer with sources. Always cite your sources.",tools:["browser"],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"web_agent"},{from:"web_agent",to:"END"}]}];function b9({onExportCode:e,onNewProject:t}){const[n,r]=P.useState(null),i=P.useRef(null),{currentProject:o,addAgent:s,removeAgent:a,addEdge:l,removeEdge:u}=Mo();P.useEffect(()=>{const p=g=>{i.current&&!i.current.contains(g.target)&&r(null)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const c=p=>{var g;o&&((((g=o.workflow)==null?void 0:g.edges)||[]).forEach(x=>u(x.from,x.to)),Object.keys(o.agents).forEach(x=>a(x)),Object.entries(p.agents).forEach(([x,m])=>{s(x,m)}),p.edges.forEach(x=>l(x.from,x.to)),r(null))},f=({name:p,children:g})=>w.jsxs("div",{className:"relative",children:[w.jsx("button",{className:`px-3 py-1 text-sm hover:bg-gray-700 rounded ${n===p?"bg-gray-700":""}`,onClick:()=>r(n===p?null:p),children:p}),n===p&&w.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gray-800 border border-gray-600 rounded shadow-lg min-w-[200px] z-50",children:g})]}),d=({onClick:p,children:g,disabled:x})=>w.jsx("button",{className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-700 ${x?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{x||(p(),r(null))},disabled:x,children:g}),h=()=>w.jsx("div",{className:"border-t border-gray-600 my-1"});return w.jsxs("div",{ref:i,className:"flex items-center gap-1 px-2 py-1 bg-gray-900 border-b border-gray-700",children:[w.jsx("span",{className:"text-sm font-semibold text-blue-400 mr-4",children:" ADK Studio"}),w.jsxs(f,{name:"File",children:[w.jsx(d,{onClick:t,children:" New Project"}),w.jsx(h,{}),w.jsx(d,{onClick:e,disabled:!o,children:" Export Code"})]}),w.jsxs(f,{name:"Templates",children:[w.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-600",children:"Add to current project"}),w9.map(p=>w.jsxs(d,{onClick:()=>c(p),disabled:!o,children:[p.icon," ",p.name]},p.id))]}),w.jsxs(f,{name:"Help",children:[w.jsx(d,{onClick:()=>window.open("https://github.com/amazon/adk-rust","_blank"),children:" Documentation"}),w.jsx(h,{}),w.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400",children:[w.jsx("div",{className:"font-semibold mb-1",children:"Keyboard Shortcuts"}),w.jsx("div",{children:"Drag agents from left panel"}),w.jsx("div",{children:"Click agent to edit properties"}),w.jsx("div",{children:"Drag tools onto agents"})]}),w.jsx(h,{}),w.jsx("div",{className:"px-3 py-2 text-xs text-gray-500",children:"ADK Studio v0.1.0"})]}),w.jsx("div",{className:"flex-1"}),o&&w.jsxs("span",{className:"text-sm text-gray-400",children:["Project: ",w.jsx("span",{className:"text-white",children:o.name})]})]})}const cx=P.createContext({});function fx(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const dx=typeof window<"u",AM=dx?P.useLayoutEffect:P.useEffect,wc=P.createContext(null);function hx(e,t){e.indexOf(t)===-1&&e.push(t)}function px(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const rr=(e,t,n)=>n>t?t:n<e?e:n;let mx=()=>{};const ir={},IM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function MM(e){return typeof e=="object"&&e!==null}const RM=e=>/^0[^.\s]+$/u.test(e);function gx(e){let t;return()=>(t===void 0&&(t=e()),t)}const nn=e=>e,_9=(e,t)=>n=>t(e(n)),Na=(...e)=>e.reduce(_9),la=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class yx{constructor(){this.subscriptions=[]}add(t){return hx(this.subscriptions,t),()=>px(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ln=e=>e*1e3,en=e=>e/1e3;function jM(e,t){return t?e*(1e3/t):0}const LM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,S9=1e-7,E9=12;function k9(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=LM(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>S9&&++a<E9);return s}function Aa(e,t,n,r){if(e===t&&n===r)return nn;const i=o=>k9(o,0,1,e,n);return o=>o===0||o===1?o:LM(i(o),t,r)}const DM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,OM=e=>t=>1-e(1-t),FM=Aa(.33,1.53,.69,.99),vx=OM(FM),zM=DM(vx),VM=e=>(e*=2)<1?.5*vx(e):.5*(2-Math.pow(2,-10*(e-1))),xx=e=>1-Math.sin(Math.acos(e)),qM=OM(xx),$M=DM(xx),C9=Aa(.42,0,1,1),T9=Aa(0,0,.58,1),BM=Aa(.42,0,.58,1),P9=e=>Array.isArray(e)&&typeof e[0]!="number",HM=e=>Array.isArray(e)&&typeof e[0]=="number",N9={linear:nn,easeIn:C9,easeInOut:BM,easeOut:T9,circIn:xx,circInOut:$M,circOut:qM,backIn:vx,backInOut:zM,backOut:FM,anticipate:VM},A9=e=>typeof e=="string",w_=e=>{if(HM(e)){mx(e.length===4);const[t,n,r,i]=e;return Aa(t,n,r,i)}else if(A9(e))return N9[e];return e},ml=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function I9(e,t){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){s.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,f=!1,d=!1)=>{const p=d&&i?n:r;return f&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{r.delete(c),s.delete(c)},process:c=>{if(a=c,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,o&&(o=!1,u.process(c))}};return u}const M9=40;function UM(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=ml.reduce((y,b)=>(y[b]=I9(o),y),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:d,render:h,postRender:p}=s,g=()=>{const y=ir.useManualTiming?i.timestamp:performance.now();n=!1,ir.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,M9),1)),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},x=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:ml.reduce((y,b)=>{const E=s[b];return y[b]=(_,k=!1,T=!1)=>(n||x(),E.schedule(_,k,T)),y},{}),cancel:y=>{for(let b=0;b<ml.length;b++)s[ml[b]].cancel(y)},state:i,steps:s}}const{schedule:Ie,cancel:Fr,state:ot,steps:zf}=UM(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let $l;function R9(){$l=void 0}const Tt={now:()=>($l===void 0&&Tt.set(ot.isProcessing||ir.useManualTiming?ot.timestamp:performance.now()),$l),set:e=>{$l=e,queueMicrotask(R9)}},WM=e=>t=>typeof t=="string"&&t.startsWith(e),GM=WM("--"),j9=WM("var(--"),wx=e=>j9(e)?L9.test(e.split("/*")[0].trim()):!1,L9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ua={...Lo,transform:e=>rr(0,1,e)},gl={...Lo,default:1},As=e=>Math.round(e*1e5)/1e5,bx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D9(e){return e==null}const O9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_x=(e,t)=>n=>!!(typeof n=="string"&&O9.test(n)&&n.startsWith(e)||t&&!D9(n)&&Object.prototype.hasOwnProperty.call(n,t)),KM=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(bx);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},F9=e=>rr(0,255,e),Vf={...Lo,transform:e=>Math.round(F9(e))},oi={test:_x("rgb","red"),parse:KM("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Vf.transform(e)+", "+Vf.transform(t)+", "+Vf.transform(n)+", "+As(ua.transform(r))+")"};function z9(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const hv={test:_x("#"),parse:z9,transform:oi.transform},Ia=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),mr=Ia("deg"),Dn=Ia("%"),ue=Ia("px"),V9=Ia("vh"),q9=Ia("vw"),b_={...Dn,parse:e=>Dn.parse(e)/100,transform:e=>Dn.transform(e*100)},Ki={test:_x("hsl","hue"),parse:KM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Dn.transform(As(t))+", "+Dn.transform(As(n))+", "+As(ua.transform(r))+")"},Ue={test:e=>oi.test(e)||hv.test(e)||Ki.test(e),parse:e=>oi.test(e)?oi.parse(e):Ki.test(e)?Ki.parse(e):hv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?oi.transform(e):Ki.transform(e),getAnimatableNone:e=>{const t=Ue.parse(e);return t.alpha=0,Ue.transform(t)}},$9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function B9(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bx))==null?void 0:t.length)||0)+(((n=e.match($9))==null?void 0:n.length)||0)>0}const YM="number",XM="color",H9="var",U9="var(",__="${}",W9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ca(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(W9,l=>(Ue.test(l)?(r.color.push(o),i.push(XM),n.push(Ue.parse(l))):l.startsWith(U9)?(r.var.push(o),i.push(H9),n.push(l)):(r.number.push(o),i.push(YM),n.push(parseFloat(l))),++o,__)).split(__);return{values:n,split:a,indexes:r,types:i}}function QM(e){return ca(e).values}function ZM(e){const{split:t,types:n}=ca(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const a=n[s];a===YM?o+=As(i[s]):a===XM?o+=Ue.transform(i[s]):o+=i[s]}return o}}const G9=e=>typeof e=="number"?0:Ue.test(e)?Ue.getAnimatableNone(e):e;function K9(e){const t=QM(e);return ZM(e)(t.map(G9))}const zr={test:B9,parse:QM,createTransformer:ZM,getAnimatableNone:K9};function qf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Y9({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=qf(l,a,e+1/3),o=qf(l,a,e),s=qf(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function Au(e,t){return n=>n>0?t:e}const Oe=(e,t,n)=>e+(t-e)*n,$f=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},X9=[hv,oi,Ki],Q9=e=>X9.find(t=>t.test(e));function S_(e){const t=Q9(e);if(!t)return!1;let n=t.parse(e);return t===Ki&&(n=Y9(n)),n}const E_=(e,t)=>{const n=S_(e),r=S_(t);if(!n||!r)return Au(e,t);const i={...n};return o=>(i.red=$f(n.red,r.red,o),i.green=$f(n.green,r.green,o),i.blue=$f(n.blue,r.blue,o),i.alpha=Oe(n.alpha,r.alpha,o),oi.transform(i))},pv=new Set(["none","hidden"]);function Z9(e,t){return pv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function J9(e,t){return n=>Oe(e,t,n)}function Sx(e){return typeof e=="number"?J9:typeof e=="string"?wx(e)?Au:Ue.test(e)?E_:n7:Array.isArray(e)?JM:typeof e=="object"?Ue.test(e)?E_:e7:Au}function JM(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>Sx(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function e7(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Sx(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function t7(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],s=e.indexes[o][r[o]],a=e.values[s]??0;n[i]=a,r[o]++}return n}const n7=(e,t)=>{const n=zr.createTransformer(t),r=ca(e),i=ca(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?pv.has(e)&&!i.values.length||pv.has(t)&&!r.values.length?Z9(e,t):Na(JM(t7(r,i),i.values),n):Au(e,t)};function eR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Oe(e,t,n):Sx(e)(e,t)}const r7=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ie.update(t,n),stop:()=>Fr(t),now:()=>ot.isProcessing?ot.timestamp:Tt.now()}},tR=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Iu=2e4;function Ex(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Iu;)t+=n,r=e.next(t);return t>=Iu?1/0:t}function i7(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Ex(r),Iu);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:en(i)}}const o7=5;function nR(e,t,n){const r=Math.max(t-o7,0);return jM(n-e(r),t-r)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bf=.001;function s7({duration:e=Ve.duration,bounce:t=Ve.bounce,velocity:n=Ve.velocity,mass:r=Ve.mass}){let i,o,s=1-t;s=rr(Ve.minDamping,Ve.maxDamping,s),e=rr(Ve.minDuration,Ve.maxDuration,en(e)),s<1?(i=u=>{const c=u*s,f=c*e,d=c-n,h=mv(u,s),p=Math.exp(-f);return Bf-d/h*p},o=u=>{const f=u*s*e,d=f*n+n,h=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),g=mv(Math.pow(u,2),s);return(-i(u)+Bf>0?-1:1)*((d-h)*p)/g}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-Bf+c*f},o=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=l7(i,o,a);if(e=Ln(e),isNaN(l))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const a7=12;function l7(e,t,n){let r=n;for(let i=1;i<a7;i++)r=r-e(r)/t(r);return r}function mv(e,t){return e*Math.sqrt(1-t*t)}const u7=["duration","bounce"],c7=["stiffness","damping","mass"];function k_(e,t){return t.some(n=>e[n]!==void 0)}function f7(e){let t={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...e};if(!k_(e,c7)&&k_(e,u7))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*rr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ve.mass,stiffness:i,damping:o}}else{const n=s7(e);t={...t,...n,mass:Ve.mass},t.isResolvedFromDuration=!0}return t}function Mu(e=Ve.visualDuration,t=Ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:h}=f7({...n,velocity:-en(n.velocity||0)}),p=d||0,g=u/(2*Math.sqrt(l*c)),x=s-o,m=en(Math.sqrt(l/c)),v=Math.abs(x)<5;r||(r=v?Ve.restSpeed.granular:Ve.restSpeed.default),i||(i=v?Ve.restDelta.granular:Ve.restDelta.default);let y;if(g<1){const E=mv(m,g);y=_=>{const k=Math.exp(-g*m*_);return s-k*((p+g*m*x)/E*Math.sin(E*_)+x*Math.cos(E*_))}}else if(g===1)y=E=>s-Math.exp(-m*E)*(x+(p+m*x)*E);else{const E=m*Math.sqrt(g*g-1);y=_=>{const k=Math.exp(-g*m*_),T=Math.min(E*_,300);return s-k*((p+g*m*x)*Math.sinh(T)+E*x*Math.cosh(T))/E}}const b={calculatedDuration:h&&f||null,next:E=>{const _=y(E);if(h)a.done=E>=f;else{let k=E===0?p:0;g<1&&(k=E===0?Ln(p):nR(y,E,_));const T=Math.abs(k)<=r,j=Math.abs(s-_)<=i;a.done=T&&j}return a.value=a.done?s:_,a},toString:()=>{const E=Math.min(Ex(b),Iu),_=tR(k=>b.next(E*k).value,E,30);return E+"ms "+_},toTransition:()=>{}};return b}Mu.applyToOptions=e=>{const t=i7(e,100,Mu);return e.ease=t.ease,e.duration=Ln(t.duration),e.type="keyframes",e};function gv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],d={done:!1,value:f},h=T=>a!==void 0&&T<a||l!==void 0&&T>l,p=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let g=n*t;const x=f+g,m=s===void 0?x:s(x);m!==x&&(g=m-f);const v=T=>-g*Math.exp(-T/r),y=T=>m+v(T),b=T=>{const j=v(T),O=y(T);d.done=Math.abs(j)<=u,d.value=d.done?m:O};let E,_;const k=T=>{h(d.value)&&(E=T,_=Mu({keyframes:[d.value,p(d.value)],velocity:nR(y,T,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:T=>{let j=!1;return!_&&E===void 0&&(j=!0,b(T),k(T)),E!==void 0&&T>=E?_.next(T-E):(!j&&b(T),d)}}}function d7(e,t,n){const r=[],i=n||ir.mix||eR,o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||nn:t;a=Na(l,a)}r.push(a)}return r}function h7(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(mx(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=d7(t,r,i),l=a.length,u=c=>{if(s&&c<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const d=la(e[f],e[f+1],c);return a[f](d)};return n?c=>u(rr(e[0],e[o-1],c)):u}function p7(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=la(0,t,r);e.push(Oe(n,1,i))}}function m7(e){const t=[0];return p7(t,e.length-1),t}function g7(e,t){return e.map(n=>n*t)}function y7(e,t){return e.map(()=>t||BM).splice(0,e.length-1)}function Is({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=P9(r)?r.map(w_):w_(r),o={done:!1,value:t[0]},s=g7(n&&n.length===t.length?n:m7(t),e),a=h7(s,t,{ease:Array.isArray(i)?i:y7(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const v7=e=>e!==null;function kx(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(v7),a=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const x7={decay:gv,inertia:gv,tween:Is,keyframes:Is,spring:Mu};function rR(e){typeof e.type=="string"&&(e.type=x7[e.type])}class Cx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const w7=e=>e/100;class Tx extends Cx{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Tt.now()&&this.tick(Tt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;rR(t);const{type:n=Is,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=t;let{keyframes:a}=t;const l=n||Is;l!==Is&&typeof a[0]!="number"&&(this.mixKeyframes=Na(w7,eR(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});o==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=Ex(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:d,repeatDelay:h,type:p,onUpdate:g,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?m<0:m>i;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let y=this.currentTime,b=r;if(f){const T=Math.min(this.currentTime,i)/a;let j=Math.floor(T),O=T%1;!O&&T>=1&&(O=1),O===1&&j--,j=Math.min(j,f+1),!!(j%2)&&(d==="reverse"?(O=1-O,h&&(O-=h/a)):d==="mirror"&&(b=s)),y=rr(0,1,O)*a}const E=v?{done:!1,value:c[0]}:b.next(y);o&&(E.value=o(E.value));let{done:_}=E;!v&&l!==null&&(_=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return k&&p!==gv&&(E.value=kx(c,this.options,x,this.speed)),g&&g(E.value),k&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return en(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+en(t)}get time(){return en(this.currentTime)}set time(t){var n;t=Ln(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=en(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=r7,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function b7(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const si=e=>e*180/Math.PI,yv=e=>{const t=si(Math.atan2(e[1],e[0]));return vv(t)},_7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:yv,rotateZ:yv,skewX:e=>si(Math.atan(e[1])),skewY:e=>si(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},vv=e=>(e=e%360,e<0&&(e+=360),e),C_=yv,T_=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),P_=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),S7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:T_,scaleY:P_,scale:e=>(T_(e)+P_(e))/2,rotateX:e=>vv(si(Math.atan2(e[6],e[5]))),rotateY:e=>vv(si(Math.atan2(-e[2],e[0]))),rotateZ:C_,rotate:C_,skewX:e=>si(Math.atan(e[4])),skewY:e=>si(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xv(e){return e.includes("scale")?1:0}function wv(e,t){if(!e||e==="none")return xv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=S7,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_7,i=a}if(!i)return xv(t);const o=r[t],s=i[1].split(",").map(k7);return typeof o=="function"?o(s):s[o]}const E7=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return wv(n,t)};function k7(e){return parseFloat(e.trim())}const Do=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oo=new Set(Do),N_=e=>e===Lo||e===ue,C7=new Set(["x","y","z"]),T7=Do.filter(e=>!C7.has(e));function P7(e){const t=[];return T7.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const di={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>wv(t,"x"),y:(e,{transform:t})=>wv(t,"y")};di.translateX=di.x;di.translateY=di.y;const hi=new Set;let bv=!1,_v=!1,Sv=!1;function iR(){if(_v){const e=Array.from(hi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=P7(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))==null||a.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_v=!1,bv=!1,hi.forEach(e=>e.complete(Sv)),hi.clear()}function oR(){hi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_v=!0)})}function N7(){Sv=!0,oR(),iR(),Sv=!1}class Px{constructor(t,n,r,i,o,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(hi.add(this),bv||(bv=!0,Ie.read(oR),Ie.resolveKeyframes(iR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),s=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const a=r.readValue(n,s);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=s),i&&o===void 0&&i.set(t[0])}b7(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),hi.delete(this)}cancel(){this.state==="scheduled"&&(hi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const A7=e=>e.startsWith("--");function I7(e,t,n){A7(t)?e.style.setProperty(t,n):e.style[t]=n}const M7=gx(()=>window.ScrollTimeline!==void 0),R7={};function j7(e,t){const n=gx(e);return()=>R7[t]??n()}const sR=j7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ls=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,A_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ls([0,.65,.55,1]),circOut:ls([.55,0,1,.45]),backIn:ls([.31,.01,.66,-.59]),backOut:ls([.33,1.53,.69,.99])};function aR(e,t){if(e)return typeof e=="function"?sR()?tR(e,t):"ease-out":HM(e)?ls(e):Array.isArray(e)?e.map(n=>aR(n,t)||A_.easeOut):A_[e]}function L7(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const f=aR(a,i);Array.isArray(f)&&(c.easing=f);const d={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),e.animate(c,d)}function lR(e){return typeof e=="function"&&"applyToOptions"in e}function D7({type:e,...t}){return lR(e)&&sR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class O7 extends Cx{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!o,this.allowFlatten=s,this.options=t,mx(typeof t.type!="string");const u=D7(t);this.animation=L7(n,r,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const c=kx(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):I7(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return en(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+en(t)}get time(){return en(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ln(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&M7()?(this.animation.timeline=t,nn):n(this)}}const uR={anticipate:VM,backInOut:zM,circInOut:$M};function F7(e){return e in uR}function z7(e){typeof e.ease=="string"&&F7(e.ease)&&(e.ease=uR[e.ease])}const I_=10;class V7 extends O7{constructor(t){z7(t),rR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Tx({...s,autoplay:!1}),l=Ln(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-I_).value,a.sample(l).value,I_),a.stop()}}const M_=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zr.test(e)||e==="0")&&!e.startsWith("url("));function q7(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function $7(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=M_(i,t),a=M_(o,t);return!s||!a?!1:q7(e)||(n==="spring"||lR(n))&&r}function Ev(e){e.duration=0,e.type="keyframes"}const B7=new Set(["opacity","clipPath","filter","transform"]),H7=gx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U7(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return H7()&&n&&B7.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&o!==0&&s!=="inertia"}const W7=40;class G7 extends Cx{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",keyframes:a,name:l,motionValue:u,element:c,...f}){var p;super(),this.stop=()=>{var g,x;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Tt.now();const d={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,name:l,motionValue:u,element:c,...f},h=(c==null?void 0:c.KeyframeResolver)||Px;this.keyframeResolver=new h(a,(g,x,m)=>this.onKeyframesResolved(g,x,d,!m),l,u,c),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:o,type:s,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Tt.now(),$7(t,o,s,a)||((ir.instantAnimations||!l)&&(c==null||c(kx(t,r,n))),t[0]=t[t.length-1],Ev(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>W7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},h=!u&&U7(d)?new V7({...d,element:d.motionValue.owner.current}):new Tx(d);h.finished.then(()=>this.notifyFinished()).catch(nn),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),N7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const K7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y7(e){const t=K7.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function cR(e,t,n=1){const[r,i]=Y7(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return IM(s)?parseFloat(s):s}return wx(i)?cR(i,t,n+1):i}function Nx(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const fR=new Set(["width","height","top","left","right","bottom",...Do]),X7={test:e=>e==="auto",parse:e=>e},dR=e=>t=>t.test(e),hR=[Lo,ue,Dn,mr,q9,V9,X7],R_=e=>hR.find(dR(e));function Q7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||RM(e):!0}const Z7=new Set(["brightness","contrast","saturate","opacity"]);function J7(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(bx)||[];if(!r)return e;const i=n.replace(r,"");let o=Z7.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const eW=/\b([a-z-]*)\(.*?\)/gu,kv={...zr,getAnimatableNone:e=>{const t=e.match(eW);return t?t.map(J7).join(" "):e}},j_={...Lo,transform:Math.round},tW={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:gl,scaleX:gl,scaleY:gl,scaleZ:gl,skew:mr,skewX:mr,skewY:mr,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:ua,originX:b_,originY:b_,originZ:ue},Ax={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue,...tW,zIndex:j_,fillOpacity:ua,strokeOpacity:ua,numOctaves:j_},nW={...Ax,color:Ue,backgroundColor:Ue,outlineColor:Ue,fill:Ue,stroke:Ue,borderColor:Ue,borderTopColor:Ue,borderRightColor:Ue,borderBottomColor:Ue,borderLeftColor:Ue,filter:kv,WebkitFilter:kv},pR=e=>nW[e];function mR(e,t){let n=pR(e);return n!==kv&&(n=zr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const rW=new Set(["auto","none","0"]);function iW(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!rW.has(o)&&ca(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=mR(n,i)}class oW extends Px{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),wx(u))){const c=cR(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!fR.has(r)||t.length!==2)return;const[i,o]=t,s=R_(i),a=R_(o);if(s!==a)if(N_(s)&&N_(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else di[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||Q7(t[i]))&&r.push(i);r.length&&iW(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=di[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=di[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function sW(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const gR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function yR(e){return MM(e)&&"offsetHeight"in e}const L_=30,aW=e=>!isNaN(parseFloat(e));class lW{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Tt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Tt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=aW(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yx);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>L_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,L_);return jM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function To(e,t){return new lW(e,t)}const{schedule:Ix}=UM(queueMicrotask,!1),fn={x:!1,y:!1};function vR(){return fn.x||fn.y}function uW(e){return e==="x"||e==="y"?fn[e]?null:(fn[e]=!0,()=>{fn[e]=!1}):fn.x||fn.y?null:(fn.x=fn.y=!0,()=>{fn.x=fn.y=!1})}function xR(e,t){const n=sW(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function D_(e){return!(e.pointerType==="touch"||vR())}function cW(e,t,n={}){const[r,i,o]=xR(e,n),s=a=>{if(!D_(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=f=>{D_(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const wR=(e,t)=>t?e===t?!0:wR(e,t.parentElement):!1,Mx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,fW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dW(e){return fW.has(e.tagName)||e.tabIndex!==-1}const Bl=new WeakSet;function O_(e){return t=>{t.key==="Enter"&&e(t)}}function Hf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const hW=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=O_(()=>{if(Bl.has(n))return;Hf(n,"down");const i=O_(()=>{Hf(n,"up")}),o=()=>Hf(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function F_(e){return Mx(e)&&!vR()}function pW(e,t,n={}){const[r,i,o]=xR(e,n),s=a=>{const l=a.currentTarget;if(!F_(a))return;Bl.add(l);const u=t(l,a),c=(h,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),Bl.has(l)&&Bl.delete(l),F_(h)&&typeof u=="function"&&u(h,{success:p})},f=h=>{c(h,l===window||l===document||n.useGlobalTarget||wR(l,h.target))},d=h=>{c(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),yR(a)&&(a.addEventListener("focus",u=>hW(u,i)),!dW(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function bR(e){return MM(e)&&"ownerSVGElement"in e}function mW(e){return bR(e)&&e.tagName==="svg"}const ft=e=>!!(e&&e.getVelocity),gW=[...hR,Ue,zr],yW=e=>gW.find(dR(e)),Rx=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function z_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vW(...e){return t=>{let n=!1;const r=e.map(i=>{const o=z_(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():z_(e[i],null)}}}}function xW(...e){return P.useCallback(vW(...e),e)}class wW extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=yR(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bW({children:e,isPresent:t,anchorX:n,root:r}){const i=P.useId(),o=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=P.useContext(Rx),l=xW(o,e==null?void 0:e.ref);return P.useInsertionEffect(()=>{const{width:u,height:c,top:f,left:d,right:h}=s.current;if(t||!o.current||!u||!c)return;const p=n==="left"?`left: ${d}`:`right: ${h}`;o.current.dataset.motionPopId=i;const g=document.createElement("style");a&&(g.nonce=a);const x=r??document.head;return x.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(g)&&x.removeChild(g)}},[t]),w.jsx(wW,{isPresent:t,childRef:o,sizeRef:s,children:P.cloneElement(e,{ref:l})})}const _W=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:a,root:l})=>{const u=fx(SW),c=P.useId();let f=!0,d=P.useMemo(()=>(f=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:h=>{u.set(h,!0);for(const p of u.values())if(!p)return;r&&r()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[n,u,r]);return o&&f&&(d={...d}),P.useMemo(()=>{u.forEach((h,p)=>u.set(p,!1))},[n]),P.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),s==="popLayout"&&(e=w.jsx(bW,{isPresent:n,anchorX:a,root:l,children:e})),w.jsx(wc.Provider,{value:d,children:e})};function SW(){return new Map}function _R(e=!0){const t=P.useContext(wc);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=P.useId();P.useEffect(()=>{if(e)return i(o)},[e]);const s=P.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const yl=e=>e.key||"";function V_(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const EW=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:a="left",root:l})=>{const[u,c]=_R(s),f=P.useMemo(()=>V_(e),[e]),d=s&&!u?[]:f.map(yl),h=P.useRef(!0),p=P.useRef(f),g=fx(()=>new Map),[x,m]=P.useState(f),[v,y]=P.useState(f);AM(()=>{h.current=!1,p.current=f;for(let _=0;_<v.length;_++){const k=yl(v[_]);d.includes(k)?g.delete(k):g.get(k)!==!0&&g.set(k,!1)}},[v,d.length,d.join("-")]);const b=[];if(f!==x){let _=[...f];for(let k=0;k<v.length;k++){const T=v[k],j=yl(T);d.includes(j)||(_.splice(k,0,T),b.push(T))}return o==="wait"&&b.length&&(_=b),y(V_(_)),m(f),null}const{forceRender:E}=P.useContext(cx);return w.jsx(w.Fragment,{children:v.map(_=>{const k=yl(_),T=s&&!u?!1:f===v||d.includes(k),j=()=>{if(g.has(k))g.set(k,!0);else return;let O=!0;g.forEach(A=>{A||(O=!1)}),O&&(E==null||E(),y(p.current),s&&(c==null||c()),r&&r())};return w.jsx(_W,{isPresent:T,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:l,onExitComplete:T?void 0:j,anchorX:a,children:_},k)})})},SR=P.createContext({strict:!1}),q_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Po={};for(const e in q_)Po[e]={isEnabled:t=>q_[e].some(n=>!!t[n])};function kW(e){for(const t in e)Po[t]={...Po[t],...e[t]}}const CW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ru(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CW.has(e)}let ER=e=>!Ru(e);function TW(e){typeof e=="function"&&(ER=t=>t.startsWith("on")?!Ru(t):e(t))}try{TW(require("@emotion/is-prop-valid").default)}catch{}function PW(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(ER(i)||n===!0&&Ru(i)||!t&&!Ru(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const bc=P.createContext({});function _c(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function fa(e){return typeof e=="string"||Array.isArray(e)}const jx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lx=["initial",...jx];function Sc(e){return _c(e.animate)||Lx.some(t=>fa(e[t]))}function kR(e){return!!(Sc(e)||e.variants)}function NW(e,t){if(Sc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||fa(n)?n:void 0,animate:fa(r)?r:void 0}}return e.inherit!==!1?t:{}}function AW(e){const{initial:t,animate:n}=NW(e,P.useContext(bc));return P.useMemo(()=>({initial:t,animate:n}),[$_(t),$_(n)])}function $_(e){return Array.isArray(e)?e.join(" "):e}function B_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ts={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ue.test(e))e=parseFloat(e);else return e;const n=B_(e,t.target.x),r=B_(e,t.target.y);return`${n}% ${r}%`}},IW={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=zr.parse(e);if(i.length>5)return r;const o=zr.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=Oe(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}},Cv={borderRadius:{...ts,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ts,borderTopRightRadius:ts,borderBottomLeftRadius:ts,borderBottomRightRadius:ts,boxShadow:IW};function CR(e,{layout:t,layoutId:n}){return Oo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Cv[e]||e==="opacity")}const MW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RW=Do.length;function jW(e,t,n){let r="",i=!0;for(let o=0;o<RW;o++){const s=Do[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=gR(a,Ax[s]);if(!l){i=!1;const c=MW[s]||s;r+=`${c}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Dx(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const u=t[l];if(Oo.has(l)){s=!0;continue}else if(GM(l)){i[l]=u;continue}else{const c=gR(u,Ax[l]);l.startsWith("origin")?(a=!0,o[l]=c):r[l]=c}}if(t.transform||(s||n?r.transform=jW(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=o;r.transformOrigin=`${l} ${u} ${c}`}}const Ox=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TR(e,t,n){for(const r in t)!ft(t[r])&&!CR(r,n)&&(e[r]=t[r])}function LW({transformTemplate:e},t){return P.useMemo(()=>{const n=Ox();return Dx(n,t,e),Object.assign({},n.vars,n.style)},[t])}function DW(e,t){const n=e.style||{},r={};return TR(r,n,e),Object.assign(r,LW(e,t)),r}function OW(e,t){const n={},r=DW(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const FW={offset:"stroke-dashoffset",array:"stroke-dasharray"},zW={offset:"strokeDashoffset",array:"strokeDasharray"};function VW(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?FW:zW;e[o.offset]=ue.transform(-r);const s=ue.transform(t),a=ue.transform(n);e[o.array]=`${s} ${a}`}function PR(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...a},l,u,c){if(Dx(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:d}=e;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&VW(f,i,o,s,!1)}const NR=()=>({...Ox(),attrs:{}}),AR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function qW(e,t,n,r){const i=P.useMemo(()=>{const o=NR();return PR(o,t,AR(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};TR(o,e.style,e),i.style={...o,...i.style}}return i}const $W=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fx(e){return typeof e!="string"||e.includes("-")?!1:!!($W.indexOf(e)>-1||/[A-Z]/u.test(e))}function BW(e,t,n,{latestValues:r},i,o=!1){const a=(Fx(e)?qW:OW)(t,r,i,e),l=PW(t,typeof e=="string",o),u=e!==P.Fragment?{...l,...a,ref:n}:{},{children:c}=t,f=P.useMemo(()=>ft(c)?c.get():c,[c]);return P.createElement(e,{...u,children:f})}function H_(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function zx(e,t,n,r){if(typeof t=="function"){const[i,o]=H_(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=H_(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function Hl(e){return ft(e)?e.get():e}function HW({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:UW(n,r,i,e),renderState:t()}}function UW(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=Hl(o[d]);let{initial:s,animate:a}=e;const l=Sc(e),u=kR(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;if(f&&typeof f!="boolean"&&!_c(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const p=zx(e,d[h]);if(p){const{transitionEnd:g,transition:x,...m}=p;for(const v in m){let y=m[v];if(Array.isArray(y)){const b=c?y.length-1:0;y=y[b]}y!==null&&(i[v]=y)}for(const v in g)i[v]=g[v]}}}return i}const IR=e=>(t,n)=>{const r=P.useContext(bc),i=P.useContext(wc),o=()=>HW(e,t,r,i);return n?o():fx(o)};function Vx(e,t,n){var o;const{style:r}=e,i={};for(const s in r)(ft(r[s])||t.style&&ft(t.style[s])||CR(s,e)||((o=n==null?void 0:n.getValue(s))==null?void 0:o.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const WW=IR({scrapeMotionValuesFromProps:Vx,createRenderState:Ox});function MR(e,t,n){const r=Vx(e,t,n);for(const i in e)if(ft(e[i])||ft(t[i])){const o=Do.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}const GW=IR({scrapeMotionValuesFromProps:MR,createRenderState:NR}),KW=Symbol.for("motionComponentSymbol");function Yi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function YW(e,t,n){return P.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Yi(n)&&(n.current=r))},[t])}const qx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XW="framerAppearId",RR="data-"+qx(XW),jR=P.createContext({});function QW(e,t,n,r,i){var g,x;const{visualElement:o}=P.useContext(bc),s=P.useContext(SR),a=P.useContext(wc),l=P.useContext(Rx).reducedMotion,u=P.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=P.useContext(jR);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&ZW(u.current,n,i,f);const d=P.useRef(!1);P.useInsertionEffect(()=>{c&&d.current&&c.update(n,a)});const h=n[RR],p=P.useRef(!!h&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,h))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,h)));return AM(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),P.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,h)}),p.current=!1),c.enteringChildren=void 0)}),c}function ZW(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:LR(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&Yi(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function LR(e){if(e)return e.options.allowProjection!==!1?e.projection:LR(e.parent)}function Uf(e,{forwardMotionProps:t=!1}={},n,r){n&&kW(n);const i=Fx(e)?GW:WW;function o(a,l){let u;const c={...P.useContext(Rx),...a,layoutId:JW(a)},{isStatic:f}=c,d=AW(a),h=i(a,f);if(!f&&dx){eG();const p=tG(c);u=p.MeasureLayout,d.visualElement=QW(e,h,c,r,p.ProjectionNode)}return w.jsxs(bc.Provider,{value:d,children:[u&&d.visualElement?w.jsx(u,{visualElement:d.visualElement,...c}):null,BW(e,a,YW(h,d.visualElement,l),h,f,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=P.forwardRef(o);return s[KW]=e,s}function JW({layoutId:e}){const t=P.useContext(cx).id;return t&&e!==void 0?t+"-"+e:e}function eG(e,t){P.useContext(SR).strict}function tG(e){const{drag:t,layout:n}=Po;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function nG(e,t){if(typeof Proxy>"u")return Uf;const n=new Map,r=(o,s)=>Uf(o,s,e,t),i=(o,s)=>r(o,s);return new Proxy(i,{get:(o,s)=>s==="create"?r:(n.has(s)||n.set(s,Uf(s,void 0,e,t)),n.get(s))})}function DR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function rG({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iG(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wf(e){return e===void 0||e===1}function Tv({scale:e,scaleX:t,scaleY:n}){return!Wf(e)||!Wf(t)||!Wf(n)}function Zr(e){return Tv(e)||OR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function OR(e){return U_(e.x)||U_(e.y)}function U_(e){return e&&e!=="0%"}function ju(e,t,n){const r=e-n,i=t*r;return n+i}function W_(e,t,n,r,i){return i!==void 0&&(e=ju(e,i,r)),ju(e,n,r)+t}function Pv(e,t=0,n=1,r,i){e.min=W_(e.min,t,n,r,i),e.max=W_(e.max,t,n,r,i)}function FR(e,{x:t,y:n}){Pv(e.x,t.translate,t.scale,t.originPoint),Pv(e.y,n.translate,n.scale,n.originPoint)}const G_=.999999999999,K_=1.0000000000001;function oG(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qi(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,FR(e,s)),r&&Zr(o.latestValues)&&Qi(e,o.latestValues))}t.x<K_&&t.x>G_&&(t.x=1),t.y<K_&&t.y>G_&&(t.y=1)}function Xi(e,t){e.min=e.min+t,e.max=e.max+t}function Y_(e,t,n,r,i=.5){const o=Oe(e.min,e.max,i);Pv(e,t,n,o,r)}function Qi(e,t){Y_(e.x,t.x,t.scaleX,t.scale,t.originX),Y_(e.y,t.y,t.scaleY,t.scale,t.originY)}function zR(e,t){return DR(iG(e.getBoundingClientRect(),t))}function sG(e,t,n){const r=zR(e,n),{scroll:i}=t;return i&&(Xi(r.x,i.offset.x),Xi(r.y,i.offset.y)),r}const X_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zi=()=>({x:X_(),y:X_()}),Q_=()=>({min:0,max:0}),Qe=()=>({x:Q_(),y:Q_()}),Nv={current:null},VR={current:!1};function aG(){if(VR.current=!0,!!dx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Nv.current=e.matches;e.addEventListener("change",t),t()}else Nv.current=!1}const lG=new WeakMap;function uG(e,t,n){for(const r in t){const i=t[r],o=n[r];if(ft(i))e.addValue(r,i);else if(ft(o))e.addValue(r,To(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,To(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Z_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cG{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Px,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Tt.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Ie.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Sc(n),this.isVariantNode=kR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const h=f[d];l[d]!==void 0&&ft(h)&&h.set(l[d])}}mount(t){var n;this.current=t,lG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),VR.current||aG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nv.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Fr(this.notifyUpdate),Fr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Oo.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Po){const n=Po[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Z_.length;r++){const i=Z_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=uG(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=To(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(IM(r)||RM(r))?r=parseFloat(r):!yW(r)&&zr.test(n)&&(r=mR(t,n)),this.setBaseTarget(t,ft(r)?r.get():r)),ft(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=zx(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ft(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Ix.render(this.render)}}class qR extends cG{constructor(){super(...arguments),this.KeyframeResolver=oW}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ft(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $R(e,{style:t,vars:n},r,i){const o=e.style;let s;for(s in t)o[s]=t[s];i==null||i.applyProjectionStyles(o,r);for(s in n)o.setProperty(s,n[s])}function fG(e){return window.getComputedStyle(e)}class dG extends qR{constructor(){super(...arguments),this.type="html",this.renderInstance=$R}readValueFromInstance(t,n){var r;if(Oo.has(n))return(r=this.projection)!=null&&r.isProjecting?xv(n):E7(t,n);{const i=fG(t),o=(GM(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return zR(t,n)}build(t,n,r){Dx(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Vx(t,n,r)}}const BR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hG(e,t,n,r){$R(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(BR.has(i)?i:qx(i),t.attrs[i])}class pG extends qR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Oo.has(n)){const r=pR(n);return r&&r.default||0}return n=BR.has(n)?n:qx(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return MR(t,n,r)}build(t,n,r){PR(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){hG(t,n,r,i)}mount(t){this.isSVGTag=AR(t.tagName),super.mount(t)}}const mG=(e,t)=>Fx(e)?new pG(t):new dG(t,{allowProjection:e!==P.Fragment});function co(e,t,n){const r=e.getProps();return zx(r,t,n!==void 0?n:r.custom,e)}const Av=e=>Array.isArray(e);function gG(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,To(n))}function yG(e){return Av(e)?e[e.length-1]||0:e}function vG(e,t){const n=co(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=yG(o[s]);gG(e,s,a)}}function xG(e){return!!(ft(e)&&e.add)}function Iv(e,t){const n=e.getValue("willChange");if(xG(n))return n.add(t);if(!n&&ir.WillChange){const r=new ir.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function HR(e){return e.props[RR]}const wG=e=>e!==null;function bG(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(wG),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}const _G={type:"spring",stiffness:500,damping:25,restSpeed:10},SG=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),EG={type:"keyframes",duration:.8},kG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CG=(e,{keyframes:t})=>t.length>2?EG:Oo.has(e)?e.startsWith("scale")?SG(t[1]):_G:kG;function TG({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const $x=(e,t,n,r={},i,o)=>s=>{const a=Nx(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ln(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:d=>{t.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};TG(a)||Object.assign(c,CG(e,c)),c.duration&&(c.duration=Ln(c.duration)),c.repeatDelay&&(c.repeatDelay=Ln(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Ev(c),c.delay===0&&(f=!0)),(ir.instantAnimations||ir.skipAnimations)&&(f=!0,Ev(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,f&&!o&&t.get()!==void 0){const d=bG(c.keyframes,a);if(d!==void 0){Ie.update(()=>{c.onUpdate(d),c.onComplete()});return}}return a.isSync?new Tx(c):new G7(c)};function PG({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function UR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=t;r&&(o=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const c in a){const f=e.getValue(c,e.latestValues[c]??null),d=a[c];if(d===void 0||u&&PG(u,c))continue;const h={delay:n,...Nx(o||{},c)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===p&&!h.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const m=HR(e);if(m){const v=window.MotionHandoffAnimation(m,c,Ie);v!==null&&(h.startTime=v,g=!0)}}Iv(e,c),f.start($x(c,f,d,e.shouldReduceMotion&&fR.has(c)?{type:!1}:h,e,g));const x=f.animation;x&&l.push(x)}return s&&Promise.all(l).then(()=>{Ie.update(()=>{s&&vG(e,s)})}),l}function WR(e,t,n,r=0,i=1){const o=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),s=e.size,a=(s-1)*r;return typeof n=="function"?n(o,s):i===1?o*r:a-o*r}function Mv(e,t,n={}){var l;const r=co(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(UR(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=i;return NG(e,t,u,c,f,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[o,s]:[s,o];return u().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function NG(e,t,n=0,r=0,i=0,o=1,s){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Mv(l,t,{...s,delay:n+(typeof r=="function"?0:r)+WR(e.variantChildren,l,r,i,o)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function AG(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>Mv(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=Mv(e,t,n);else{const i=typeof t=="function"?co(e,t,n.custom):t;r=Promise.all(UR(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function GR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const IG=Lx.length;function KR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?KR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<IG;n++){const r=Lx[n],i=e.props[r];(fa(i)||i===!1)&&(t[r]=i)}return t}const MG=[...jx].reverse(),RG=jx.length;function jG(e){return t=>Promise.all(t.map(({animation:n,options:r})=>AG(e,n,r)))}function LG(e){let t=jG(e),n=J_(),r=!0;const i=l=>(u,c)=>{var d;const f=co(e,c,l==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...g}=f;u={...u,...g,...p}}return u};function o(l){t=l(e)}function s(l){const{props:u}=e,c=KR(e.parent)||{},f=[],d=new Set;let h={},p=1/0;for(let x=0;x<RG;x++){const m=MG[x],v=n[m],y=u[m]!==void 0?u[m]:c[m],b=fa(y),E=m===l?v.isActive:null;E===!1&&(p=x);let _=y===c[m]&&y!==u[m]&&b;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),v.protectedKeys={...h},!v.isActive&&E===null||!y&&!v.prevProp||_c(y)||typeof y=="boolean")continue;const k=DG(v.prevProp,y);let T=k||m===l&&v.isActive&&!_&&b||x>p&&b,j=!1;const O=Array.isArray(y)?y:[y];let A=O.reduce(i(m),{});E===!1&&(A={});const{prevResolvedValues:D={}}=v,z={...D,...A},I=M=>{T=!0,d.has(M)&&(j=!0,d.delete(M)),v.needsAnimating[M]=!0;const C=e.getValue(M);C&&(C.liveStyle=!1)};for(const M in z){const C=A[M],R=D[M];if(h.hasOwnProperty(M))continue;let S=!1;Av(C)&&Av(R)?S=!GR(C,R):S=C!==R,S?C!=null?I(M):d.add(M):C!==void 0&&d.has(M)?I(M):v.protectedKeys[M]=!0}v.prevProp=y,v.prevResolvedValues=A,v.isActive&&(h={...h,...A}),r&&e.blockInitialAnimation&&(T=!1);const L=_&&k;T&&(!L||j)&&f.push(...O.map(M=>{const C={type:m};if(typeof M=="string"&&r&&!L&&e.manuallyAnimateOnMount&&e.parent){const{parent:R}=e,S=co(R,M);if(R.enteringChildren&&S){const{delayChildren:V}=S.transition||{};C.delay=WR(R.enteringChildren,e,V)}}return{animation:M,options:C}}))}if(d.size){const x={};if(typeof u.initial!="boolean"){const m=co(e,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(x.transition=m.transition)}d.forEach(m=>{const v=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),x[m]=v??null}),f.push({animation:x})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const c=s(l);for(const d in n)n[d].protectedKeys={};return c}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=J_()}}}function DG(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!GR(t,e):!1}function Kr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function J_(){return{animate:Kr(!0),whileInView:Kr(),whileHover:Kr(),whileTap:Kr(),whileDrag:Kr(),whileFocus:Kr(),exit:Kr()}}class Ur{constructor(t){this.isMounted=!1,this.node=t}update(){}}class OG extends Ur{constructor(t){super(t),t.animationState||(t.animationState=LG(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_c(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let FG=0;class zG extends Ur{constructor(){super(...arguments),this.id=FG++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const VG={animation:{Feature:OG},exit:{Feature:zG}};function da(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ma(e){return{point:{x:e.pageX,y:e.pageY}}}const qG=e=>t=>Mx(t)&&e(t,Ma(t));function Ms(e,t,n,r){return da(e,t,qG(n),r)}const YR=1e-4,$G=1-YR,BG=1+YR,XR=.01,HG=0-XR,UG=0+XR;function gt(e){return e.max-e.min}function WG(e,t,n){return Math.abs(e-t)<=n}function eS(e,t,n,r=.5){e.origin=r,e.originPoint=Oe(t.min,t.max,e.origin),e.scale=gt(n)/gt(t),e.translate=Oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=$G&&e.scale<=BG||isNaN(e.scale))&&(e.scale=1),(e.translate>=HG&&e.translate<=UG||isNaN(e.translate))&&(e.translate=0)}function Rs(e,t,n,r){eS(e.x,t.x,n.x,r?r.originX:void 0),eS(e.y,t.y,n.y,r?r.originY:void 0)}function tS(e,t,n){e.min=n.min+t.min,e.max=e.min+gt(t)}function GG(e,t,n){tS(e.x,t.x,n.x),tS(e.y,t.y,n.y)}function nS(e,t,n){e.min=t.min-n.min,e.max=e.min+gt(t)}function Lu(e,t,n){nS(e.x,t.x,n.x),nS(e.y,t.y,n.y)}function Yt(e){return[e("x"),e("y")]}const QR=({current:e})=>e?e.ownerDocument.defaultView:null,rS=(e,t)=>Math.abs(e-t);function KG(e,t){const n=rS(e.x,t.x),r=rS(e.y,t.y);return Math.sqrt(n**2+r**2)}class ZR{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Kf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=KG(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!p)return;const{point:g}=d,{timestamp:x}=ot;this.history.push({...g,timestamp:x});const{onStart:m,onMove:v}=this.handlers;h||(m&&m(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Gf(h,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Kf(d.type==="pointercancel"?this.lastMoveEventInfo:Gf(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,m),g&&g(d,m)},!Mx(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const a=Ma(t),l=Gf(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=ot;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(t,Kf(l,this.history)),this.removeListeners=Na(Ms(this.contextWindow,"pointermove",this.handlePointerMove),Ms(this.contextWindow,"pointerup",this.handlePointerUp),Ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fr(this.updatePoint)}}function Gf(e,t){return t?{point:t(e.point)}:e}function iS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kf({point:e},t){return{point:e,delta:iS(e,JR(t)),offset:iS(e,YG(t)),velocity:XG(t,.1)}}function YG(e){return e[0]}function JR(e){return e[e.length-1]}function XG(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=JR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ln(t)));)n--;if(!r)return{x:0,y:0};const o=en(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function QG(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Oe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Oe(n,e,r.max):Math.min(e,n)),e}function oS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ZG(e,{top:t,left:n,bottom:r,right:i}){return{x:oS(e.x,n,i),y:oS(e.y,t,r)}}function sS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function JG(e,t){return{x:sS(e.x,t.x),y:sS(e.y,t.y)}}function eK(e,t){let n=.5;const r=gt(e),i=gt(t);return i>r?n=la(t.min,t.max-r,e.min):r>i&&(n=la(e.min,e.max-i,t.min)),rr(0,1,n)}function tK(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Rv=.35;function nK(e=Rv){return e===!1?e=0:e===!0&&(e=Rv),{x:aS(e,"left","right"),y:aS(e,"top","bottom")}}function aS(e,t,n){return{min:lS(e,t),max:lS(e,n)}}function lS(e,t){return typeof e=="number"?e:e[t]||0}const rK=new WeakMap;class iK{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ma(f).point)},s=(f,d)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uW(h),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yt(m=>{let v=this.getAxisMotionValue(m).get()||0;if(Dn.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[m];b&&(v=gt(b)*(parseFloat(v)/100))}}this.originPoint[m]=v}),g&&Ie.postRender(()=>g(f,d)),Iv(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:m}=d;if(p&&this.currentDirection===null){this.currentDirection=oK(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,m),this.updateAxis("y",d.point,m),this.visualElement.render(),x&&x(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Yt(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ZR(t,{onSessionStart:o,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:QR(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ie.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!vl(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=QG(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&Yi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=ZG(r.layoutBox,t):this.constraints=!1,this.elastic=nK(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Yt(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=tK(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yi(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=sG(r,i.root,this.visualElement.getTransformPagePoint());let s=JG(i.layout.layoutBox,o);if(n){const a=n(rG(s));this.hasMutatedConstraints=!!a,a&&(s=DR(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Yt(c=>{if(!vl(c,n,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Iv(this.visualElement,t),r.start($x(t,r,0,n,this.visualElement,!1))}stopAnimation(){Yt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Yt(n=>{const{drag:r}=this.getProps();if(!vl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Oe(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Yi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Yt(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=eK({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yt(s=>{if(!vl(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Oe(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;rK.set(this.visualElement,this);const t=this.visualElement.current,n=Ms(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Yi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ie.read(r);const s=da(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Yt(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Rv,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function vl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function oK(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class sK extends Ur{constructor(t){super(t),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new iK(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const uS=e=>(t,n)=>{e&&Ie.postRender(()=>e(t,n))};class aK extends Ur{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(t){this.session=new ZR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:uS(t),onStart:uS(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Ie.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Ms(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ul={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Yf=!1;class lK extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),Yf&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ul.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:s}=r;return s&&(s.isPresent=o,Yf=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||Ie.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ix.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;Yf=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ej(e){const[t,n]=_R(),r=P.useContext(cx);return w.jsx(lK,{...e,layoutGroup:r,switchLayoutGroup:P.useContext(jR),isPresent:t,safeToRemove:n})}function uK(e,t,n){const r=ft(e)?e:To(e);return r.start($x("",r,t,n)),r.animation}const cK=(e,t)=>e.depth-t.depth;class fK{constructor(){this.children=[],this.isDirty=!1}add(t){hx(this.children,t),this.isDirty=!0}remove(t){px(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cK),this.isDirty=!1,this.children.forEach(t)}}function dK(e,t){const n=Tt.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Fr(r),e(o-t))};return Ie.setup(r,!0),()=>Fr(r)}const tj=["TopLeft","TopRight","BottomLeft","BottomRight"],hK=tj.length,cS=e=>typeof e=="string"?parseFloat(e):e,fS=e=>typeof e=="number"||ue.test(e);function pK(e,t,n,r,i,o){i?(e.opacity=Oe(0,n.opacity??1,mK(r)),e.opacityExit=Oe(t.opacity??1,0,gK(r))):o&&(e.opacity=Oe(t.opacity??1,n.opacity??1,r));for(let s=0;s<hK;s++){const a=`border${tj[s]}Radius`;let l=dS(t,a),u=dS(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||fS(l)===fS(u)?(e[a]=Math.max(Oe(cS(l),cS(u),r),0),(Dn.test(u)||Dn.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Oe(t.rotate||0,n.rotate||0,r))}function dS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const mK=nj(0,.5,qM),gK=nj(.5,.95,nn);function nj(e,t,n){return r=>r<e?0:r>t?1:n(la(e,t,r))}function hS(e,t){e.min=t.min,e.max=t.max}function cn(e,t){hS(e.x,t.x),hS(e.y,t.y)}function pS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function mS(e,t,n,r,i){return e-=t,e=ju(e,1/n,r),i!==void 0&&(e=ju(e,1/i,r)),e}function yK(e,t=0,n=1,r=.5,i,o=e,s=e){if(Dn.test(t)&&(t=parseFloat(t),t=Oe(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Oe(o.min,o.max,r);e===o&&(a-=t),e.min=mS(e.min,t,n,a,i),e.max=mS(e.max,t,n,a,i)}function gS(e,t,[n,r,i],o,s){yK(e,t[n],t[r],t[i],t.scale,o,s)}const vK=["x","scaleX","originX"],xK=["y","scaleY","originY"];function yS(e,t,n,r){gS(e.x,t,vK,n?n.x:void 0,r?r.x:void 0),gS(e.y,t,xK,n?n.y:void 0,r?r.y:void 0)}function vS(e){return e.translate===0&&e.scale===1}function rj(e){return vS(e.x)&&vS(e.y)}function xS(e,t){return e.min===t.min&&e.max===t.max}function wK(e,t){return xS(e.x,t.x)&&xS(e.y,t.y)}function wS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ij(e,t){return wS(e.x,t.x)&&wS(e.y,t.y)}function bS(e){return gt(e.x)/gt(e.y)}function _S(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class bK{constructor(){this.members=[]}add(t){hx(this.members,t),t.scheduleRender()}remove(t){if(px(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _K(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:h,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Xf=["","X","Y","Z"],SK=1e3;let EK=0;function Qf(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function oj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=HR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ie,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&oj(r)}function sj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=EK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TK),this.nodes.forEach(IK),this.nodes.forEach(MK),this.nodes.forEach(PK)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fK)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new yx),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=bR(s)&&!mW(s),this.instance=s;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,f=0;const d=()=>this.root.updateBlockedByResize=!1;Ie.read(()=>{f=window.innerWidth}),e(s,()=>{const h=window.innerWidth;h!==f&&(f=h,this.root.updateBlockedByResize=!0,c&&c(),c=dK(d,250),Ul.hasAnimatedSinceResize&&(Ul.hasAnimatedSinceResize=!1,this.nodes.forEach(kS)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||OK,{onLayoutAnimationStart:g,onLayoutAnimationComplete:x}=u.getProps(),m=!this.targetLayout||!ij(this.targetLayout,h),v=!f&&d;if(this.options.layoutRoot||this.resumeFrom||v||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...Nx(p,"layout"),onPlay:g,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(c,v)}else f||kS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RK),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ES);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AK),this.nodes.forEach(kK),this.nodes.forEach(CK)):this.nodes.forEach(ES),this.clearAllSnapshots();const a=Tt.now();ot.delta=rr(0,1e3/60,a-ot.timestamp),ot.timestamp=a,ot.isProcessing=!0,zf.update.process(ot),zf.preRender.process(ot),zf.render.process(ot),ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ix.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NK),this.sharedNodes.forEach(jK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gt(this.snapshot.measuredBox.x)&&!gt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!rj(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||Zr(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),FK(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Qe();const a=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(zK))){const{scroll:c}=this.root;c&&(Xi(a.x,c.offset.x),Xi(a.y,c.offset.y))}return a}removeElementScroll(s){var l;const a=Qe();if(cn(a,s),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&cn(a,s),Xi(a.x,f.offset.x),Xi(a.y,f.offset.y))}return a}applyTransform(s,a=!1){const l=Qe();cn(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Qi(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Zr(c.latestValues)&&Qi(l,c.latestValues)}return Zr(this.latestValues)&&Qi(l,this.latestValues),l}removeTransform(s){const a=Qe();cn(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Zr(u.latestValues))continue;Tv(u.latestValues)&&u.updateSnapshot();const c=Qe(),f=u.measurePageBox();cn(c,f),yS(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Zr(this.latestValues)&&yS(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!this.layout||!(c||f))return;this.resolvedRelativeTargetAt=ot.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),FR(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Tv(this.parent.latestValues)||OR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,a,l){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Lu(this.relativeTargetOrigin,a,l),cn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ot.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;cn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;oG(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Qe());const{target:h}=s;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pS(this.prevProjectionDelta.x,this.projectionDelta.x),pS(this.prevProjectionDelta.y,this.projectionDelta.y)),Rs(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!_S(this.projectionDelta.x,this.prevProjectionDelta.x)||!_S(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zi(),this.projectionDelta=Zi(),this.projectionDeltaWithTransform=Zi()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Qe(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=h!==p,x=this.getStack(),m=!x||x.members.length<=1,v=!!(g&&!m&&this.options.crossfade===!0&&!this.path.some(DK));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const E=b/1e3;CS(f.x,s.x,E),CS(f.y,s.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lu(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LK(this.relativeTarget,this.relativeTargetOrigin,d,E),y&&wK(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Qe()),cn(y,this.relativeTarget)),g&&(this.animationValues=c,pK(c,u,this.latestValues,E,v,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Ul.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=To(0)),this.currentAnimation=uK(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),s.onUpdate&&s.onUpdate(c)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&aj(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Qe();const f=gt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=gt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}cn(a,l),Qi(a,c),Rs(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new bK),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Qf("z",s,u,this.animationValues);for(let c=0;c<Xf.length;c++)Qf(`rotate${Xf[c]}`,s,u,this.animationValues),Qf(`skew${Xf[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Hl(a==null?void 0:a.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Hl(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=_K(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),s.transform=f;const{x:d,y:h}=this.projectionDelta;s.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,u.animationValues?s.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in Cv){if(c[p]===void 0)continue;const{correct:g,applyTo:x,isCSSVariable:m}=Cv[p],v=f==="none"?c[p]:g(c[p],u);if(x){const y=x.length;for(let b=0;b<y;b++)s[x[b]]=v}else m?this.options.visualElement.renderState.vars[p]=v:s[p]=v}this.options.layoutId&&(s.pointerEvents=u===this?Hl(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(SS),this.root.sharedNodes.clear()}}}function kK(e){e.updateLayout()}function CK(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=t.source!==e.layout.source;o==="size"?Yt(f=>{const d=s?t.measuredBox[f]:t.layoutBox[f],h=gt(d);d.min=r[f].min,d.max=d.min+h}):aj(o,t.layoutBox,r)&&Yt(f=>{const d=s?t.measuredBox[f]:t.layoutBox[f],h=gt(r[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const a=Zi();Rs(a,r,t.layoutBox);const l=Zi();s?Rs(l,e.applyTransform(i,!0),t.measuredBox):Rs(l,r,t.layoutBox);const u=!rj(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const p=Qe();Lu(p,t.layoutBox,d.layoutBox);const g=Qe();Lu(g,r,h.layoutBox),ij(p,g)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function TK(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function PK(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function NK(e){e.clearSnapshot()}function SS(e){e.clearMeasurements()}function ES(e){e.isLayoutDirty=!1}function AK(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function kS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function IK(e){e.resolveTargetDelta()}function MK(e){e.calcProjection()}function RK(e){e.resetSkewAndRotation()}function jK(e){e.removeLeadSnapshot()}function CS(e,t,n){e.translate=Oe(t.translate,0,n),e.scale=Oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function TS(e,t,n,r){e.min=Oe(t.min,n.min,r),e.max=Oe(t.max,n.max,r)}function LK(e,t,n,r){TS(e.x,t.x,n.x,r),TS(e.y,t.y,n.y,r)}function DK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const OK={duration:.45,ease:[.4,0,.1,1]},PS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),NS=PS("applewebkit/")&&!PS("chrome/")?Math.round:nn;function AS(e){e.min=NS(e.min),e.max=NS(e.max)}function FK(e){AS(e.x),AS(e.y)}function aj(e,t,n){return e==="position"||e==="preserve-aspect"&&!WG(bS(t),bS(n),.2)}function zK(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const VK=sj({attachResizeListener:(e,t)=>da(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zf={current:void 0},lj=sj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zf.current){const e=new VK({});e.mount(window),e.setOptions({layoutScroll:!0}),Zf.current=e}return Zf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qK={pan:{Feature:aK},drag:{Feature:sK,ProjectionNode:lj,MeasureLayout:ej}};function IS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Ie.postRender(()=>o(t,Ma(t)))}class $K extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=cW(t,(n,r)=>(IS(this.node,r,"Start"),i=>IS(this.node,i,"End"))))}unmount(){}}class BK extends Ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Na(da(this.node.current,"focus",()=>this.onFocus()),da(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function MS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Ie.postRender(()=>o(t,Ma(t)))}class HK extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=pW(t,(n,r)=>(MS(this.node,r,"Start"),(i,{success:o})=>MS(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jv=new WeakMap,Jf=new WeakMap,UK=e=>{const t=jv.get(e.target);t&&t(e)},WK=e=>{e.forEach(UK)};function GK({root:e,...t}){const n=e||document;Jf.has(n)||Jf.set(n,{});const r=Jf.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(WK,{root:e,...t})),r[i]}function KK(e,t,n){const r=GK(t);return jv.set(e,n),r.observe(e),()=>{jv.delete(e),r.unobserve(e)}}const YK={some:0,all:1};class XK extends Ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:YK[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return KK(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(QK(t,n))&&this.startObserver()}unmount(){}}function QK({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ZK={inView:{Feature:XK},tap:{Feature:HK},focus:{Feature:BK},hover:{Feature:$K}},JK={layout:{ProjectionNode:lj,MeasureLayout:ej}},eY={...VG,...ZK,...qK,...JK},tY=nG(eY,mG),nY={thinking:"",tool:"",decision:""},rY={thinking:"from-blue-500 to-blue-600",tool:"from-yellow-500 to-yellow-600",decision:"from-purple-500 to-purple-600"};function iY({text:e,position:t="right",streaming:n=!1,type:r="thinking"}){if(!e)return null;const i={right:"left-full ml-3 top-1/2 -translate-y-1/2",top:"bottom-full mb-3 left-1/2 -translate-x-1/2"},o={right:"left-0 top-1/2 -translate-x-full -translate-y-1/2 border-r-blue-500 border-y-transparent border-l-transparent border-8",top:"bottom-0 left-1/2 translate-y-full -translate-x-1/2 border-t-blue-500 border-x-transparent border-b-transparent border-8"};return w.jsx(EW,{children:w.jsx(tY.div,{className:`absolute z-50 ${i[t]}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},children:w.jsxs("div",{className:`relative bg-gradient-to-br ${rY[r]} rounded-lg px-3 py-2 max-w-[250px] shadow-lg`,children:[w.jsx("div",{className:`absolute ${o[t]}`,style:{width:0,height:0}}),w.jsxs("div",{className:"flex items-start gap-2 text-white text-xs",children:[w.jsx("span",{children:nY[r]}),w.jsxs("span",{className:"leading-relaxed",children:[e,n&&w.jsx("span",{className:"animate-pulse ml-1",children:""})]})]})]})})})}const uj=P.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return w.jsxs("div",{className:"relative",children:[w.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e3a5f",border:`2px solid ${n?"#4ade80":"#60a5fa"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[w.jsx(Mt,{type:"target",position:ee.Top,className:"!bg-gray-400"}),w.jsxs("div",{className:"px-3 py-2",children:[w.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[w.jsx("span",{children:""}),w.jsx("span",{children:e.label}),n&&w.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),w.jsxs("div",{className:"mt-2 border-t border-white/20 pt-2",children:[w.jsx("div",{className:"text-xs text-gray-300",children:e.model||"gemini-2.0-flash"}),e.tools&&e.tools.length>0&&w.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tools.map(r=>w.jsx("span",{className:"px-1.5 py-0.5 bg-black/30 rounded text-[10px] text-gray-300",children:r},r))})]})]}),w.jsx(Mt,{type:"source",position:ee.Bottom,className:"!bg-gray-400"})]}),e.thought&&w.jsx(iY,{text:e.thought,streaming:n})]})});uj.displayName="LlmAgentNode";const cj=P.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return w.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e3a5f",border:`2px solid ${n?"#4ade80":"#60a5fa"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[w.jsx(Mt,{type:"target",position:ee.Top,className:"!bg-gray-400"}),w.jsxs("div",{className:"px-3 py-2",children:[w.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[w.jsx("span",{children:""}),w.jsx("span",{children:e.label}),n&&w.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),w.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.subAgents||[]).map((r,i)=>w.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===r?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[e.activeSubAgent===r?"":`${i+1}.`," ",r]},r))})]}),w.jsx(Mt,{type:"source",position:ee.Bottom,className:"!bg-gray-400"})]})});cj.displayName="SequentialNode";const fj=P.memo(({data:e,selected:t})=>{const n=e.isActive||!1,r=e.maxIterations||3,i=e.currentIteration||0,o=n?`Iteration ${i+1}/${r}`:`Max ${r}x`;return w.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#3d1e5f",border:`2px solid ${n?"#4ade80":"#a855f7"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[w.jsx(Mt,{type:"target",position:ee.Top,className:"!bg-gray-400"}),w.jsxs("div",{className:"px-3 py-2",children:[w.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[w.jsx("span",{children:""}),w.jsx("span",{children:e.label}),n&&w.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),w.jsxs("div",{className:"mt-2 border-t border-white/20 pt-2",children:[w.jsx("div",{className:"text-xs text-purple-300 mb-1",children:o}),w.jsx("div",{className:"space-y-1",children:(e.subAgents||[]).map((s,a)=>w.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===s?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[e.activeSubAgent===s?"":`${a+1}.`," ",s]},s))})]})]}),w.jsx(Mt,{type:"source",position:ee.Bottom,className:"!bg-gray-400"})]})});fj.displayName="LoopNode";const dj=P.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return w.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e5f3d",border:`2px solid ${n?"#4ade80":"#34d399"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[w.jsx(Mt,{type:"target",position:ee.Top,className:"!bg-gray-400"}),w.jsxs("div",{className:"px-3 py-2",children:[w.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[w.jsx("span",{children:""}),w.jsx("span",{children:e.label}),n&&w.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),w.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 flex flex-wrap gap-1",children:(e.subAgents||[]).map(r=>w.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===r?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[" ",r]},r))})]}),w.jsx(Mt,{type:"source",position:ee.Bottom,className:"!bg-gray-400"})]})});dj.displayName="ParallelNode";const hj=P.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return w.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#5f3d1e",border:`2px solid ${n?"#4ade80":"#f59e0b"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[w.jsx(Mt,{type:"target",position:ee.Top,className:"!bg-gray-400"}),w.jsxs("div",{className:"px-3 py-2",children:[w.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[w.jsx("span",{children:""}),w.jsx("span",{children:e.label}),n&&w.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),w.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.routes||[]).map(r=>w.jsxs("div",{className:`px-2 py-1 rounded text-xs flex items-center gap-1 ${e.activeRoute===r.condition?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[w.jsx("span",{className:"text-yellow-400",children:r.condition}),w.jsx("span",{className:"text-gray-500",children:""}),w.jsx("span",{children:r.target})]},r.condition))})]}),w.jsx(Mt,{type:"source",position:ee.Bottom,className:"!bg-gray-400"})]})});hj.displayName="RouterNode";const oY={llm:uj,sequential:cj,loop:fj,parallel:dj,router:hj};function sY({id:e,sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:o,targetPosition:s,data:a}){const[l]=Cu({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:i,targetPosition:s}),u=(a==null?void 0:a.animated)||!1;return w.jsx(Ca,{id:e,path:l,style:{stroke:u?"#4ade80":"#e94560",strokeWidth:u?3:2,animation:u?"flowAnimation 1s linear infinite":"none"}})}const aY={animated:sY},lY=[{type:"llm",label:"LLM Agent"},{type:"sequential",label:"Sequential Agent"},{type:"loop",label:"Loop Agent"},{type:"parallel",label:"Parallel Agent"},{type:"router",label:"Router Agent"}];function uY({onDragStart:e,onCreate:t}){return w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold mb-2",children:"Agents"}),w.jsx("div",{className:"space-y-1",children:lY.map(({type:n,label:r})=>w.jsxs("div",{draggable:!0,onDragStart:i=>e(i,n),onClick:()=>t(n),className:"p-2 bg-studio-accent rounded text-sm cursor-grab hover:bg-studio-highlight",children:[" ",r]},n))})]})}const pj=[{type:"function",label:"Function Tool",icon:"",configurable:!0},{type:"mcp",label:"MCP Tool",icon:"",configurable:!0},{type:"browser",label:"Browser Tool",icon:"",configurable:!0},{type:"exit_loop",label:"Exit Loop",icon:"",configurable:!0},{type:"google_search",label:"Google Search",icon:"",configurable:!0},{type:"load_artifact",label:"Load Artifact",icon:"",configurable:!0}];function cY({selectedNodeId:e,agentTools:t,onAdd:n,onRemove:r}){const i=(o,s)=>{o.dataTransfer.setData("text/plain",`tool:${s}`),o.dataTransfer.effectAllowed="copy"};return w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold mb-2",children:"Tools"}),w.jsx("div",{className:"space-y-1",children:pj.map(({type:o,label:s,icon:a})=>{const l=o==="function"||o==="mcp",u=l?t.some(f=>f.startsWith(o)):t.includes(o),c=l?t.filter(f=>f.startsWith(o)).length:0;return w.jsxs("div",{draggable:!0,onDragStart:f=>i(f,o),className:`p-2 rounded text-sm cursor-grab flex items-center gap-2 ${u?"bg-green-800 hover:bg-green-700":"bg-gray-700 hover:bg-gray-600"} ${e?"":"opacity-50"}`,onClick:()=>{e&&(l||!u?n(o):r(o))},children:[w.jsx("span",{children:a}),w.jsx("span",{className:"text-xs",children:s}),l&&c>0&&w.jsx("span",{className:"ml-auto text-xs bg-blue-600 px-1 rounded",children:c}),!l&&u&&w.jsx("span",{className:"ml-auto text-xs",children:""})]},o)})})]})}function fY({nodeId:e,agent:t,agents:n,toolConfigs:r,onUpdate:i,onAddSubAgent:o,onClose:s,onSelectTool:a,onRemoveTool:l}){const u=t.type==="sequential"||t.type==="loop"||t.type==="parallel";return w.jsxs("div",{className:"w-72 bg-studio-panel border-l border-gray-700 p-4 overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"font-semibold",children:e}),w.jsx("button",{onClick:s,className:"px-2 py-1 bg-gray-600 rounded text-xs",children:"Close"})]}),u?w.jsx(dY,{nodeId:e,agent:t,agents:n,onUpdate:i,onAddSubAgent:o}):t.type==="router"?w.jsx(hY,{nodeId:e,agent:t,onUpdate:i}):w.jsx(pY,{nodeId:e,agent:t,toolConfigs:r,onUpdate:i,onSelectTool:a,onRemoveTool:l})]})}function dY({nodeId:e,agent:t,agents:n,onUpdate:r,onAddSubAgent:i}){return w.jsxs("div",{children:[t.type==="loop"&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"mb-4 p-2 bg-purple-900/50 border border-purple-600 rounded text-xs",children:[w.jsx("div",{className:"font-semibold text-purple-400 mb-1",children:" Loop Agent Tips"}),w.jsx("p",{className:"text-purple-200",children:"Sub-agents run repeatedly until max iterations or exit_loop tool is called."})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iterations"}),w.jsx("input",{type:"number",min:"1",className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.max_iterations||3,onChange:o=>r(e,{max_iterations:parseInt(o.target.value)||3})})]})]}),w.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Sub-Agents ",t.type==="parallel"?"(run concurrently)":"(in order)"]}),(t.sub_agents||[]).map((o,s)=>{const a=n[o];return a?w.jsxs("div",{className:"mb-4 p-2 bg-gray-800 rounded",children:[w.jsxs("div",{className:"text-sm font-medium mb-2",children:[t.type==="parallel"?"":`${s+1}.`," ",o]}),w.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Model"}),w.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs mb-2",value:a.model||"",onChange:l=>r(o,{model:l.target.value})}),w.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Instruction"}),w.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-20",value:a.instruction,onChange:l=>r(o,{instruction:l.target.value})})]},o):null}),w.jsx("button",{onClick:i,className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"+ Add Sub-Agent"})]})}function hY({nodeId:e,agent:t,onUpdate:n}){return w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Model"}),w.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm mb-3",value:t.model||"",onChange:r=>n(e,{model:r.target.value})}),w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Routing Instruction"}),w.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-20 mb-3",value:t.instruction,onChange:r=>n(e,{instruction:r.target.value})}),w.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Routes"}),(t.routes||[]).map((r,i)=>w.jsxs("div",{className:"flex gap-1 mb-2 items-center",children:[w.jsx("input",{className:"flex-1 px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"condition",value:r.condition,onChange:o=>{const s=[...t.routes||[]];s[i]={...r,condition:o.target.value},n(e,{routes:s})}}),w.jsx("span",{className:"text-gray-500",children:""}),w.jsx("input",{className:"flex-1 px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"target",value:r.target,onChange:o=>{const s=[...t.routes||[]];s[i]={...r,target:o.target.value},n(e,{routes:s})}}),w.jsx("button",{className:"text-red-400 hover:text-red-300 text-sm",onClick:()=>n(e,{routes:(t.routes||[]).filter((o,s)=>s!==i)}),children:""})]},i)),w.jsx("button",{className:"w-full py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",onClick:()=>n(e,{routes:[...t.routes||[],{condition:"",target:""}]}),children:"+ Add Route"})]})}function pY({nodeId:e,agent:t,toolConfigs:n,onUpdate:r,onSelectTool:i,onRemoveTool:o}){return w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Model"}),w.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm mb-3",value:t.model||"",onChange:s=>r(e,{model:s.target.value})}),w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Instruction"}),w.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-24",value:t.instruction,onChange:s=>r(e,{instruction:s.target.value})}),t.tools.length>0&&w.jsxs("div",{className:"mt-3",children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tools"}),w.jsx("div",{className:"flex flex-wrap gap-1",children:t.tools.map(s=>{const a=s.startsWith("function")?"function":s.startsWith("mcp")?"mcp":s,l=pj.find(d=>d.type===a),u=`${e}_${s}`,c=n[u],f=c&&"name"in c&&c.name?c.name:(l==null?void 0:l.label)||s;return w.jsxs("span",{className:`text-xs px-2 py-1 rounded flex items-center gap-1 cursor-pointer ${c?"bg-green-800":"bg-gray-700"} hover:bg-gray-600`,onClick:()=>i(u),children:[l==null?void 0:l.icon," ",f," ",w.jsx("span",{className:"text-blue-400",children:""}),w.jsx("button",{onClick:d=>{d.stopPropagation(),o(s)},className:"ml-1 text-red-400 hover:text-red-300",children:""})]},s)})})]})]})}const mY=[{name:"HTTP Request",icon:"",template:{name:"http_request",description:"Make HTTP requests",parameters:[{name:"url",param_type:"string",description:"URL",required:!0},{name:"method",param_type:"string",description:"GET/POST",required:!1}],code:'Ok(json!({"status": "ok"}))'}},{name:"Read File",icon:"",template:{name:"read_file",description:"Read file",parameters:[{name:"path",param_type:"string",description:"Path",required:!0}],code:'Ok(json!({"content": ""}))'}},{name:"Write File",icon:"",template:{name:"write_file",description:"Write file",parameters:[{name:"path",param_type:"string",description:"Path",required:!0},{name:"content",param_type:"string",description:"Content",required:!0}],code:'Ok(json!({"status": "written"}))'}},{name:"Calculator",icon:"",template:{name:"calculate",description:"Math operations",parameters:[{name:"a",param_type:"number",description:"First",required:!0},{name:"b",param_type:"number",description:"Second",required:!0}],code:'Ok(json!({"result": a + b}))'}}],gY=[{name:"Time",icon:"",command:"uvx",args:["mcp-server-time"],desc:"Get current time"},{name:"Fetch",icon:"",command:"uvx",args:["mcp-server-fetch"],desc:"Fetch URLs"},{name:"Filesystem",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-filesystem","/tmp"],desc:"Read/write files"},{name:"GitHub",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-github"],desc:"GitHub API"},{name:"SQLite",icon:"",command:"uvx",args:["mcp-server-sqlite","--db-path","/tmp/data.db"],desc:"Query SQLite"},{name:"Memory",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-memory"],desc:"Key-value memory"}];function mj(e){const t=e.name||"my_function",n=e.parameters.map(i=>{const o=i.param_type==="number"?"as_f64().unwrap_or(0.0)":i.param_type==="boolean"?"as_bool().unwrap_or(false)":'as_str().unwrap_or("")';return`    let ${i.name} = args["${i.name}"].${o};`}).join(`
`),r=e.code||'Ok(json!({"status": "ok"}))';return`async fn ${t}_fn(_ctx: Arc<dyn ToolContext>, args: Value) -> Result<Value, AdkError> {
${n}
    ${r}
}`}function yY(e,t){const n=e.split(`
`),r=t.parameters.length+1,i=n.length-1;return r>=i?t.code||"":n.slice(r,i).map(o=>o.replace(/^    /,"")).join(`
`)}function vY({toolId:e,config:t,onUpdate:n,onClose:r,onOpenCodeEditor:i}){const o=e.includes("_mcp")?"mcp":e.includes("_function")?"function":e.includes("_browser")?"browser":e.includes("_exit_loop")?"exit_loop":e.includes("_google_search")?"google_search":"",a=t||(o==="mcp"?{type:"mcp",server_command:"",server_args:[],tool_filter:[]}:o==="function"?{type:"function",name:"",description:"",parameters:[]}:o==="browser"?{type:"browser",headless:!0,timeout_ms:3e4}:null),l=["exit_loop","google_search","load_artifact"].includes(o);return!a&&!l?null:w.jsxs("div",{className:"w-80 bg-studio-panel border-l border-gray-700 p-4 overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"font-semibold",children:"Configure Tool"}),w.jsx("button",{onClick:r,className:"px-2 py-1 bg-gray-600 rounded text-xs",children:"Close"})]}),o==="mcp"&&w.jsx(xY,{config:a,onUpdate:n}),o==="function"&&w.jsx(wY,{config:a,onUpdate:n,onOpenCodeEditor:i}),o==="browser"&&w.jsx(bY,{config:a,onUpdate:n}),l&&w.jsx(_Y,{type:o})]})}function xY({config:e,onUpdate:t}){return w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Quick Templates"}),w.jsx("div",{className:"grid grid-cols-2 gap-1 mb-3",children:gY.map(n=>w.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",title:n.desc,onClick:()=>t({...e,name:n.name,server_command:n.command,server_args:n.args}),children:[w.jsx("span",{children:n.icon}),w.jsx("span",{className:"truncate",children:n.name})]},n.name))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Server Command"}),w.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",placeholder:"npx, uvx...",value:e.server_command,onChange:n=>t({...e,server_command:n.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Server Args (one per line)"}),w.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-20",value:e.server_args.join(`
`),onChange:n=>t({...e,server_args:n.target.value.split(`
`).filter(Boolean)})})]})]})}function wY({config:e,onUpdate:t,onOpenCodeEditor:n}){const r=()=>t({...e,parameters:[...e.parameters,{name:"",param_type:"string",description:"",required:!1}]}),i=(s,a)=>{const l=[...e.parameters];l[s]={...l[s],...a},t({...e,parameters:l})},o=s=>t({...e,parameters:e.parameters.filter((a,l)=>l!==s)});return w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Function Name"}),w.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",placeholder:"get_weather",value:e.name,onChange:s=>t({...e,name:s.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),w.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-16",value:e.description,onChange:s=>t({...e,description:s.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Parameters"}),e.parameters.map((s,a)=>w.jsxs("div",{className:"flex gap-1 mb-1 items-center",children:[w.jsx("input",{className:"flex-1 px-1 py-0.5 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"name",value:s.name,onChange:l=>i(a,{name:l.target.value})}),w.jsxs("select",{className:"px-1 py-0.5 bg-studio-bg border border-gray-600 rounded text-xs",value:s.param_type,onChange:l=>i(a,{param_type:l.target.value}),children:[w.jsx("option",{value:"string",children:"string"}),w.jsx("option",{value:"number",children:"number"}),w.jsx("option",{value:"boolean",children:"boolean"})]}),w.jsxs("label",{className:"text-xs flex items-center gap-1",children:[w.jsx("input",{type:"checkbox",checked:s.required,onChange:l=>i(a,{required:l.target.checked})}),"req"]}),w.jsx("button",{className:"text-red-400 text-xs",onClick:()=>o(a),children:""})]},a)),w.jsx("button",{className:"w-full py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs mt-1",onClick:r,children:"+ Add Parameter"})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-1",children:[w.jsx("label",{className:"text-sm text-gray-400",children:"Code (Rust)"}),w.jsx("button",{className:"text-xs text-blue-400 hover:text-blue-300",onClick:n,children:" Edit"})]}),w.jsx("textarea",{className:"w-full px-2 py-2 bg-gray-900 border border-gray-600 rounded text-xs font-mono h-32 text-gray-400 cursor-pointer",value:mj(e),readOnly:!0,onClick:n})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Templates"}),w.jsx("div",{className:"grid grid-cols-2 gap-1",children:mY.map(s=>w.jsxs("button",{className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs flex items-center gap-1",onClick:()=>t({...e,...s.template}),children:[w.jsx("span",{children:s.icon}),w.jsx("span",{className:"truncate",children:s.name})]},s.name))})]})]})}function bY({config:e,onUpdate:t}){return w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"p-2 bg-yellow-900/50 border border-yellow-600 rounded text-xs",children:[w.jsx("div",{className:"font-semibold text-yellow-400 mb-1",children:" Requirements"}),w.jsx("p",{className:"text-yellow-200",children:"Chrome + ChromeDriver required"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"checkbox",id:"headless",checked:e.headless,onChange:n=>t({...e,headless:n.target.checked})}),w.jsx("label",{htmlFor:"headless",className:"text-sm",children:"Headless Mode"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Timeout (ms)"}),w.jsx("input",{type:"number",className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:e.timeout_ms,onChange:n=>t({...e,timeout_ms:parseInt(n.target.value)||3e4})})]})]})}function _Y({type:e}){const t={exit_loop:{title:"Exit Loop Tool",desc:"Allows agent to exit a loop when task is complete."},google_search:{title:"Google Search Tool",desc:"Web search via Google Grounding API."},load_artifact:{title:"Load Artifact Tool",desc:"Load artifacts from session store."}},{title:n,desc:r}=t[e]||{title:"Tool",desc:"No configuration needed."};return w.jsxs("div",{className:"p-2 bg-blue-900/50 border border-blue-600 rounded text-xs",children:[w.jsxs("div",{className:"font-semibold text-blue-400 mb-1",children:[" ",n]}),w.jsx("p",{className:"text-blue-200",children:r})]})}function RS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function SY(e){if(Array.isArray(e))return e}function EY(e,t,n){return(t=IY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function CY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(n),!0).forEach(function(r){EY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TY(e,t){if(e==null)return{};var n,r,i=PY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NY(e,t){return SY(e)||kY(e,t)||MY(e,t)||CY()}function AY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(e){if(typeof e=="string")return RS(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RS(e,t):void 0}}function RY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(n),!0).forEach(function(r){RY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jY(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}}function us(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(n,[].concat(i,a))}}}function Du(e){return{}.toString.call(e).includes("Object")}function LY(e){return!Object.keys(e).length}function ha(e){return typeof e=="function"}function DY(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function OY(e,t){return Du(t)||jr("changeType"),Object.keys(t).some(function(n){return!DY(e,n)})&&jr("changeField"),t}function FY(e){ha(e)||jr("selectorType")}function zY(e){ha(e)||Du(e)||jr("handlerType"),Du(e)&&Object.values(e).some(function(t){return!ha(t)})&&jr("handlersType")}function VY(e){e||jr("initialIsRequired"),Du(e)||jr("initialType"),LY(e)&&jr("initialContent")}function qY(e,t){throw new Error(e[t]||e.default)}var $Y={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},jr=us(qY)($Y),xl={changes:OY,selector:FY,handler:zY,initial:VY};function BY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xl.initial(e),xl.handler(t);var n={current:e},r=us(WY)(n,t),i=us(UY)(n),o=us(xl.changes)(e),s=us(HY)(n);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return xl.selector(u),u(n.current)}function l(u){jY(r,i,o,s)(u)}return[a,l]}function HY(e,t){return ha(t)?t(e.current):t}function UY(e,t){return e.current=OS(OS({},e.current),t),t}function WY(e,t,n){return ha(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var GY={create:BY},KY={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function YY(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(n,[].concat(i,a))}}}function XY(e){return{}.toString.call(e).includes("Object")}function QY(e){return e||FS("configIsRequired"),XY(e)||FS("configType"),e.urls?(ZY(),{paths:{vs:e.urls.monacoBase}}):e}function ZY(){console.warn(gj.deprecation)}function JY(e,t){throw new Error(e[t]||e.default)}var gj={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},FS=YY(JY)(gj),eX={config:QY},tX=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,s){return s(o)},i)}};function yj(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],yj(e[n],t[n]))}),LS(LS({},e),t)}var nX={type:"cancelation",msg:"operation is manually canceled"};function ed(e){var t=!1,n=new Promise(function(r,i){e.then(function(o){return t?i(nX):r(o)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var rX=["monaco"],iX=GY.create({config:KY,isInitialized:!1,resolve:null,reject:null,monaco:null}),vj=NY(iX,2),Ra=vj[0],Ec=vj[1];function oX(e){var t=eX.config(e),n=t.monaco,r=TY(t,rX);Ec(function(i){return{config:yj(i.config,r),monaco:n}})}function sX(){var e=Ra(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(Ec({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ed(td);if(window.monaco&&window.monaco.editor)return xj(window.monaco),e.resolve(window.monaco),ed(td);tX(aX,uX)(cX)}return ed(td)}function aX(e){return document.body.appendChild(e)}function lX(e){var t=document.createElement("script");return e&&(t.src=e),t}function uX(e){var t=Ra(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=lX("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function cX(){var e=Ra(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;xj(r),e.resolve(r)},function(n){e.reject(n)})}function xj(e){Ra().monaco||Ec({monaco:e})}function fX(){return Ra(function(e){var t=e.monaco;return t})}var td=new Promise(function(e,t){return Ec({resolve:e,reject:t})}),wj={config:oX,init:sX,__getMonacoInstance:fX},dX={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},nd=dX,hX={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},pX=hX;function mX({children:e}){return Xn.createElement("div",{style:pX.container},e)}var gX=mX,yX=gX;function vX({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:o,wrapperProps:s}){return Xn.createElement("section",{style:{...nd.wrapper,width:e,height:t},...s},!n&&Xn.createElement(yX,null,r),Xn.createElement("div",{ref:i,style:{...nd.fullWidth,...!n&&nd.hide},className:o}))}var xX=vX,bj=P.memo(xX);function wX(e){P.useEffect(e,[])}var _j=wX;function bX(e,t,n=!0){let r=P.useRef(!0);P.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Ft=bX;function js(){}function Ji(e,t,n,r){return _X(e,r)||SX(e,t,n,r)}function _X(e,t){return e.editor.getModel(Sj(e,t))}function SX(e,t,n,r){return e.editor.createModel(t,n,r?Sj(e,r):void 0)}function Sj(e,t){return e.Uri.parse(t)}function EX({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:c="Loading...",options:f={},height:d="100%",width:h="100%",className:p,wrapperProps:g={},beforeMount:x=js,onMount:m=js}){let[v,y]=P.useState(!1),[b,E]=P.useState(!0),_=P.useRef(null),k=P.useRef(null),T=P.useRef(null),j=P.useRef(m),O=P.useRef(x),A=P.useRef(!1);_j(()=>{let L=wj.init();return L.then(F=>(k.current=F)&&E(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>_.current?I():L.cancel()}),Ft(()=>{if(_.current&&k.current){let L=_.current.getOriginalEditor(),F=Ji(k.current,e||"",r||n||"text",o||"");F!==L.getModel()&&L.setModel(F)}},[o],v),Ft(()=>{if(_.current&&k.current){let L=_.current.getModifiedEditor(),F=Ji(k.current,t||"",i||n||"text",s||"");F!==L.getModel()&&L.setModel(F)}},[s],v),Ft(()=>{let L=_.current.getModifiedEditor();L.getOption(k.current.editor.EditorOption.readOnly)?L.setValue(t||""):t!==L.getValue()&&(L.executeEdits("",[{range:L.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),L.pushUndoStop())},[t],v),Ft(()=>{var L,F;(F=(L=_.current)==null?void 0:L.getModel())==null||F.original.setValue(e||"")},[e],v),Ft(()=>{let{original:L,modified:F}=_.current.getModel();k.current.editor.setModelLanguage(L,r||n||"text"),k.current.editor.setModelLanguage(F,i||n||"text")},[n,r,i],v),Ft(()=>{var L;(L=k.current)==null||L.editor.setTheme(u)},[u],v),Ft(()=>{var L;(L=_.current)==null||L.updateOptions(f)},[f],v);let D=P.useCallback(()=>{var M;if(!k.current)return;O.current(k.current);let L=Ji(k.current,e||"",r||n||"text",o||""),F=Ji(k.current,t||"",i||n||"text",s||"");(M=_.current)==null||M.setModel({original:L,modified:F})},[n,t,i,e,r,o,s]),z=P.useCallback(()=>{var L;!A.current&&T.current&&(_.current=k.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...f}),D(),(L=k.current)==null||L.editor.setTheme(u),y(!0),A.current=!0)},[f,u,D]);P.useEffect(()=>{v&&j.current(_.current,k.current)},[v]),P.useEffect(()=>{!b&&!v&&z()},[b,v,z]);function I(){var F,M,C,R;let L=(F=_.current)==null?void 0:F.getModel();a||((M=L==null?void 0:L.original)==null||M.dispose()),l||((C=L==null?void 0:L.modified)==null||C.dispose()),(R=_.current)==null||R.dispose()}return Xn.createElement(bj,{width:h,height:d,isEditorReady:v,loading:c,_ref:T,className:p,wrapperProps:g})}var kX=EX;P.memo(kX);function CX(e){let t=P.useRef();return P.useEffect(()=>{t.current=e},[e]),t.current}var TX=CX,wl=new Map;function PX({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:o,theme:s="light",line:a,loading:l="Loading...",options:u={},overrideServices:c={},saveViewState:f=!0,keepCurrentModel:d=!1,width:h="100%",height:p="100%",className:g,wrapperProps:x={},beforeMount:m=js,onMount:v=js,onChange:y,onValidate:b=js}){let[E,_]=P.useState(!1),[k,T]=P.useState(!0),j=P.useRef(null),O=P.useRef(null),A=P.useRef(null),D=P.useRef(v),z=P.useRef(m),I=P.useRef(),L=P.useRef(r),F=TX(o),M=P.useRef(!1),C=P.useRef(!1);_j(()=>{let V=wj.init();return V.then(q=>(j.current=q)&&T(!1)).catch(q=>(q==null?void 0:q.type)!=="cancelation"&&console.error("Monaco initialization: error:",q)),()=>O.current?S():V.cancel()}),Ft(()=>{var q,N,B,X;let V=Ji(j.current,e||r||"",t||i||"",o||n||"");V!==((q=O.current)==null?void 0:q.getModel())&&(f&&wl.set(F,(N=O.current)==null?void 0:N.saveViewState()),(B=O.current)==null||B.setModel(V),f&&((X=O.current)==null||X.restoreViewState(wl.get(o))))},[o],E),Ft(()=>{var V;(V=O.current)==null||V.updateOptions(u)},[u],E),Ft(()=>{!O.current||r===void 0||(O.current.getOption(j.current.editor.EditorOption.readOnly)?O.current.setValue(r):r!==O.current.getValue()&&(C.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),O.current.pushUndoStop(),C.current=!1))},[r],E),Ft(()=>{var q,N;let V=(q=O.current)==null?void 0:q.getModel();V&&i&&((N=j.current)==null||N.editor.setModelLanguage(V,i))},[i],E),Ft(()=>{var V;a!==void 0&&((V=O.current)==null||V.revealLine(a))},[a],E),Ft(()=>{var V;(V=j.current)==null||V.editor.setTheme(s)},[s],E);let R=P.useCallback(()=>{var V;if(!(!A.current||!j.current)&&!M.current){z.current(j.current);let q=o||n,N=Ji(j.current,r||e||"",t||i||"",q||"");O.current=(V=j.current)==null?void 0:V.editor.create(A.current,{model:N,automaticLayout:!0,...u},c),f&&O.current.restoreViewState(wl.get(q)),j.current.editor.setTheme(s),a!==void 0&&O.current.revealLine(a),_(!0),M.current=!0}},[e,t,n,r,i,o,u,c,f,s,a]);P.useEffect(()=>{E&&D.current(O.current,j.current)},[E]),P.useEffect(()=>{!k&&!E&&R()},[k,E,R]),L.current=r,P.useEffect(()=>{var V,q;E&&y&&((V=I.current)==null||V.dispose(),I.current=(q=O.current)==null?void 0:q.onDidChangeModelContent(N=>{C.current||y(O.current.getValue(),N)}))},[E,y]),P.useEffect(()=>{if(E){let V=j.current.editor.onDidChangeMarkers(q=>{var B;let N=(B=O.current.getModel())==null?void 0:B.uri;if(N&&q.find(X=>X.path===N.path)){let X=j.current.editor.getModelMarkers({resource:N});b==null||b(X)}});return()=>{V==null||V.dispose()}}return()=>{}},[E,b]);function S(){var V,q;(V=I.current)==null||V.dispose(),d?f&&wl.set(o,O.current.saveViewState()):(q=O.current.getModel())==null||q.dispose(),O.current.dispose()}return Xn.createElement(bj,{width:h,height:p,isEditorReady:E,loading:l,_ref:A,className:g,wrapperProps:x})}var NX=PX,AX=P.memo(NX),Ej=AX;function IX({code:e,onClose:t}){return w.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:w.jsxs("div",{className:"bg-studio-panel rounded-lg w-4/5 h-4/5 flex flex-col",onClick:n=>n.stopPropagation(),children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Generated Rust Code"}),w.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-xl",children:""})]}),w.jsx("div",{className:"flex-1 overflow-auto p-4",children:e.files.map(n=>w.jsxs("div",{className:"mb-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsx("h3",{className:"text-sm font-mono text-blue-400",children:n.path}),w.jsx("button",{onClick:()=>navigator.clipboard.writeText(n.content),className:"text-xs bg-gray-700 px-2 py-1 rounded hover:bg-gray-600",children:"Copy"})]}),w.jsx("div",{className:"border border-gray-700 rounded overflow-hidden",children:w.jsx(Ej,{height:Math.min(600,n.content.split(`
`).length*19+20),language:n.path.endsWith(".toml")?"toml":"rust",value:n.content,theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:12}})})]},n.path))})]})})}function MX({building:e,success:t,output:n,path:r,onClose:i}){const o=P.useRef(null);return P.useEffect(()=>{o.current&&e&&(o.current.scrollTop=o.current.scrollHeight)},[n,e]),w.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:i,children:w.jsxs("div",{className:"bg-studio-panel rounded-lg w-3/5 max-h-4/5 flex flex-col",onClick:s=>s.stopPropagation(),children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[w.jsx("h2",{className:`text-lg font-semibold ${e?"text-blue-400":t?"text-green-400":"text-red-400"}`,children:e?" Building...":t?" Build Successful":" Build Failed"}),w.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white text-xl",children:""})]}),w.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[r&&w.jsxs("div",{className:"mb-4 p-3 bg-green-900/30 rounded",children:[w.jsx("div",{className:"text-sm text-gray-400",children:"Binary path:"}),w.jsx("code",{className:"text-green-400 text-sm",children:r})]}),w.jsx("pre",{ref:o,className:"bg-gray-900 p-4 rounded text-xs overflow-auto whitespace-pre max-h-96",children:n})]})]})})}function RX({config:e,onUpdate:t,onClose:n}){return w.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:n,children:w.jsxs("div",{className:"bg-studio-panel rounded-lg w-11/12 h-5/6 flex flex-col",onClick:r=>r.stopPropagation(),children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[w.jsxs("h2",{className:"text-lg font-semibold text-blue-400",children:[e.name||"function","_fn"]}),w.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-xl",children:""})]}),w.jsx("div",{className:"flex-1 overflow-hidden",children:w.jsx(Ej,{height:"100%",defaultLanguage:"rust",theme:"vs-dark",value:mj(e),onChange:r=>r&&t({...e,code:yY(r,e)}),options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4}})}),w.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-end",children:w.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded text-sm",children:"Done"})})]})})}function jX({selectedNodeId:e,selectedToolId:t,onDeleteNode:n,onDeleteTool:r,onDuplicateNode:i,onSelectNode:o,onSelectTool:s,onAutoLayout:a,onFitView:l}){P.useEffect(()=>{const u=c=>{const f=document.activeElement;if((f==null?void 0:f.tagName)==="INPUT"||(f==null?void 0:f.tagName)==="TEXTAREA")return;const d=c.metaKey||c.ctrlKey;if(c.key==="Delete"||c.key==="Backspace"){if(t&&e){const h=t.split("_");r(e,h.slice(-2).join("_")),s(null)}else e&&e!=="START"&&e!=="END"&&(n(e),o(null));c.preventDefault();return}if(d&&c.key==="d"&&e&&i){c.preventDefault();const h=i(e);h&&o(h);return}if(d&&c.key==="l"&&a){c.preventDefault(),a();return}if(d&&c.key==="0"&&l){c.preventDefault(),l();return}c.key==="Escape"&&(o(null),s(null))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[e,t,n,r,i,o,s,a,l])}function Bx(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rd,zS;function LX(){if(zS)return rd;zS=1;function e(){this.__data__=[],this.size=0}return rd=e,rd}var id,VS;function Fo(){if(VS)return id;VS=1;function e(t,n){return t===n||t!==t&&n!==n}return id=e,id}var od,qS;function kc(){if(qS)return od;qS=1;var e=Fo();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return od=t,od}var sd,$S;function DX(){if($S)return sd;$S=1;var e=kc(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return sd=r,sd}var ad,BS;function OX(){if(BS)return ad;BS=1;var e=kc();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return ad=t,ad}var ld,HS;function FX(){if(HS)return ld;HS=1;var e=kc();function t(n){return e(this.__data__,n)>-1}return ld=t,ld}var ud,US;function zX(){if(US)return ud;US=1;var e=kc();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return ud=t,ud}var cd,WS;function Cc(){if(WS)return cd;WS=1;var e=LX(),t=DX(),n=OX(),r=FX(),i=zX();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,cd=o,cd}var fd,GS;function VX(){if(GS)return fd;GS=1;var e=Cc();function t(){this.__data__=new e,this.size=0}return fd=t,fd}var dd,KS;function qX(){if(KS)return dd;KS=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return dd=e,dd}var hd,YS;function $X(){if(YS)return hd;YS=1;function e(t){return this.__data__.get(t)}return hd=e,hd}var pd,XS;function BX(){if(XS)return pd;XS=1;function e(t){return this.__data__.has(t)}return pd=e,pd}var md,QS;function kj(){if(QS)return md;QS=1;var e=typeof _r=="object"&&_r&&_r.Object===Object&&_r;return md=e,md}var gd,ZS;function Sn(){if(ZS)return gd;ZS=1;var e=kj(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return gd=n,gd}var yd,JS;function zo(){if(JS)return yd;JS=1;var e=Sn(),t=e.Symbol;return yd=t,yd}var vd,eE;function HX(){if(eE)return vd;eE=1;var e=zo(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return vd=o,vd}var xd,tE;function UX(){if(tE)return xd;tE=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return xd=n,xd}var wd,nE;function Ci(){if(nE)return wd;nE=1;var e=zo(),t=HX(),n=UX(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return wd=s,wd}var bd,rE;function sn(){if(rE)return bd;rE=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return bd=e,bd}var _d,iE;function ja(){if(iE)return _d;iE=1;var e=Ci(),t=sn(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==o}return _d=s,_d}var Sd,oE;function WX(){if(oE)return Sd;oE=1;var e=Sn(),t=e["__core-js_shared__"];return Sd=t,Sd}var Ed,sE;function GX(){if(sE)return Ed;sE=1;var e=WX(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Ed=n,Ed}var kd,aE;function Cj(){if(aE)return kd;aE=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return kd=n,kd}var Cd,lE;function KX(){if(lE)return Cd;lE=1;var e=ja(),t=GX(),n=sn(),r=Cj(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var h=e(d)?c:o;return h.test(r(d))}return Cd=f,Cd}var Td,uE;function YX(){if(uE)return Td;uE=1;function e(t,n){return t==null?void 0:t[n]}return Td=e,Td}var Pd,cE;function Ti(){if(cE)return Pd;cE=1;var e=KX(),t=YX();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Pd=n,Pd}var Nd,fE;function Hx(){if(fE)return Nd;fE=1;var e=Ti(),t=Sn(),n=e(t,"Map");return Nd=n,Nd}var Ad,dE;function Tc(){if(dE)return Ad;dE=1;var e=Ti(),t=e(Object,"create");return Ad=t,Ad}var Id,hE;function XX(){if(hE)return Id;hE=1;var e=Tc();function t(){this.__data__=e?e(null):{},this.size=0}return Id=t,Id}var Md,pE;function QX(){if(pE)return Md;pE=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Md=e,Md}var Rd,mE;function ZX(){if(mE)return Rd;mE=1;var e=Tc(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return Rd=i,Rd}var jd,gE;function JX(){if(gE)return jd;gE=1;var e=Tc(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return jd=r,jd}var Ld,yE;function eQ(){if(yE)return Ld;yE=1;var e=Tc(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Ld=n,Ld}var Dd,vE;function tQ(){if(vE)return Dd;vE=1;var e=XX(),t=QX(),n=ZX(),r=JX(),i=eQ();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Dd=o,Dd}var Od,xE;function nQ(){if(xE)return Od;xE=1;var e=tQ(),t=Cc(),n=Hx();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Od=r,Od}var Fd,wE;function rQ(){if(wE)return Fd;wE=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Fd=e,Fd}var zd,bE;function Pc(){if(bE)return zd;bE=1;var e=rQ();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return zd=t,zd}var Vd,_E;function iQ(){if(_E)return Vd;_E=1;var e=Pc();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Vd=t,Vd}var qd,SE;function oQ(){if(SE)return qd;SE=1;var e=Pc();function t(n){return e(this,n).get(n)}return qd=t,qd}var $d,EE;function sQ(){if(EE)return $d;EE=1;var e=Pc();function t(n){return e(this,n).has(n)}return $d=t,$d}var Bd,kE;function aQ(){if(kE)return Bd;kE=1;var e=Pc();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Bd=t,Bd}var Hd,CE;function Ux(){if(CE)return Hd;CE=1;var e=nQ(),t=iQ(),n=oQ(),r=sQ(),i=aQ();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Hd=o,Hd}var Ud,TE;function lQ(){if(TE)return Ud;TE=1;var e=Cc(),t=Hx(),n=Ux(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return Ud=i,Ud}var Wd,PE;function Nc(){if(PE)return Wd;PE=1;var e=Cc(),t=VX(),n=qX(),r=$X(),i=BX(),o=lQ();function s(a){var l=this.__data__=new e(a);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,Wd=s,Wd}var Gd,NE;function Wx(){if(NE)return Gd;NE=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Gd=e,Gd}var Kd,AE;function Tj(){if(AE)return Kd;AE=1;var e=Ti(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Kd=t,Kd}var Yd,IE;function Ac(){if(IE)return Yd;IE=1;var e=Tj();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Yd=t,Yd}var Xd,ME;function Ic(){if(ME)return Xd;ME=1;var e=Ac(),t=Fo(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&t(l,a))||a===void 0&&!(s in o))&&e(o,s,a)}return Xd=i,Xd}var Qd,RE;function La(){if(RE)return Qd;RE=1;var e=Ic(),t=Ac();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=s?s(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),a?t(o,c,f):e(o,c,f)}return o}return Qd=n,Qd}var Zd,jE;function uQ(){if(jE)return Zd;jE=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Zd=e,Zd}var Jd,LE;function Vn(){if(LE)return Jd;LE=1;function e(t){return t!=null&&typeof t=="object"}return Jd=e,Jd}var eh,DE;function cQ(){if(DE)return eh;DE=1;var e=Ci(),t=Vn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return eh=r,eh}var th,OE;function Da(){if(OE)return th;OE=1;var e=cQ(),t=Vn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return th=o,th}var nh,FE;function Ke(){if(FE)return nh;FE=1;var e=Array.isArray;return nh=e,nh}var cs={exports:{}},rh,zE;function fQ(){if(zE)return rh;zE=1;function e(){return!1}return rh=e,rh}cs.exports;var VE;function Vo(){return VE||(VE=1,function(e,t){var n=Sn(),r=fQ(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(cs,cs.exports)),cs.exports}var ih,qE;function Mc(){if(qE)return ih;qE=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return ih=n,ih}var oh,$E;function Gx(){if($E)return oh;$E=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return oh=t,oh}var sh,BE;function dQ(){if(BE)return sh;BE=1;var e=Ci(),t=Gx(),n=Vn(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",p="[object String]",g="[object WeakMap]",x="[object ArrayBuffer]",m="[object DataView]",v="[object Float32Array]",y="[object Float64Array]",b="[object Int8Array]",E="[object Int16Array]",_="[object Int32Array]",k="[object Uint8Array]",T="[object Uint8ClampedArray]",j="[object Uint16Array]",O="[object Uint32Array]",A={};A[v]=A[y]=A[b]=A[E]=A[_]=A[k]=A[T]=A[j]=A[O]=!0,A[r]=A[i]=A[x]=A[o]=A[m]=A[s]=A[a]=A[l]=A[u]=A[c]=A[f]=A[d]=A[h]=A[p]=A[g]=!1;function D(z){return n(z)&&t(z.length)&&!!A[e(z)]}return sh=D,sh}var ah,HE;function Rc(){if(HE)return ah;HE=1;function e(t){return function(n){return t(n)}}return ah=e,ah}var fs={exports:{}};fs.exports;var UE;function Kx(){return UE||(UE=1,function(e,t){var n=kj(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a}(fs,fs.exports)),fs.exports}var lh,WE;function Oa(){if(WE)return lh;WE=1;var e=dQ(),t=Rc(),n=Kx(),r=n&&n.isTypedArray,i=r?t(r):e;return lh=i,lh}var uh,GE;function Pj(){if(GE)return uh;GE=1;var e=uQ(),t=Da(),n=Ke(),r=Vo(),i=Mc(),o=Oa(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var f=n(u),d=!f&&t(u),h=!f&&!d&&r(u),p=!f&&!d&&!h&&o(u),g=f||d||h||p,x=g?e(u.length,String):[],m=x.length;for(var v in u)(c||a.call(u,v))&&!(g&&(v=="length"||h&&(v=="offset"||v=="parent")||p&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||i(v,m)))&&x.push(v);return x}return uh=l,uh}var ch,KE;function jc(){if(KE)return ch;KE=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return ch=t,ch}var fh,YE;function Nj(){if(YE)return fh;YE=1;function e(t,n){return function(r){return t(n(r))}}return fh=e,fh}var dh,XE;function hQ(){if(XE)return dh;XE=1;var e=Nj(),t=e(Object.keys,Object);return dh=t,dh}var hh,QE;function Yx(){if(QE)return hh;QE=1;var e=jc(),t=hQ(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return hh=i,hh}var ph,ZE;function lr(){if(ZE)return ph;ZE=1;var e=ja(),t=Gx();function n(r){return r!=null&&t(r.length)&&!e(r)}return ph=n,ph}var mh,JE;function Wr(){if(JE)return mh;JE=1;var e=Pj(),t=Yx(),n=lr();function r(i){return n(i)?e(i):t(i)}return mh=r,mh}var gh,ek;function pQ(){if(ek)return gh;ek=1;var e=La(),t=Wr();function n(r,i){return r&&e(i,t(i),r)}return gh=n,gh}var yh,tk;function mQ(){if(tk)return yh;tk=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return yh=e,yh}var vh,nk;function gQ(){if(nk)return vh;nk=1;var e=sn(),t=jc(),n=mQ(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!e(s))return n(s);var a=t(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return vh=o,vh}var xh,rk;function Pi(){if(rk)return xh;rk=1;var e=Pj(),t=gQ(),n=lr();function r(i){return n(i)?e(i,!0):t(i)}return xh=r,xh}var wh,ik;function yQ(){if(ik)return wh;ik=1;var e=La(),t=Pi();function n(r,i){return r&&e(i,t(i),r)}return wh=n,wh}var ds={exports:{}};ds.exports;var ok;function Aj(){return ok||(ok=1,function(e,t){var n=Sn(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=a?a(f):new u.constructor(f);return u.copy(d),d}e.exports=l}(ds,ds.exports)),ds.exports}var bh,sk;function Ij(){if(sk)return bh;sk=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return bh=e,bh}var _h,ak;function Mj(){if(ak)return _h;ak=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return _h=e,_h}var Sh,lk;function Rj(){if(lk)return Sh;lk=1;function e(){return[]}return Sh=e,Sh}var Eh,uk;function Xx(){if(uk)return Eh;uk=1;var e=Mj(),t=Rj(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return Eh=o,Eh}var kh,ck;function vQ(){if(ck)return kh;ck=1;var e=La(),t=Xx();function n(r,i){return e(r,t(r),i)}return kh=n,kh}var Ch,fk;function Qx(){if(fk)return Ch;fk=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Ch=e,Ch}var Th,dk;function Lc(){if(dk)return Th;dk=1;var e=Nj(),t=e(Object.getPrototypeOf,Object);return Th=t,Th}var Ph,hk;function jj(){if(hk)return Ph;hk=1;var e=Qx(),t=Lc(),n=Xx(),r=Rj(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)e(a,n(s)),s=t(s);return a}:r;return Ph=o,Ph}var Nh,pk;function xQ(){if(pk)return Nh;pk=1;var e=La(),t=jj();function n(r,i){return e(r,t(r),i)}return Nh=n,Nh}var Ah,mk;function Lj(){if(mk)return Ah;mk=1;var e=Qx(),t=Ke();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return Ah=n,Ah}var Ih,gk;function Dj(){if(gk)return Ih;gk=1;var e=Lj(),t=Xx(),n=Wr();function r(i){return e(i,n,t)}return Ih=r,Ih}var Mh,yk;function wQ(){if(yk)return Mh;yk=1;var e=Lj(),t=jj(),n=Pi();function r(i){return e(i,n,t)}return Mh=r,Mh}var Rh,vk;function bQ(){if(vk)return Rh;vk=1;var e=Ti(),t=Sn(),n=e(t,"DataView");return Rh=n,Rh}var jh,xk;function _Q(){if(xk)return jh;xk=1;var e=Ti(),t=Sn(),n=e(t,"Promise");return jh=n,jh}var Lh,wk;function Oj(){if(wk)return Lh;wk=1;var e=Ti(),t=Sn(),n=e(t,"Set");return Lh=n,Lh}var Dh,bk;function SQ(){if(bk)return Dh;bk=1;var e=Ti(),t=Sn(),n=e(t,"WeakMap");return Dh=n,Dh}var Oh,_k;function qo(){if(_k)return Oh;_k=1;var e=bQ(),t=Hx(),n=_Q(),r=Oj(),i=SQ(),o=Ci(),s=Cj(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=s(e),p=s(t),g=s(n),x=s(r),m=s(i),v=o;return(e&&v(new e(new ArrayBuffer(1)))!=d||t&&v(new t)!=a||n&&v(n.resolve())!=u||r&&v(new r)!=c||i&&v(new i)!=f)&&(v=function(y){var b=o(y),E=b==l?y.constructor:void 0,_=E?s(E):"";if(_)switch(_){case h:return d;case p:return a;case g:return u;case x:return c;case m:return f}return b}),Oh=v,Oh}var Fh,Sk;function EQ(){if(Sk)return Fh;Sk=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Fh=n,Fh}var zh,Ek;function Fj(){if(Ek)return zh;Ek=1;var e=Sn(),t=e.Uint8Array;return zh=t,zh}var Vh,kk;function Zx(){if(kk)return Vh;kk=1;var e=Fj();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Vh=t,Vh}var qh,Ck;function kQ(){if(Ck)return qh;Ck=1;var e=Zx();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return qh=t,qh}var $h,Tk;function CQ(){if(Tk)return $h;Tk=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return $h=t,$h}var Bh,Pk;function TQ(){if(Pk)return Bh;Pk=1;var e=zo(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Bh=r,Bh}var Hh,Nk;function zj(){if(Nk)return Hh;Nk=1;var e=Zx();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Hh=t,Hh}var Uh,Ak;function PQ(){if(Ak)return Uh;Ak=1;var e=Zx(),t=kQ(),n=CQ(),r=TQ(),i=zj(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",m="[object Int8Array]",v="[object Int16Array]",y="[object Int32Array]",b="[object Uint8Array]",E="[object Uint8ClampedArray]",_="[object Uint16Array]",k="[object Uint32Array]";function T(j,O,A){var D=j.constructor;switch(O){case h:return e(j);case o:case s:return new D(+j);case p:return t(j,A);case g:case x:case m:case v:case y:case b:case E:case _:case k:return i(j,A);case a:return new D;case l:case f:return new D(j);case u:return n(j);case c:return new D;case d:return r(j)}}return Uh=T,Uh}var Wh,Ik;function Vj(){if(Ik)return Wh;Ik=1;var e=sn(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Wh=n,Wh}var Gh,Mk;function qj(){if(Mk)return Gh;Mk=1;var e=Vj(),t=Lc(),n=jc();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Gh=r,Gh}var Kh,Rk;function NQ(){if(Rk)return Kh;Rk=1;var e=qo(),t=Vn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Kh=r,Kh}var Yh,jk;function AQ(){if(jk)return Yh;jk=1;var e=NQ(),t=Rc(),n=Kx(),r=n&&n.isMap,i=r?t(r):e;return Yh=i,Yh}var Xh,Lk;function IQ(){if(Lk)return Xh;Lk=1;var e=qo(),t=Vn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Xh=r,Xh}var Qh,Dk;function MQ(){if(Dk)return Qh;Dk=1;var e=IQ(),t=Rc(),n=Kx(),r=n&&n.isSet,i=r?t(r):e;return Qh=i,Qh}var Zh,Ok;function $j(){if(Ok)return Zh;Ok=1;var e=Nc(),t=Wx(),n=Ic(),r=pQ(),i=yQ(),o=Aj(),s=Ij(),a=vQ(),l=xQ(),u=Dj(),c=wQ(),f=qo(),d=EQ(),h=PQ(),p=qj(),g=Ke(),x=Vo(),m=AQ(),v=sn(),y=MQ(),b=Wr(),E=Pi(),_=1,k=2,T=4,j="[object Arguments]",O="[object Array]",A="[object Boolean]",D="[object Date]",z="[object Error]",I="[object Function]",L="[object GeneratorFunction]",F="[object Map]",M="[object Number]",C="[object Object]",R="[object RegExp]",S="[object Set]",V="[object String]",q="[object Symbol]",N="[object WeakMap]",B="[object ArrayBuffer]",X="[object DataView]",Y="[object Float32Array]",Q="[object Float64Array]",W="[object Int8Array]",J="[object Int16Array]",ae="[object Int32Array]",se="[object Uint8Array]",ie="[object Uint8ClampedArray]",ne="[object Uint16Array]",ge="[object Uint32Array]",te={};te[j]=te[O]=te[B]=te[X]=te[A]=te[D]=te[Y]=te[Q]=te[W]=te[J]=te[ae]=te[F]=te[M]=te[C]=te[R]=te[S]=te[V]=te[q]=te[se]=te[ie]=te[ne]=te[ge]=!0,te[z]=te[I]=te[N]=!1;function he(le,Ye,$e,wt,bt,et){var Ne,Kt=Ye&_,_t=Ye&k,$=Ye&T;if($e&&(Ne=bt?$e(le,wt,bt,et):$e(le)),Ne!==void 0)return Ne;if(!v(le))return le;var G=g(le);if(G){if(Ne=d(le),!Kt)return s(le,Ne)}else{var re=f(le),de=re==I||re==L;if(x(le))return o(le,Kt);if(re==C||re==j||de&&!bt){if(Ne=_t||de?{}:p(le),!Kt)return _t?l(le,i(Ne,le)):a(le,r(Ne,le))}else{if(!te[re])return bt?le:{};Ne=h(le,re,Kt)}}et||(et=new e);var ye=et.get(le);if(ye)return ye;et.set(le,Ne),y(le)?le.forEach(function(K){Ne.add(he(K,Ye,$e,K,le,et))}):m(le)&&le.forEach(function(K,oe){Ne.set(oe,he(K,Ye,$e,oe,le,et))});var tt=$?_t?c:u:_t?E:b,pt=G?void 0:tt(le);return t(pt||le,function(K,oe){pt&&(oe=K,K=le[oe]),n(Ne,oe,he(K,Ye,$e,oe,le,et))}),Ne}return Zh=he,Zh}var Jh,Fk;function RQ(){if(Fk)return Jh;Fk=1;var e=$j(),t=4;function n(r){return e(r,t)}return Jh=n,Jh}var ep,zk;function Jx(){if(zk)return ep;zk=1;function e(t){return function(){return t}}return ep=e,ep}var tp,Vk;function jQ(){if(Vk)return tp;Vk=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++o];if(r(s[u],u,s)===!1)break}return n}}return tp=e,tp}var np,qk;function e1(){if(qk)return np;qk=1;var e=jQ(),t=e();return np=t,np}var rp,$k;function t1(){if($k)return rp;$k=1;var e=e1(),t=Wr();function n(r,i){return r&&e(r,i,t)}return rp=n,rp}var ip,Bk;function LQ(){if(Bk)return ip;Bk=1;var e=lr();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return ip=t,ip}var op,Hk;function Dc(){if(Hk)return op;Hk=1;var e=t1(),t=LQ(),n=t(e);return op=n,op}var sp,Uk;function Ni(){if(Uk)return sp;Uk=1;function e(t){return t}return sp=e,sp}var ap,Wk;function Bj(){if(Wk)return ap;Wk=1;var e=Ni();function t(n){return typeof n=="function"?n:e}return ap=t,ap}var lp,Gk;function Hj(){if(Gk)return lp;Gk=1;var e=Wx(),t=Dc(),n=Bj(),r=Ke();function i(o,s){var a=r(o)?e:t;return a(o,n(s))}return lp=i,lp}var up,Kk;function Uj(){return Kk||(Kk=1,up=Hj()),up}var cp,Yk;function DQ(){if(Yk)return cp;Yk=1;var e=Dc();function t(n,r){var i=[];return e(n,function(o,s,a){r(o,s,a)&&i.push(o)}),i}return cp=t,cp}var fp,Xk;function OQ(){if(Xk)return fp;Xk=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return fp=t,fp}var dp,Qk;function FQ(){if(Qk)return dp;Qk=1;function e(t){return this.__data__.has(t)}return dp=e,dp}var hp,Zk;function Wj(){if(Zk)return hp;Zk=1;var e=Ux(),t=OQ(),n=FQ();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,hp=r,hp}var pp,Jk;function zQ(){if(Jk)return pp;Jk=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return pp=e,pp}var mp,eC;function Gj(){if(eC)return mp;eC=1;function e(t,n){return t.has(n)}return mp=e,mp}var gp,tC;function Kj(){if(tC)return gp;tC=1;var e=Wj(),t=zQ(),n=Gj(),r=1,i=2;function o(s,a,l,u,c,f){var d=l&r,h=s.length,p=a.length;if(h!=p&&!(d&&p>h))return!1;var g=f.get(s),x=f.get(a);if(g&&x)return g==a&&x==s;var m=-1,v=!0,y=l&i?new e:void 0;for(f.set(s,a),f.set(a,s);++m<h;){var b=s[m],E=a[m];if(u)var _=d?u(E,b,m,a,s,f):u(b,E,m,s,a,f);if(_!==void 0){if(_)continue;v=!1;break}if(y){if(!t(a,function(k,T){if(!n(y,T)&&(b===k||c(b,k,l,u,f)))return y.push(T)})){v=!1;break}}else if(!(b===E||c(b,E,l,u,f))){v=!1;break}}return f.delete(s),f.delete(a),v}return gp=o,gp}var yp,nC;function VQ(){if(nC)return yp;nC=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return yp=e,yp}var vp,rC;function n1(){if(rC)return vp;rC=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return vp=e,vp}var xp,iC;function qQ(){if(iC)return xp;iC=1;var e=zo(),t=Fj(),n=Fo(),r=Kj(),i=VQ(),o=n1(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",g="[object String]",x="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",y=e?e.prototype:void 0,b=y?y.valueOf:void 0;function E(_,k,T,j,O,A,D){switch(T){case v:if(_.byteLength!=k.byteLength||_.byteOffset!=k.byteOffset)return!1;_=_.buffer,k=k.buffer;case m:return!(_.byteLength!=k.byteLength||!A(new t(_),new t(k)));case l:case u:case d:return n(+_,+k);case c:return _.name==k.name&&_.message==k.message;case h:case g:return _==k+"";case f:var z=i;case p:var I=j&s;if(z||(z=o),_.size!=k.size&&!I)return!1;var L=D.get(_);if(L)return L==k;j|=a,D.set(_,k);var F=r(z(_),z(k),j,O,A,D);return D.delete(_),F;case x:if(b)return b.call(_)==b.call(k)}return!1}return xp=E,xp}var wp,oC;function $Q(){if(oC)return wp;oC=1;var e=Dj(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var f=a&t,d=e(o),h=d.length,p=e(s),g=p.length;if(h!=g&&!f)return!1;for(var x=h;x--;){var m=d[x];if(!(f?m in s:r.call(s,m)))return!1}var v=c.get(o),y=c.get(s);if(v&&y)return v==s&&y==o;var b=!0;c.set(o,s),c.set(s,o);for(var E=f;++x<h;){m=d[x];var _=o[m],k=s[m];if(l)var T=f?l(k,_,m,s,o,c):l(_,k,m,o,s,c);if(!(T===void 0?_===k||u(_,k,a,l,c):T)){b=!1;break}E||(E=m=="constructor")}if(b&&!E){var j=o.constructor,O=s.constructor;j!=O&&"constructor"in o&&"constructor"in s&&!(typeof j=="function"&&j instanceof j&&typeof O=="function"&&O instanceof O)&&(b=!1)}return c.delete(o),c.delete(s),b}return wp=i,wp}var bp,sC;function BQ(){if(sC)return bp;sC=1;var e=Nc(),t=Kj(),n=qQ(),r=$Q(),i=qo(),o=Ke(),s=Vo(),a=Oa(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function p(g,x,m,v,y,b){var E=o(g),_=o(x),k=E?c:i(g),T=_?c:i(x);k=k==u?f:k,T=T==u?f:T;var j=k==f,O=T==f,A=k==T;if(A&&s(g)){if(!s(x))return!1;E=!0,j=!1}if(A&&!j)return b||(b=new e),E||a(g)?t(g,x,m,v,y,b):n(g,x,k,m,v,y,b);if(!(m&l)){var D=j&&h.call(g,"__wrapped__"),z=O&&h.call(x,"__wrapped__");if(D||z){var I=D?g.value():g,L=z?x.value():x;return b||(b=new e),y(I,L,m,v,b)}}return A?(b||(b=new e),r(g,x,m,v,y,b)):!1}return bp=p,bp}var _p,aC;function Yj(){if(aC)return _p;aC=1;var e=BQ(),t=Vn();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return _p=n,_p}var Sp,lC;function HQ(){if(lC)return Sp;lC=1;var e=Nc(),t=Yj(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,f=!l;if(o==null)return!c;for(o=Object(o);u--;){var d=a[u];if(f&&d[2]?d[1]!==o[d[0]]:!(d[0]in o))return!1}for(;++u<c;){d=a[u];var h=d[0],p=o[h],g=d[1];if(f&&d[2]){if(p===void 0&&!(h in o))return!1}else{var x=new e;if(l)var m=l(p,g,h,o,s,x);if(!(m===void 0?t(g,p,n|r,l,x):m))return!1}}return!0}return Sp=i,Sp}var Ep,uC;function Xj(){if(uC)return Ep;uC=1;var e=sn();function t(n){return n===n&&!e(n)}return Ep=t,Ep}var kp,cC;function UQ(){if(cC)return kp;cC=1;var e=Xj(),t=Wr();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return kp=n,kp}var Cp,fC;function Qj(){if(fC)return Cp;fC=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Cp=e,Cp}var Tp,dC;function WQ(){if(dC)return Tp;dC=1;var e=HQ(),t=UQ(),n=Qj();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return Tp=r,Tp}var Pp,hC;function $o(){if(hC)return Pp;hC=1;var e=Ci(),t=Vn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Pp=r,Pp}var Np,pC;function r1(){if(pC)return Np;pC=1;var e=Ke(),t=$o(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return Np=i,Np}var Ap,mC;function GQ(){if(mC)return Ap;mC=1;var e=Ux(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,Ap=n,Ap}var Ip,gC;function KQ(){if(gC)return Ip;gC=1;var e=GQ(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return Ip=n,Ip}var Mp,yC;function YQ(){if(yC)return Mp;yC=1;var e=KQ(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return Mp=r,Mp}var Rp,vC;function Oc(){if(vC)return Rp;vC=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Rp=e,Rp}var jp,xC;function XQ(){if(xC)return jp;xC=1;var e=zo(),t=Oc(),n=Ke(),r=$o(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return jp=s,jp}var Lp,wC;function Zj(){if(wC)return Lp;wC=1;var e=XQ();function t(n){return n==null?"":e(n)}return Lp=t,Lp}var Dp,bC;function Fc(){if(bC)return Dp;bC=1;var e=Ke(),t=r1(),n=YQ(),r=Zj();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return Dp=i,Dp}var Op,_C;function Fa(){if(_C)return Op;_C=1;var e=$o();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Op=t,Op}var Fp,SC;function zc(){if(SC)return Fp;SC=1;var e=Fc(),t=Fa();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return Fp=n,Fp}var zp,EC;function QQ(){if(EC)return zp;EC=1;var e=zc();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return zp=t,zp}var Vp,kC;function ZQ(){if(kC)return Vp;kC=1;function e(t,n){return t!=null&&n in Object(t)}return Vp=e,Vp}var qp,CC;function Jj(){if(CC)return qp;CC=1;var e=Fc(),t=Da(),n=Ke(),r=Mc(),i=Gx(),o=Fa();function s(a,l,u){l=e(l,a);for(var c=-1,f=l.length,d=!1;++c<f;){var h=o(l[c]);if(!(d=a!=null&&u(a,h)))break;a=a[h]}return d||++c!=f?d:(f=a==null?0:a.length,!!f&&i(f)&&r(h,f)&&(n(a)||t(a)))}return qp=s,qp}var $p,TC;function eL(){if(TC)return $p;TC=1;var e=ZQ(),t=Jj();function n(r,i){return r!=null&&t(r,i,e)}return $p=n,$p}var Bp,PC;function JQ(){if(PC)return Bp;PC=1;var e=Yj(),t=QQ(),n=eL(),r=r1(),i=Xj(),o=Qj(),s=Fa(),a=1,l=2;function u(c,f){return r(c)&&i(f)?o(s(c),f):function(d){var h=t(d,c);return h===void 0&&h===f?n(d,c):e(f,h,a|l)}}return Bp=u,Bp}var Hp,NC;function tL(){if(NC)return Hp;NC=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Hp=e,Hp}var Up,AC;function eZ(){if(AC)return Up;AC=1;var e=zc();function t(n){return function(r){return e(r,n)}}return Up=t,Up}var Wp,IC;function tZ(){if(IC)return Wp;IC=1;var e=tL(),t=eZ(),n=r1(),r=Fa();function i(o){return n(o)?e(r(o)):t(o)}return Wp=i,Wp}var Gp,MC;function ur(){if(MC)return Gp;MC=1;var e=WQ(),t=JQ(),n=Ni(),r=Ke(),i=tZ();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return Gp=o,Gp}var Kp,RC;function nL(){if(RC)return Kp;RC=1;var e=Mj(),t=DQ(),n=ur(),r=Ke();function i(o,s){var a=r(o)?e:t;return a(o,n(s,3))}return Kp=i,Kp}var Yp,jC;function nZ(){if(jC)return Yp;jC=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Yp=n,Yp}var Xp,LC;function rL(){if(LC)return Xp;LC=1;var e=nZ(),t=Jj();function n(r,i){return r!=null&&t(r,i,e)}return Xp=n,Xp}var Qp,DC;function rZ(){if(DC)return Qp;DC=1;var e=Yx(),t=qo(),n=Da(),r=Ke(),i=lr(),o=Vo(),s=jc(),a=Oa(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||a(h)||n(h)))return!h.length;var p=t(h);if(p==l||p==u)return!h.size;if(s(h))return!e(h).length;for(var g in h)if(f.call(h,g))return!1;return!0}return Qp=d,Qp}var Zp,OC;function iL(){if(OC)return Zp;OC=1;function e(t){return t===void 0}return Zp=e,Zp}var Jp,FC;function oL(){if(FC)return Jp;FC=1;var e=Dc(),t=lr();function n(r,i){var o=-1,s=t(r)?Array(r.length):[];return e(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return Jp=n,Jp}var em,zC;function sL(){if(zC)return em;zC=1;var e=Oc(),t=ur(),n=oL(),r=Ke();function i(o,s){var a=r(o)?e:n;return a(o,t(s,3))}return em=i,em}var tm,VC;function iZ(){if(VC)return tm;VC=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return tm=e,tm}var nm,qC;function oZ(){if(qC)return nm;qC=1;function e(t,n,r,i,o){return o(t,function(s,a,l){r=i?(i=!1,s):n(r,s,a,l)}),r}return nm=e,nm}var rm,$C;function aL(){if($C)return rm;$C=1;var e=iZ(),t=Dc(),n=ur(),r=oZ(),i=Ke();function o(s,a,l){var u=i(s)?e:r,c=arguments.length<3;return u(s,n(a,4),l,c,t)}return rm=o,rm}var im,BC;function sZ(){if(BC)return im;BC=1;var e=Ci(),t=Ke(),n=Vn(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return im=i,im}var om,HC;function aZ(){if(HC)return om;HC=1;var e=tL(),t=e("length");return om=t,om}var sm,UC;function lZ(){if(UC)return sm;UC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function l(u){return a.test(u)}return sm=l,sm}var am,WC;function uZ(){if(WC)return am;WC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=u+"?",g="["+o+"]?",x="(?:"+h+"(?:"+[c,f,d].join("|")+")"+g+p+")*",m=g+p+x,v="(?:"+[c+a+"?",a,f,d,s].join("|")+")",y=RegExp(l+"(?="+l+")|"+v+m,"g");function b(E){for(var _=y.lastIndex=0;y.test(E);)++_;return _}return am=b,am}var lm,GC;function cZ(){if(GC)return lm;GC=1;var e=aZ(),t=lZ(),n=uZ();function r(i){return t(i)?n(i):e(i)}return lm=r,lm}var um,KC;function fZ(){if(KC)return um;KC=1;var e=Yx(),t=qo(),n=lr(),r=sZ(),i=cZ(),o="[object Map]",s="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==o||u==s?l.size:e(l).length}return um=a,um}var cm,YC;function dZ(){if(YC)return cm;YC=1;var e=Wx(),t=Vj(),n=t1(),r=ur(),i=Lc(),o=Ke(),s=Vo(),a=ja(),l=sn(),u=Oa();function c(f,d,h){var p=o(f),g=p||s(f)||u(f);if(d=r(d,4),h==null){var x=f&&f.constructor;g?h=p?new x:[]:l(f)?h=a(x)?t(i(f)):{}:h={}}return(g?e:n)(f,function(m,v,y){return d(h,m,v,y)}),h}return cm=c,cm}var fm,XC;function hZ(){if(XC)return fm;XC=1;var e=zo(),t=Da(),n=Ke(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return fm=i,fm}var dm,QC;function i1(){if(QC)return dm;QC=1;var e=Qx(),t=hZ();function n(r,i,o,s,a){var l=-1,u=r.length;for(o||(o=t),a||(a=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,s,a):e(a,c):s||(a[a.length]=c)}return a}return dm=n,dm}var hm,ZC;function pZ(){if(ZC)return hm;ZC=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return hm=e,hm}var pm,JC;function lL(){if(JC)return pm;JC=1;var e=pZ(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,l=t(s.length-i,0),u=Array(l);++a<l;)u[a]=s[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=s[a];return c[i]=o(u),e(r,this,c)}}return pm=n,pm}var mm,eT;function mZ(){if(eT)return mm;eT=1;var e=Jx(),t=Tj(),n=Ni(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return mm=r,mm}var gm,tT;function gZ(){if(tT)return gm;tT=1;var e=800,t=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),l=t-(a-s);if(s=a,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return gm=r,gm}var ym,nT;function uL(){if(nT)return ym;nT=1;var e=mZ(),t=gZ(),n=t(e);return ym=n,ym}var vm,rT;function Vc(){if(rT)return vm;rT=1;var e=Ni(),t=lL(),n=uL();function r(i,o){return n(t(i,o,e),i+"")}return vm=r,vm}var xm,iT;function cL(){if(iT)return xm;iT=1;function e(t,n,r,i){for(var o=t.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(t[s],s,t))return s;return-1}return xm=e,xm}var wm,oT;function yZ(){if(oT)return wm;oT=1;function e(t){return t!==t}return wm=e,wm}var bm,sT;function vZ(){if(sT)return bm;sT=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return bm=e,bm}var _m,aT;function xZ(){if(aT)return _m;aT=1;var e=cL(),t=yZ(),n=vZ();function r(i,o,s){return o===o?n(i,o,s):e(i,t,s)}return _m=r,_m}var Sm,lT;function wZ(){if(lT)return Sm;lT=1;var e=xZ();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Sm=t,Sm}var Em,uT;function bZ(){if(uT)return Em;uT=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Em=e,Em}var km,cT;function _Z(){if(cT)return km;cT=1;function e(){}return km=e,km}var Cm,fT;function SZ(){if(fT)return Cm;fT=1;var e=Oj(),t=_Z(),n=n1(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Cm=i,Cm}var Tm,dT;function EZ(){if(dT)return Tm;dT=1;var e=Wj(),t=wZ(),n=bZ(),r=Gj(),i=SZ(),o=n1(),s=200;function a(l,u,c){var f=-1,d=t,h=l.length,p=!0,g=[],x=g;if(c)p=!1,d=n;else if(h>=s){var m=u?null:i(l);if(m)return o(m);p=!1,d=r,x=new e}else x=u?[]:g;e:for(;++f<h;){var v=l[f],y=u?u(v):v;if(v=c||v!==0?v:0,p&&y===y){for(var b=x.length;b--;)if(x[b]===y)continue e;u&&x.push(y),g.push(v)}else d(x,y,c)||(x!==g&&x.push(y),g.push(v))}return g}return Tm=a,Tm}var Pm,hT;function fL(){if(hT)return Pm;hT=1;var e=lr(),t=Vn();function n(r){return t(r)&&e(r)}return Pm=n,Pm}var Nm,pT;function kZ(){if(pT)return Nm;pT=1;var e=i1(),t=Vc(),n=EZ(),r=fL(),i=t(function(o){return n(e(o,1,r,!0))});return Nm=i,Nm}var Am,mT;function CZ(){if(mT)return Am;mT=1;var e=Oc();function t(n,r){return e(r,function(i){return n[i]})}return Am=t,Am}var Im,gT;function dL(){if(gT)return Im;gT=1;var e=CZ(),t=Wr();function n(r){return r==null?[]:e(r,t(r))}return Im=n,Im}var Mm,yT;function an(){if(yT)return Mm;yT=1;var e;if(typeof Bx=="function")try{e={clone:RQ(),constant:Jx(),each:Uj(),filter:nL(),has:rL(),isArray:Ke(),isEmpty:rZ(),isFunction:ja(),isUndefined:iL(),keys:Wr(),map:sL(),reduce:aL(),size:fZ(),transform:dZ(),union:kZ(),values:dL()}}catch{}return e||(e=window._),Mm=e,Mm}var Rm,vT;function o1(){if(vT)return Rm;vT=1;var e=an();Rm=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,h=this;return e.each(c,function(p){d.length>1?h.setNode(p,f):h.setNode(p)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(g,x){c(x)&&f.setNode(x,g)}),e.each(this._edgeObjs,function(g){f.hasNode(g.v)&&f.hasNode(g.w)&&f.setEdge(g,d.edge(g))});var h={};function p(g){var x=d.parent(g);return x===void 0||f.hasNode(x)?(h[g]=x,x):x in h?h[x]:p(x)}return this._isCompound&&e.each(f.nodes(),function(g){f.setParent(g,p(g))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,h=arguments;return e.reduce(c,function(p,g){return h.length>1?d.setEdge(p,g,f):d.setEdge(p,g),g}),this},i.prototype.setEdge=function(){var c,f,d,h,p=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(c=g.v,f=g.w,d=g.name,arguments.length===2&&(h=arguments[1],p=!0)):(c=g,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],p=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var x=a(this._isDirected,c,f,d);if(e.has(this._edgeLabels,x))return p&&(this._edgeLabels[x]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[x]=p?h:this._defaultEdgeLabelFn(c,f,d);var m=l(this._isDirected,c,f,d);return c=m.v,f=m.w,Object.freeze(m),this._edgeObjs[x]=m,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][x]=m,this._out[c][x]=m,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d),p=this._edgeObjs[h];return p&&(c=p.v,f=p.w,delete this._edgeLabels[h],delete this._edgeObjs[h],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var h=e.values(d);return f?e.filter(h,function(p){return p.v===f}):h}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var h=e.values(d);return f?e.filter(h,function(p){return p.w===f}):h}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function a(c,f,d,h){var p=""+f,g=""+d;if(!c&&p>g){var x=p;p=g,g=x}return p+r+g+r+(e.isUndefined(h)?t:h)}function l(c,f,d,h){var p=""+f,g=""+d;if(!c&&p>g){var x=p;p=g,g=x}var m={v:p,w:g};return h&&(m.name=h),m}function u(c,f){return a(c,f.v,f.w,f.name)}return Rm}var jm,xT;function TZ(){return xT||(xT=1,jm="2.1.8"),jm}var Lm,wT;function PZ(){return wT||(wT=1,Lm={Graph:o1(),version:TZ()}),Lm}var Dm,bT;function NZ(){if(bT)return Dm;bT=1;var e=an(),t=o1();Dm={write:n,read:o};function n(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:i(s)};return e.isUndefined(s.graph())||(a.value=e.clone(s.graph())),a}function r(s){return e.map(s.nodes(),function(a){var l=s.node(a),u=s.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(s){return e.map(s.edges(),function(a){var l=s.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function o(s){var a=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(s.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return Dm}var Om,_T;function AZ(){if(_T)return Om;_T=1;var e=an();Om=t;function t(n){var r={},i=[],o;function s(a){e.has(r,a)||(r[a]=!0,o.push(a),e.each(n.successors(a),s),e.each(n.predecessors(a),s))}return e.each(n.nodes(),function(a){o=[],s(a),o.length&&i.push(o)}),i}return Om}var Fm,ST;function hL(){if(ST)return Fm;ST=1;var e=an();Fm=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r},Fm}var zm,ET;function pL(){if(ET)return zm;ET=1;var e=an(),t=hL();zm=r;var n=e.constant(1);function r(o,s,a,l){return i(o,String(s),a||n,l||function(u){return o.outEdges(u)})}function i(o,s,a,l){var u={},c=new t,f,d,h=function(p){var g=p.v!==f?p.v:p.w,x=u[g],m=a(p),v=d.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+m);v<x.distance&&(x.distance=v,x.predecessor=f,c.decrease(g,v))};for(o.nodes().forEach(function(p){var g=p===s?0:Number.POSITIVE_INFINITY;u[p]={distance:g},c.add(p,g)});c.size()>0&&(f=c.removeMin(),d=u[f],d.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(h);return u}return zm}var Vm,kT;function IZ(){if(kT)return Vm;kT=1;var e=pL(),t=an();Vm=n;function n(r,i,o){return t.transform(r.nodes(),function(s,a){s[a]=e(r,a,i,o)},{})}return Vm}var qm,CT;function mL(){if(CT)return qm;CT=1;var e=an();qm=t;function t(n){var r=0,i=[],o={},s=[];function a(l){var u=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(d){e.has(o,d)?o[d].onStack&&(u.lowlink=Math.min(u.lowlink,o[d].index)):(a(d),u.lowlink=Math.min(u.lowlink,o[d].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(l!==f);s.push(c)}}return n.nodes().forEach(function(l){e.has(o,l)||a(l)}),s}return qm}var $m,TT;function MZ(){if(TT)return $m;TT=1;var e=an(),t=mL();$m=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return $m}var Bm,PT;function RZ(){if(PT)return Bm;PT=1;var e=an();Bm=n;var t=e.constant(1);function n(i,o,s){return r(i,o||t,s||function(a){return i.outEdges(a)})}function r(i,o,s){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var f=c.v===u?c.w:c.v,d=o(c);a[u][f]={distance:d,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(f){var d=a[f];l.forEach(function(h){var p=d[u],g=c[h],x=d[h],m=p.distance+g.distance;m<x.distance&&(x.distance=m,x.predecessor=g.predecessor)})})}),a}return Bm}var Hm,NT;function gL(){if(NT)return Hm;NT=1;var e=an();Hm=t,t.CycleException=n;function t(r){var i={},o={},s=[];function a(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete o[l],s.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,Hm}var Um,AT;function jZ(){if(AT)return Um;AT=1;var e=gL();Um=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Um}var Wm,IT;function yL(){if(IT)return Wm;IT=1;var e=an();Wm=t;function t(r,i,o){e.isArray(i)||(i=[i]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",l,s,a)}),a}function n(r,i,o,s,a,l){e.has(s,i)||(s[i]=!0,o||l.push(i),e.each(a(i),function(u){n(r,u,o,s,a,l)}),o&&l.push(i))}return Wm}var Gm,MT;function LZ(){if(MT)return Gm;MT=1;var e=yL();Gm=t;function t(n,r){return e(n,r,"post")}return Gm}var Km,RT;function DZ(){if(RT)return Km;RT=1;var e=yL();Km=t;function t(n,r){return e(n,r,"pre")}return Km}var Ym,jT;function OZ(){if(jT)return Ym;jT=1;var e=an(),t=o1(),n=hL();Ym=r;function r(i,o){var s=new t,a={},l=new n,u;function c(d){var h=d.v===u?d.w:d.v,p=l.priority(h);if(p!==void 0){var g=o(d);g<p&&(a[h]=u,l.decrease(h,g))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(d){l.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))s.setEdge(u,a[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return s}return Ym}var Xm,LT;function FZ(){return LT||(LT=1,Xm={components:AZ(),dijkstra:pL(),dijkstraAll:IZ(),findCycles:MZ(),floydWarshall:RZ(),isAcyclic:jZ(),postorder:LZ(),preorder:DZ(),prim:OZ(),tarjan:mL(),topsort:gL()}),Xm}var Qm,DT;function zZ(){if(DT)return Qm;DT=1;var e=PZ();return Qm={Graph:e.Graph,json:NZ(),alg:FZ(),version:e.version},Qm}var Ou;if(typeof Bx=="function")try{Ou=zZ()}catch{}Ou||(Ou=window.graphlib);var En=Ou,Zm,OT;function VZ(){if(OT)return Zm;OT=1;var e=$j(),t=1,n=4;function r(i){return e(i,t|n)}return Zm=r,Zm}var Jm,FT;function qc(){if(FT)return Jm;FT=1;var e=Fo(),t=lr(),n=Mc(),r=sn();function i(o,s,a){if(!r(a))return!1;var l=typeof s;return(l=="number"?t(a)&&n(s,a.length):l=="string"&&s in a)?e(a[s],o):!1}return Jm=i,Jm}var eg,zT;function qZ(){if(zT)return eg;zT=1;var e=Vc(),t=Fo(),n=qc(),r=Pi(),i=Object.prototype,o=i.hasOwnProperty,s=e(function(a,l){a=Object(a);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var d=l[u],h=r(d),p=-1,g=h.length;++p<g;){var x=h[p],m=a[x];(m===void 0||t(m,i[x])&&!o.call(a,x))&&(a[x]=d[x])}return a});return eg=s,eg}var tg,VT;function $Z(){if(VT)return tg;VT=1;var e=ur(),t=lr(),n=Wr();function r(i){return function(o,s,a){var l=Object(o);if(!t(o)){var u=e(s,3);o=n(o),s=function(f){return u(l[f],f,l)}}var c=i(o,s,a);return c>-1?l[u?o[c]:c]:void 0}}return tg=r,tg}var ng,qT;function BZ(){if(qT)return ng;qT=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return ng=t,ng}var rg,$T;function HZ(){if($T)return rg;$T=1;var e=BZ(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return rg=n,rg}var ig,BT;function UZ(){if(BT)return ig;BT=1;var e=HZ(),t=sn(),n=$o(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||s.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return ig=l,ig}var og,HT;function vL(){if(HT)return og;HT=1;var e=UZ(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return og=r,og}var sg,UT;function WZ(){if(UT)return sg;UT=1;var e=vL();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return sg=t,sg}var ag,WT;function GZ(){if(WT)return ag;WT=1;var e=cL(),t=ur(),n=WZ(),r=Math.max;function i(o,s,a){var l=o==null?0:o.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(o,t(s,3),u)}return ag=i,ag}var lg,GT;function KZ(){if(GT)return lg;GT=1;var e=$Z(),t=GZ(),n=e(t);return lg=n,lg}var ug,KT;function xL(){if(KT)return ug;KT=1;var e=i1();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return ug=t,ug}var cg,YT;function YZ(){if(YT)return cg;YT=1;var e=e1(),t=Bj(),n=Pi();function r(i,o){return i==null?i:e(i,t(o),n)}return cg=r,cg}var fg,XT;function XZ(){if(XT)return fg;XT=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return fg=e,fg}var dg,QT;function QZ(){if(QT)return dg;QT=1;var e=Ac(),t=t1(),n=ur();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,u){e(s,l,o(a,l,u))}),s}return dg=r,dg}var hg,ZT;function s1(){if(ZT)return hg;ZT=1;var e=$o();function t(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return hg=t,hg}var pg,JT;function ZZ(){if(JT)return pg;JT=1;function e(t,n){return t>n}return pg=e,pg}var mg,eP;function JZ(){if(eP)return mg;eP=1;var e=s1(),t=ZZ(),n=Ni();function r(i){return i&&i.length?e(i,n,t):void 0}return mg=r,mg}var gg,tP;function wL(){if(tP)return gg;tP=1;var e=Ac(),t=Fo();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return gg=n,gg}var yg,nP;function eJ(){if(nP)return yg;nP=1;var e=Ci(),t=Lc(),n=Vn(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var d=a.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&s.call(d)==l}return yg=u,yg}var vg,rP;function bL(){if(rP)return vg;rP=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return vg=e,vg}var xg,iP;function tJ(){if(iP)return xg;iP=1;var e=La(),t=Pi();function n(r){return e(r,t(r))}return xg=n,xg}var wg,oP;function nJ(){if(oP)return wg;oP=1;var e=wL(),t=Aj(),n=zj(),r=Ij(),i=qj(),o=Da(),s=Ke(),a=fL(),l=Vo(),u=ja(),c=sn(),f=eJ(),d=Oa(),h=bL(),p=tJ();function g(x,m,v,y,b,E,_){var k=h(x,v),T=h(m,v),j=_.get(T);if(j){e(x,v,j);return}var O=E?E(k,T,v+"",x,m,_):void 0,A=O===void 0;if(A){var D=s(T),z=!D&&l(T),I=!D&&!z&&d(T);O=T,D||z||I?s(k)?O=k:a(k)?O=r(k):z?(A=!1,O=t(T,!0)):I?(A=!1,O=n(T,!0)):O=[]:f(T)||o(T)?(O=k,o(k)?O=p(k):(!c(k)||u(k))&&(O=i(T))):A=!1}A&&(_.set(T,O),b(O,T,y,E,_),_.delete(T)),e(x,v,O)}return wg=g,wg}var bg,sP;function rJ(){if(sP)return bg;sP=1;var e=Nc(),t=wL(),n=e1(),r=nJ(),i=sn(),o=Pi(),s=bL();function a(l,u,c,f,d){l!==u&&n(u,function(h,p){if(d||(d=new e),i(h))r(l,u,p,c,a,f,d);else{var g=f?f(s(l,p),h,p+"",l,u,d):void 0;g===void 0&&(g=h),t(l,p,g)}},o)}return bg=a,bg}var _g,aP;function iJ(){if(aP)return _g;aP=1;var e=Vc(),t=qc();function n(r){return e(function(i,o){var s=-1,a=o.length,l=a>1?o[a-1]:void 0,u=a>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(o[0],o[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++s<a;){var c=o[s];c&&r(i,c,s,l)}return i})}return _g=n,_g}var Sg,lP;function oJ(){if(lP)return Sg;lP=1;var e=rJ(),t=iJ(),n=t(function(r,i,o){e(r,i,o)});return Sg=n,Sg}var Eg,uP;function _L(){if(uP)return Eg;uP=1;function e(t,n){return t<n}return Eg=e,Eg}var kg,cP;function sJ(){if(cP)return kg;cP=1;var e=s1(),t=_L(),n=Ni();function r(i){return i&&i.length?e(i,n,t):void 0}return kg=r,kg}var Cg,fP;function aJ(){if(fP)return Cg;fP=1;var e=s1(),t=ur(),n=_L();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Cg=r,Cg}var Tg,dP;function lJ(){if(dP)return Tg;dP=1;var e=Sn(),t=function(){return e.Date.now()};return Tg=t,Tg}var Pg,hP;function uJ(){if(hP)return Pg;hP=1;var e=Ic(),t=Fc(),n=Mc(),r=sn(),i=Fa();function o(s,a,l,u){if(!r(s))return s;a=t(a,s);for(var c=-1,f=a.length,d=f-1,h=s;h!=null&&++c<f;){var p=i(a[c]),g=l;if(p==="__proto__"||p==="constructor"||p==="prototype")return s;if(c!=d){var x=h[p];g=u?u(x,p,h):void 0,g===void 0&&(g=r(x)?x:n(a[c+1])?[]:{})}e(h,p,g),h=h[p]}return s}return Pg=o,Pg}var Ng,pP;function cJ(){if(pP)return Ng;pP=1;var e=zc(),t=uJ(),n=Fc();function r(i,o,s){for(var a=-1,l=o.length,u={};++a<l;){var c=o[a],f=e(i,c);s(f,c)&&t(u,n(c,i),f)}return u}return Ng=r,Ng}var Ag,mP;function fJ(){if(mP)return Ag;mP=1;var e=cJ(),t=eL();function n(r,i){return e(r,i,function(o,s){return t(r,s)})}return Ag=n,Ag}var Ig,gP;function dJ(){if(gP)return Ig;gP=1;var e=xL(),t=lL(),n=uL();function r(i){return n(t(i,void 0,e),i+"")}return Ig=r,Ig}var Mg,yP;function hJ(){if(yP)return Mg;yP=1;var e=fJ(),t=dJ(),n=t(function(r,i){return r==null?{}:e(r,i)});return Mg=n,Mg}var Rg,vP;function pJ(){if(vP)return Rg;vP=1;var e=Math.ceil,t=Math.max;function n(r,i,o,s){for(var a=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[s?l:++a]=r,r+=o;return u}return Rg=n,Rg}var jg,xP;function mJ(){if(xP)return jg;xP=1;var e=pJ(),t=qc(),n=vL();function r(i){return function(o,s,a){return a&&typeof a!="number"&&t(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),e(o,s,a,i)}}return jg=r,jg}var Lg,wP;function gJ(){if(wP)return Lg;wP=1;var e=mJ(),t=e();return Lg=t,Lg}var Dg,bP;function yJ(){if(bP)return Dg;bP=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Dg=e,Dg}var Og,_P;function vJ(){if(_P)return Og;_P=1;var e=$o();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!a&&n>r||a&&l&&c&&!u&&!f||o&&l&&c||!i&&c||!s)return 1;if(!o&&!a&&!f&&n<r||f&&i&&s&&!o&&!a||u&&i&&s||!l&&s||!c)return-1}return 0}return Og=t,Og}var Fg,SP;function xJ(){if(SP)return Fg;SP=1;var e=vJ();function t(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,l=s.length,u=i.length;++o<l;){var c=e(s[o],a[o]);if(c){if(o>=u)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return Fg=t,Fg}var zg,EP;function wJ(){if(EP)return zg;EP=1;var e=Oc(),t=zc(),n=ur(),r=oL(),i=yJ(),o=Rc(),s=xJ(),a=Ni(),l=Ke();function u(c,f,d){f.length?f=e(f,function(g){return l(g)?function(x){return t(x,g.length===1?g[0]:g)}:g}):f=[a];var h=-1;f=e(f,o(n));var p=r(c,function(g,x,m){var v=e(f,function(y){return y(g)});return{criteria:v,index:++h,value:g}});return i(p,function(g,x){return s(g,x,d)})}return zg=u,zg}var Vg,kP;function bJ(){if(kP)return Vg;kP=1;var e=i1(),t=wJ(),n=Vc(),r=qc(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(o,e(s,1),[])});return Vg=i,Vg}var qg,CP;function _J(){if(CP)return qg;CP=1;var e=Zj(),t=0;function n(r){var i=++t;return e(r)+i}return qg=n,qg}var $g,TP;function SJ(){if(TP)return $g;TP=1;function e(t,n,r){for(var i=-1,o=t.length,s=n.length,a={};++i<o;){var l=i<s?n[i]:void 0;r(a,t[i],l)}return a}return $g=e,$g}var Bg,PP;function EJ(){if(PP)return Bg;PP=1;var e=Ic(),t=SJ();function n(r,i){return t(r||[],i||[],e)}return Bg=n,Bg}var Fu;if(typeof Bx=="function")try{Fu={cloneDeep:VZ(),constant:Jx(),defaults:qZ(),each:Uj(),filter:nL(),find:KZ(),flatten:xL(),forEach:Hj(),forIn:YZ(),has:rL(),isUndefined:iL(),last:XZ(),map:sL(),mapValues:QZ(),max:JZ(),merge:oJ(),min:sJ(),minBy:aJ(),now:lJ(),pick:hJ(),range:gJ(),reduce:aL(),sortBy:bJ(),uniqueId:_J(),values:dL(),zipObject:EJ()}}catch{}Fu||(Fu=window._);var je=Fu,kJ=$c;function $c(){var e={};e._next=e._prev=e,this._sentinel=e}$c.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return SL(t),t};$c.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&SL(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};$c.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,CJ)),n=n._prev;return"["+e.join(", ")+"]"};function SL(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function CJ(e,t){if(e!=="_next"&&e!=="_prev")return t}var Kn=je,TJ=En.Graph,PJ=kJ,NJ=IJ,AJ=Kn.constant(1);function IJ(e,t){if(e.nodeCount()<=1)return[];var n=RJ(e,t||AJ),r=MJ(n.graph,n.buckets,n.zeroIdx);return Kn.flatten(Kn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function MJ(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)Hg(e,t,n,s);for(;s=i.dequeue();)Hg(e,t,n,s);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){r=r.concat(Hg(e,t,n,s,!0));break}}}return r}function Hg(e,t,n,r,i){var o=i?[]:void 0;return Kn.forEach(e.inEdges(r.v),function(s){var a=e.edge(s),l=e.node(s.v);i&&o.push({v:s.v,w:s.w}),l.out-=a,Lv(t,n,l)}),Kn.forEach(e.outEdges(r.v),function(s){var a=e.edge(s),l=s.w,u=e.node(l);u.in-=a,Lv(t,n,u)}),e.removeNode(r.v),o}function RJ(e,t){var n=new TJ,r=0,i=0;Kn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),Kn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var o=Kn.range(i+r+3).map(function(){return new PJ}),s=r+1;return Kn.forEach(n.nodes(),function(a){Lv(o,s,n.node(a))}),{graph:n,buckets:o,zeroIdx:s}}function Lv(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var ai=je,jJ=NJ,LJ={run:DJ,undo:FJ};function DJ(e){var t=e.graph().acyclicer==="greedy"?jJ(e,n(e)):OJ(e);ai.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,ai.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function OJ(e){var t=[],n={},r={};function i(o){ai.has(r,o)||(r[o]=!0,n[o]=!0,ai.forEach(e.outEdges(o),function(s){ai.has(n,s.w)?t.push(s):i(s.w)}),delete n[o])}return ai.forEach(e.nodes(),i),t}function FJ(e){ai.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var _e=je,EL=En.Graph,Rt={addDummyNode:kL,simplify:zJ,asNonCompoundGraph:VJ,successorWeights:qJ,predecessorWeights:$J,intersectRect:BJ,buildLayerMatrix:HJ,normalizeRanks:UJ,removeEmptyRanks:WJ,addBorderNode:GJ,maxRank:CL,partition:KJ,time:YJ,notime:XJ};function kL(e,t,n,r){var i;do i=_e.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function zJ(e){var t=new EL().setGraph(e.graph());return _e.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),_e.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function VJ(e){var t=new EL({multigraph:e.isMultigraph()}).setGraph(e.graph());return _e.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),_e.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function qJ(e){var t=_e.map(e.nodes(),function(n){var r={};return _e.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return _e.zipObject(e.nodes(),t)}function $J(e){var t=_e.map(e.nodes(),function(n){var r={};return _e.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return _e.zipObject(e.nodes(),t)}function BJ(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,s=e.width/2,a=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),l=a*i/o,u=a):(i<0&&(s=-s),l=s,u=s*o/i),{x:n+l,y:r+u}}function HJ(e){var t=_e.map(_e.range(CL(e)+1),function(){return[]});return _e.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;_e.isUndefined(i)||(t[i][r.order]=n)}),t}function UJ(e){var t=_e.min(_e.map(e.nodes(),function(n){return e.node(n).rank}));_e.forEach(e.nodes(),function(n){var r=e.node(n);_e.has(r,"rank")&&(r.rank-=t)})}function WJ(e){var t=_e.min(_e.map(e.nodes(),function(o){return e.node(o).rank})),n=[];_e.forEach(e.nodes(),function(o){var s=e.node(o).rank-t;n[s]||(n[s]=[]),n[s].push(o)});var r=0,i=e.graph().nodeRankFactor;_e.forEach(n,function(o,s){_e.isUndefined(o)&&s%i!==0?--r:r&&_e.forEach(o,function(a){e.node(a).rank+=r})})}function GJ(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),kL(e,"border",i,t)}function CL(e){return _e.max(_e.map(e.nodes(),function(t){var n=e.node(t).rank;if(!_e.isUndefined(n))return n}))}function KJ(e,t){var n={lhs:[],rhs:[]};return _e.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function YJ(e,t){var n=_e.now();try{return t()}finally{console.log(e+" time: "+(_e.now()-n)+"ms")}}function XJ(e,t){return t()}var TL=je,QJ=Rt,ZJ={run:JJ,undo:tee};function JJ(e){e.graph().dummyChains=[],TL.forEach(e.edges(),function(t){eee(e,t)})}function eee(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),l=a.labelRank;if(o!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<o;++f,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=QJ.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},s),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},s)}}function tee(e){TL.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var bl=je,Bc={longestPath:nee,slack:ree};function nee(e){var t={};function n(r){var i=e.node(r);if(bl.has(t,r))return i.rank;t[r]=!0;var o=bl.min(bl.map(e.outEdges(r),function(s){return n(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}bl.forEach(e.sources(),n)}function ree(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var zu=je,iee=En.Graph,Vu=Bc.slack,PL=oee;function oee(e){var t=new iee({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;see(t,e)<r;)i=aee(t,e),o=t.hasNode(i.v)?Vu(e,i):-Vu(e,i),lee(t,e,o);return t}function see(e,t){function n(r){zu.forEach(t.nodeEdges(r),function(i){var o=i.v,s=r===o?i.w:o;!e.hasNode(s)&&!Vu(t,i)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return zu.forEach(e.nodes(),n),e.nodeCount()}function aee(e,t){return zu.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Vu(t,n)})}function lee(e,t,n){zu.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var or=je,uee=PL,cee=Bc.slack,fee=Bc.longestPath,dee=En.alg.preorder,hee=En.alg.postorder,pee=Rt.simplify,mee=Ai;Ai.initLowLimValues=l1;Ai.initCutValues=a1;Ai.calcCutValue=NL;Ai.leaveEdge=IL;Ai.enterEdge=ML;Ai.exchangeEdges=RL;function Ai(e){e=pee(e),fee(e);var t=uee(e);l1(t),a1(t,e);for(var n,r;n=IL(t);)r=ML(t,e,n),RL(t,e,n,r)}function a1(e,t){var n=hee(e,e.nodes());n=n.slice(0,n.length-1),or.forEach(n,function(r){gee(e,t,r)})}function gee(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=NL(e,t,n)}function NL(e,t,n){var r=e.node(n),i=r.parent,o=!0,s=t.edge(n,i),a=0;return s||(o=!1,s=t.edge(i,n)),a=s.weight,or.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===o,d=t.edge(l).weight;if(a+=f?d:-d,vee(e,n,c)){var h=e.edge(n,c).cutvalue;a+=f?-h:h}}}),a}function l1(e,t){arguments.length<2&&(t=e.nodes()[0]),AL(e,{},1,t)}function AL(e,t,n,r,i){var o=n,s=e.node(r);return t[r]=!0,or.forEach(e.neighbors(r),function(a){or.has(t,a)||(n=AL(e,t,n,a,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function IL(e){return or.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function ML(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),s=e.node(i),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=or.filter(t.edges(),function(c){return l===NP(e,e.node(c.v),a)&&l!==NP(e,e.node(c.w),a)});return or.minBy(u,function(c){return cee(t,c)})}function RL(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),l1(e),a1(e,t),yee(e,t)}function yee(e,t){var n=or.find(e.nodes(),function(i){return!t.node(i).parent}),r=dee(e,n);r=r.slice(1),or.forEach(r,function(i){var o=e.node(i).parent,s=t.edge(i,o),a=!1;s||(s=t.edge(o,i),a=!0),t.node(i).rank=t.node(o).rank+(a?s.minlen:-s.minlen)})}function vee(e,t,n){return e.hasEdge(t,n)}function NP(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var xee=Bc,jL=xee.longestPath,wee=PL,bee=mee,_ee=See;function See(e){switch(e.graph().ranker){case"network-simplex":AP(e);break;case"tight-tree":kee(e);break;case"longest-path":Eee(e);break;default:AP(e)}}var Eee=jL;function kee(e){jL(e),wee(e)}function AP(e){bee(e)}var Dv=je,Cee=Tee;function Tee(e){var t=Nee(e);Dv.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=Pee(e,t,i.v,i.w),s=o.path,a=o.lca,l=0,u=s[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=s[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<s.length-1&&e.node(u=s[l+1]).minRank<=r.rank;)l++;u=s[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function Pee(e,t,n,r){var i=[],o=[],s=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>s||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function Nee(e){var t={},n=0;function r(i){var o=n;Dv.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return Dv.forEach(e.children(),r),t}var Yn=je,Ov=Rt,Aee={run:Iee,cleanup:jee};function Iee(e){var t=Ov.addDummyNode(e,"root",{},"_root"),n=Mee(e),r=Yn.max(Yn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Yn.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var o=Ree(e)+1;Yn.forEach(e.children(),function(s){LL(e,t,i,o,r,n,s)}),e.graph().nodeRankFactor=i}function LL(e,t,n,r,i,o,s){var a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}var l=Ov.addBorderNode(e,"_bt"),u=Ov.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(l,s),c.borderTop=l,e.setParent(u,s),c.borderBottom=u,Yn.forEach(a,function(f){LL(e,t,n,r,i,o,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,p=d.borderBottom?d.borderBottom:f,g=d.borderTop?r:2*r,x=h!==p?1:i-o[s]+1;e.setEdge(l,h,{weight:g,minlen:x,nestingEdge:!0}),e.setEdge(p,u,{weight:g,minlen:x,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,l,{weight:0,minlen:i+o[s]})}function Mee(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&Yn.forEach(o,function(s){n(s,i+1)}),t[r]=i}return Yn.forEach(e.children(),function(r){n(r,1)}),t}function Ree(e){return Yn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function jee(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Yn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var Ug=je,Lee=Rt,Dee=Oee;function Oee(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Ug.forEach(r,t),Ug.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)IP(e,"borderLeft","_bl",n,i,o),IP(e,"borderRight","_br",n,i,o)}}Ug.forEach(e.children(),t)}function IP(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],l=Lee.addDummyNode(e,"border",s,n);i[t][o]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var In=je,Fee={adjust:zee,undo:Vee};function zee(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&DL(e)}function Vee(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&qee(e),(t==="lr"||t==="rl")&&($ee(e),DL(e))}function DL(e){In.forEach(e.nodes(),function(t){MP(e.node(t))}),In.forEach(e.edges(),function(t){MP(e.edge(t))})}function MP(e){var t=e.width;e.width=e.height,e.height=t}function qee(e){In.forEach(e.nodes(),function(t){Wg(e.node(t))}),In.forEach(e.edges(),function(t){var n=e.edge(t);In.forEach(n.points,Wg),In.has(n,"y")&&Wg(n)})}function Wg(e){e.y=-e.y}function $ee(e){In.forEach(e.nodes(),function(t){Gg(e.node(t))}),In.forEach(e.edges(),function(t){var n=e.edge(t);In.forEach(n.points,Gg),In.has(n,"x")&&Gg(n)})}function Gg(e){var t=e.x;e.x=e.y,e.y=t}var $n=je,Bee=Hee;function Hee(e){var t={},n=$n.filter(e.nodes(),function(a){return!e.children(a).length}),r=$n.max($n.map(n,function(a){return e.node(a).rank})),i=$n.map($n.range(r+1),function(){return[]});function o(a){if(!$n.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),$n.forEach(e.successors(a),o)}}var s=$n.sortBy(n,function(a){return e.node(a).rank});return $n.forEach(s,o),i}var pr=je,Uee=Wee;function Wee(e,t){for(var n=0,r=1;r<t.length;++r)n+=Gee(e,t[r-1],t[r]);return n}function Gee(e,t,n){for(var r=pr.zipObject(n,pr.map(n,function(u,c){return c})),i=pr.flatten(pr.map(t,function(u){return pr.sortBy(pr.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=pr.map(new Array(s),function(){return 0}),l=0;return pr.forEach(i.forEach(function(u){var c=u.pos+o;a[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*f})),l}var RP=je,Kee=Yee;function Yee(e,t){return RP.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=RP.reduce(r,function(o,s){var a=e.edge(s),l=e.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var zt=je,Xee=Qee;function Qee(e,t){var n={};zt.forEach(e,function(i,o){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};zt.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),zt.forEach(t.edges(),function(i){var o=n[i.v],s=n[i.w];!zt.isUndefined(o)&&!zt.isUndefined(s)&&(s.indegree++,o.out.push(n[i.w]))});var r=zt.filter(n,function(i){return!i.indegree});return Zee(r)}function Zee(e){var t=[];function n(o){return function(s){s.merged||(zt.isUndefined(s.barycenter)||zt.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&Jee(o,s)}}function r(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),zt.forEach(i.in.reverse(),n(i)),zt.forEach(i.out,r(i))}return zt.map(zt.filter(t,function(o){return!o.merged}),function(o){return zt.pick(o,["vs","i","barycenter","weight"])})}function Jee(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var hs=je,ete=Rt,tte=nte;function nte(e,t){var n=ete.partition(e,function(c){return hs.has(c,"barycenter")}),r=n.lhs,i=hs.sortBy(n.rhs,function(c){return-c.i}),o=[],s=0,a=0,l=0;r.sort(rte(!!t)),l=jP(o,i,l),hs.forEach(r,function(c){l+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,l=jP(o,i,l)});var u={vs:hs.flatten(o,!0)};return a&&(u.barycenter=s/a,u.weight=a),u}function jP(e,t,n){for(var r;t.length&&(r=hs.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function rte(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var br=je,ite=Kee,ote=Xee,ste=tte,ate=OL;function OL(e,t,n,r){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(i=br.filter(i,function(p){return p!==s&&p!==a}));var u=ite(e,i);br.forEach(u,function(p){if(e.children(p.v).length){var g=OL(e,p.v,n,r);l[p.v]=g,br.has(g,"barycenter")&&ute(p,g)}});var c=ote(u,n);lte(c,l);var f=ste(c,r);if(s&&(f.vs=br.flatten([s,f.vs,a],!0),e.predecessors(s).length)){var d=e.node(e.predecessors(s)[0]),h=e.node(e.predecessors(a)[0]);br.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function lte(e,t){br.forEach(e,function(n){n.vs=br.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function ute(e,t){br.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var ps=je,cte=En.Graph,fte=dte;function dte(e,t,n){var r=hte(e),i=new cte({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return ps.forEach(e.nodes(),function(o){var s=e.node(o),a=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),ps.forEach(e[n](o),function(l){var u=l.v===o?l.w:l.v,c=i.edge(u,o),f=ps.isUndefined(c)?0:c.weight;i.setEdge(u,o,{weight:e.edge(l).weight+f})}),ps.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function hte(e){for(var t;e.hasNode(t=ps.uniqueId("_root")););return t}var pte=je,mte=gte;function gte(e,t,n){var r={},i;pte.forEach(n,function(o){for(var s=e.parent(o),a,l;s;){if(a=e.parent(s),a?(l=r[a],r[a]=s):(l=i,i=s),l&&l!==s){t.setEdge(l,s);return}s=a}})}var Lr=je,yte=Bee,vte=Uee,xte=ate,wte=fte,bte=mte,_te=En.Graph,LP=Rt,Ste=Ete;function Ete(e){var t=LP.maxRank(e),n=DP(e,Lr.range(1,t+1),"inEdges"),r=DP(e,Lr.range(t-1,-1,-1),"outEdges"),i=yte(e);OP(e,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,l=0;l<4;++a,++l){kte(a%2?n:r,a%4>=2),i=LP.buildLayerMatrix(e);var u=vte(e,i);u<o&&(l=0,s=Lr.cloneDeep(i),o=u)}OP(e,s)}function DP(e,t,n){return Lr.map(t,function(r){return wte(e,r,n)})}function kte(e,t){var n=new _te;Lr.forEach(e,function(r){var i=r.graph().root,o=xte(r,i,n,t);Lr.forEach(o.vs,function(s,a){r.node(s).order=a}),bte(r,n,o.vs)})}function OP(e,t){Lr.forEach(t,function(n){Lr.forEach(n,function(r,i){e.node(r).order=i})})}var fe=je,Cte=En.Graph,Tte=Rt,Pte={positionX:zte};function Nte(e,t){var n={};function r(i,o){var s=0,a=0,l=i.length,u=fe.last(o);return fe.forEach(o,function(c,f){var d=Ite(e,c),h=d?e.node(d).order:l;(d||c===u)&&(fe.forEach(o.slice(a,f+1),function(p){fe.forEach(e.predecessors(p),function(g){var x=e.node(g),m=x.order;(m<s||h<m)&&!(x.dummy&&e.node(p).dummy)&&FL(n,g,p)})}),a=f+1,s=h)}),o}return fe.reduce(t,r),n}function Ate(e,t){var n={};function r(o,s,a,l,u){var c;fe.forEach(fe.range(s,a),function(f){c=o[f],e.node(c).dummy&&fe.forEach(e.predecessors(c),function(d){var h=e.node(d);h.dummy&&(h.order<l||h.order>u)&&FL(n,d,c)})})}function i(o,s){var a=-1,l,u=0;return fe.forEach(s,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(l=e.node(d[0]).order,r(s,u,f,a,l),u=f,a=l)}r(s,u,s.length,l,o.length)}),s}return fe.reduce(t,i),n}function Ite(e,t){if(e.node(t).dummy)return fe.find(e.predecessors(t),function(n){return e.node(n).dummy})}function FL(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function Mte(e,t,n){if(t>n){var r=t;t=n,n=r}return fe.has(e[t],n)}function Rte(e,t,n,r){var i={},o={},s={};return fe.forEach(t,function(a){fe.forEach(a,function(l,u){i[l]=l,o[l]=l,s[l]=u})}),fe.forEach(t,function(a){var l=-1;fe.forEach(a,function(u){var c=r(u);if(c.length){c=fe.sortBy(c,function(g){return s[g]});for(var f=(c.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var p=c[d];o[u]===u&&l<s[p]&&!Mte(n,u,p)&&(o[p]=u,o[u]=i[u]=i[p],l=s[p])}}})}),{root:i,align:o}}function jte(e,t,n,r,i){var o={},s=Lte(e,t,n,i),a=i?"borderLeft":"borderRight";function l(f,d){for(var h=s.nodes(),p=h.pop(),g={};p;)g[p]?f(p):(g[p]=!0,h.push(p),h=h.concat(d(p))),p=h.pop()}function u(f){o[f]=s.inEdges(f).reduce(function(d,h){return Math.max(d,o[h.v]+s.edge(h))},0)}function c(f){var d=s.outEdges(f).reduce(function(p,g){return Math.min(p,o[g.w]-s.edge(g))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==a&&(o[f]=Math.max(o[f],d))}return l(u,s.predecessors.bind(s)),l(c,s.successors.bind(s)),fe.forEach(r,function(f){o[f]=o[n[f]]}),o}function Lte(e,t,n,r){var i=new Cte,o=e.graph(),s=Vte(o.nodesep,o.edgesep,r);return fe.forEach(t,function(a){var l;fe.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],d=i.edge(f,c);i.setEdge(f,c,Math.max(s(e,u,l),d||0))}l=u})}),i}function Dte(e,t){return fe.minBy(fe.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return fe.forIn(n,function(o,s){var a=qte(e,s)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i})}function Ote(e,t){var n=fe.values(t),r=fe.min(n),i=fe.max(n);fe.forEach(["u","d"],function(o){fe.forEach(["l","r"],function(s){var a=o+s,l=e[a],u;if(l!==t){var c=fe.values(l);u=s==="l"?r-fe.min(c):i-fe.max(c),u&&(e[a]=fe.mapValues(l,function(f){return f+u}))}})})}function Fte(e,t){return fe.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=fe.sortBy(fe.map(e,r));return(i[1]+i[2])/2})}function zte(e){var t=Tte.buildLayerMatrix(e),n=fe.merge(Nte(e,t),Ate(e,t)),r={},i;fe.forEach(["u","d"],function(s){i=s==="u"?t:fe.values(t).reverse(),fe.forEach(["l","r"],function(a){a==="r"&&(i=fe.map(i,function(f){return fe.values(f).reverse()}));var l=(s==="u"?e.predecessors:e.successors).bind(e),u=Rte(e,i,n,l),c=jte(e,i,u.root,u.align,a==="r");a==="r"&&(c=fe.mapValues(c,function(f){return-f})),r[s+a]=c})});var o=Dte(e,r);return Ote(r,o),Fte(r,e.graph().align)}function Vte(e,t,n){return function(r,i,o){var s=r.node(i),a=r.node(o),l=0,u;if(l+=s.width/2,fe.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(s.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,fe.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function qte(e,t){return e.node(t).width}var ms=je,zL=Rt,$te=Pte.positionX,Bte=Hte;function Hte(e){e=zL.asNonCompoundGraph(e),Ute(e),ms.forEach($te(e),function(t,n){e.node(n).x=t})}function Ute(e){var t=zL.buildLayerMatrix(e),n=e.graph().ranksep,r=0;ms.forEach(t,function(i){var o=ms.max(ms.map(i,function(s){return e.node(s).height}));ms.forEach(i,function(s){e.node(s).y=r+o/2}),r+=o+n})}var me=je,FP=LJ,zP=ZJ,Wte=_ee,Gte=Rt.normalizeRanks,Kte=Cee,Yte=Rt.removeEmptyRanks,VP=Aee,Xte=Dee,qP=Fee,Qte=Ste,Zte=Bte,Vr=Rt,Jte=En.Graph,ene=tne;function tne(e,t){var n=t&&t.debugTiming?Vr.time:Vr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return dne(e)});n("  runLayout",function(){nne(r,n)}),n("  updateInputGraph",function(){rne(e,r)})})}function nne(e,t){t("    makeSpaceForEdgeLabels",function(){hne(e)}),t("    removeSelfEdges",function(){_ne(e)}),t("    acyclic",function(){FP.run(e)}),t("    nestingGraph.run",function(){VP.run(e)}),t("    rank",function(){Wte(Vr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){pne(e)}),t("    removeEmptyRanks",function(){Yte(e)}),t("    nestingGraph.cleanup",function(){VP.cleanup(e)}),t("    normalizeRanks",function(){Gte(e)}),t("    assignRankMinMax",function(){mne(e)}),t("    removeEdgeLabelProxies",function(){gne(e)}),t("    normalize.run",function(){zP.run(e)}),t("    parentDummyChains",function(){Kte(e)}),t("    addBorderSegments",function(){Xte(e)}),t("    order",function(){Qte(e)}),t("    insertSelfEdges",function(){Sne(e)}),t("    adjustCoordinateSystem",function(){qP.adjust(e)}),t("    position",function(){Zte(e)}),t("    positionSelfEdges",function(){Ene(e)}),t("    removeBorderNodes",function(){bne(e)}),t("    normalize.undo",function(){zP.undo(e)}),t("    fixupEdgeLabelCoords",function(){xne(e)}),t("    undoCoordinateSystem",function(){qP.undo(e)}),t("    translateGraph",function(){yne(e)}),t("    assignNodeIntersects",function(){vne(e)}),t("    reversePoints",function(){wne(e)}),t("    acyclic.undo",function(){FP.undo(e)})}function rne(e,t){me.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),me.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,me.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var ine=["nodesep","edgesep","ranksep","marginx","marginy"],one={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},sne=["acyclicer","ranker","rankdir","align"],ane=["width","height"],lne={width:0,height:0},une=["minlen","weight","width","height","labeloffset"],cne={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},fne=["labelpos"];function dne(e){var t=new Jte({multigraph:!0,compound:!0}),n=Yg(e.graph());return t.setGraph(me.merge({},one,Kg(n,ine),me.pick(n,sne))),me.forEach(e.nodes(),function(r){var i=Yg(e.node(r));t.setNode(r,me.defaults(Kg(i,ane),lne)),t.setParent(r,e.parent(r))}),me.forEach(e.edges(),function(r){var i=Yg(e.edge(r));t.setEdge(r,me.merge({},cne,Kg(i,une),me.pick(i,fne)))}),t}function hne(e){var t=e.graph();t.ranksep/=2,me.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function pne(e){me.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};Vr.addDummyNode(e,"edge-proxy",o,"_ep")}})}function mne(e){var t=0;me.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=me.max(t,r.maxRank))}),e.graph().maxRank=t}function gne(e){me.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function yne(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,a=o.marginy||0;function l(u){var c=u.x,f=u.y,d=u.width,h=u.height;t=Math.min(t,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-h/2),i=Math.max(i,f+h/2)}me.forEach(e.nodes(),function(u){l(e.node(u))}),me.forEach(e.edges(),function(u){var c=e.edge(u);me.has(c,"x")&&l(c)}),t-=s,r-=a,me.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),me.forEach(e.edges(),function(u){var c=e.edge(u);me.forEach(c.points,function(f){f.x-=t,f.y-=r}),me.has(c,"x")&&(c.x-=t),me.has(c,"y")&&(c.y-=r)}),o.width=n-t+s,o.height=i-r+a}function vne(e){me.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(Vr.intersectRect(r,o)),n.points.push(Vr.intersectRect(i,s))})}function xne(e){me.forEach(e.edges(),function(t){var n=e.edge(t);if(me.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function wne(e){me.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function bne(e){me.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(me.last(n.borderLeft)),s=e.node(me.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),me.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function _ne(e){me.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Sne(e){var t=Vr.buildLayerMatrix(e);me.forEach(t,function(n){var r=0;me.forEach(n,function(i,o){var s=e.node(i);s.order=o+r,me.forEach(s.selfEdges,function(a){Vr.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++r,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function Ene(e){me.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function Kg(e,t){return me.mapValues(me.pick(e,t),Number)}function Yg(e){var t={};return me.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var _l=je,kne=Rt,Cne=En.Graph,Tne={debugOrdering:Pne};function Pne(e){var t=kne.buildLayerMatrix(e),n=new Cne({compound:!0,multigraph:!0}).setGraph({});return _l.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),_l.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),_l.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),_l.reduce(r,function(s,a){return n.setEdge(s,a,{style:"invis"}),a})}),n}var Nne="0.8.5",Ane={graphlib:En,layout:ene,debug:Tne,util:{time:Rt.time,notime:Rt.notime},version:Nne};const $P=pa(Ane),Ine={pipeline:{direction:"LR",nodeSpacing:40,rankSpacing:100},tree:{direction:"TB",nodeSpacing:50,rankSpacing:80},cluster:{direction:"TB",nodeSpacing:60,rankSpacing:100},freeform:{direction:"TB",nodeSpacing:50,rankSpacing:80}};function Mne(e,t){return{...Ine[e],...t}}function Rne(){const{getNodes:e,getEdges:t,setNodes:n,fitView:r}=pc(),i=P.useCallback((a,l)=>{const u=a.some(f=>f.type==="router");return l.length===a.length-1&&!u?"pipeline":u?"tree":"freeform"},[]),o=P.useCallback((a={})=>{const l=e(),u=t();if(l.length===0)return;const c=i(l,u),{direction:f,nodeSpacing:d,rankSpacing:h}=Mne(c,a),p=new $P.graphlib.Graph;p.setGraph({rankdir:f,nodesep:d,ranksep:h}),p.setDefaultEdgeLabel(()=>({})),l.forEach(g=>p.setNode(g.id,{width:180,height:100})),u.forEach(g=>p.setEdge(g.source,g.target)),$P.layout(p),n(l.map(g=>{const x=p.node(g.id);return{...g,position:{x:x.x-90,y:x.y-50}}})),setTimeout(()=>r({padding:.2}),50)},[e,t,n,r,i]),s=P.useCallback(()=>r({padding:.2,duration:300}),[r]);return{applyLayout:o,fitToView:s,detectMode:i}}function jne(e,t){const[n,r,i]=n5([]),[o,s,a]=r5([]),{activeAgent:l,iteration:u,flowPhase:c,thoughts:f={}}=t;return P.useEffect(()=>{if(!e)return;const d=Object.keys(e.agents),h=new Set(d.flatMap(v=>e.agents[v].sub_agents||[])),p=d.filter(v=>!h.has(v)),g=[];let x="START";for(;g.length<p.length;){const v=e.workflow.edges.find(y=>y.from===x&&y.to!=="END");if(!v)break;p.includes(v.to)&&g.push(v.to),x=v.to}p.forEach(v=>{g.includes(v)||g.push(v)});const m=[{id:"START",position:{x:50,y:50},data:{label:" START"},type:"input",style:{background:"#1a472a",border:"2px solid #4ade80",borderRadius:8,padding:10,color:"#fff"}},{id:"END",position:{x:50,y:150+g.length*150},data:{label:" END"},type:"output",style:{background:"#4a1a1a",border:"2px solid #f87171",borderRadius:8,padding:10,color:"#fff"}}];g.forEach((v,y)=>{var T,j;const b=e.agents[v],E={x:50,y:150+y*150},_=l===v||l&&((T=b.sub_agents)==null?void 0:T.includes(l)),k=l&&((j=b.sub_agents)!=null&&j.includes(l))?l:void 0;b.type==="sequential"?m.push({id:v,type:"sequential",position:E,data:{label:v,subAgents:b.sub_agents,activeSubAgent:k,isActive:_}}):b.type==="loop"?m.push({id:v,type:"loop",position:E,data:{label:v,subAgents:b.sub_agents,maxIterations:b.max_iterations||3,currentIteration:u,activeSubAgent:k,isActive:_}}):b.type==="parallel"?m.push({id:v,type:"parallel",position:E,data:{label:v,subAgents:b.sub_agents,activeSubAgent:k,isActive:_}}):b.type==="router"?m.push({id:v,type:"router",position:E,data:{label:v,routes:b.routes||[],isActive:l===v}}):m.push({id:v,type:"llm",position:E,data:{label:v,model:b.model,tools:b.tools||[],isActive:l===v,thought:f[v]}})}),r(m)},[e,r,l,u,f]),P.useEffect(()=>{e&&s(e.workflow.edges.map((d,h)=>{const p=l&&(d.from===l||d.to===l)||c==="input"&&d.from==="START"||c==="output"&&d.to==="END";return{id:`e${h}`,source:d.from,target:d.to,type:"animated",data:{animated:p},style:{stroke:p?"#4ade80":"#e94560",strokeWidth:p?3:2}}}))},[e,c,l,s]),{nodes:n,edges:o,setNodes:r,setEdges:s,onNodesChange:i,onEdgesChange:a}}function Lne(){const{currentProject:e,addAgent:t,removeAgent:n,addEdge:r,removeEdge:i,selectNode:o}=Mo(),s=P.useCallback((l="llm")=>{if(!e)return;const u=Object.keys(e.agents).length,f=`${{sequential:"seq",loop:"loop",parallel:"par",router:"router"}[l]||"agent"}_${u+1}`;if(["sequential","loop","parallel"].includes(l)){const h=`${f}_agent_1`,p=`${f}_agent_2`,g=l==="loop";t(h,{type:"llm",model:"gemini-2.0-flash",instruction:g?"Process and refine.":"Agent 1.",tools:[],sub_agents:[],position:{x:0,y:0}}),t(p,{type:"llm",model:"gemini-2.0-flash",instruction:g?"Review. Call exit_loop when done.":"Agent 2.",tools:g?["exit_loop"]:[],sub_agents:[],position:{x:0,y:0}}),t(f,{type:l,instruction:"",tools:[],sub_agents:[h,p],position:{x:50,y:150+u*180},max_iterations:g?3:void 0})}else l==="router"?t(f,{type:"router",model:"gemini-2.0-flash",instruction:"Route based on intent.",tools:[],sub_agents:[],position:{x:50,y:150+u*120},routes:[{condition:"default",target:"END"}]}):t(f,{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful assistant.",tools:[],sub_agents:[],position:{x:50,y:150+u*120}});const d=e.workflow.edges.find(h=>h.to==="END");d?(i(d.from,"END"),r(d.from,f)):r("START",f),r(f,"END"),o(f)},[e,t,r,i,o]),a=P.useCallback(l=>{var f,d;if(!e)return null;const u=e.agents[l];if(!u)return null;const c=`${l}_copy`;return t(c,{...u,position:{x:(((f=u.position)==null?void 0:f.x)||50)+50,y:(((d=u.position)==null?void 0:d.y)||50)+50}}),c},[e,t]);return{createAgent:s,duplicateAgent:a,removeAgent:n}}function Dne(){var de,ye,tt,pt;const{currentProject:e,openProject:t,closeProject:n,saveProject:r,selectNode:i,selectedNodeId:o,updateAgent:s,addEdge:a,removeEdge:l,addToolToAgent:u,removeToolFromAgent:c,addSubAgentToContainer:f,selectedToolId:d,selectTool:h,updateToolConfig:p}=Mo(),[g,x]=P.useState(!0),[m,v]=P.useState("idle"),[y,b]=P.useState(null),[E,_]=P.useState(0),[k,T]=P.useState({}),[j,O]=P.useState(null),[A,D]=P.useState(null),[z,I]=P.useState(!1),[L,F]=P.useState(null),[M,C]=P.useState(!1),{nodes:R,edges:S,onNodesChange:V,onEdgesChange:q}=jne(e,{activeAgent:y,iteration:E,flowPhase:m,thoughts:k}),{applyLayout:N,fitToView:B}=Rne(),{createAgent:X,duplicateAgent:Y,removeAgent:Q}=Lne(),W=P.useCallback((K,oe)=>{T(Le=>oe?{...Le,[K]:oe}:Object.fromEntries(Object.entries(Le).filter(([Xe])=>Xe!==K)))},[]),J=P.useRef(null),ae=P.useCallback(()=>{J.current&&clearTimeout(J.current),J.current=setTimeout(()=>r(),500)},[r]),se=P.useCallback((K,oe)=>{s(K,oe),F(null),ae()},[s,ae]),ie=P.useCallback((K,oe)=>{p(K,oe),F(null),ae()},[p,ae]);jX({selectedNodeId:o,selectedToolId:d,onDeleteNode:Q,onDeleteTool:c,onDuplicateNode:Y,onSelectNode:i,onSelectTool:h,onAutoLayout:N,onFitView:B});const ne=P.useCallback(async()=>{if(e)try{O(await Jr.projects.compile(e.id))}catch(K){alert("Compile failed: "+K.message)}},[e]),ge=P.useCallback(async()=>{if(!e)return;I(!0),D({success:!1,output:"",path:null});const K=new EventSource(`/api/projects/${e.id}/build-stream`);let oe="";K.addEventListener("status",Le=>{oe+=Le.data+`
`,D({success:!1,output:oe,path:null})}),K.addEventListener("output",Le=>{oe+=Le.data+`
`,D({success:!1,output:oe,path:null})}),K.addEventListener("done",Le=>{D({success:!0,output:oe,path:Le.data}),F(Le.data),I(!1),K.close()}),K.addEventListener("error",Le=>{oe+=`
Error: `+(Le.data||"Build failed"),D({success:!1,output:oe,path:null}),I(!1),K.close()}),K.onerror=()=>{I(!1),K.close()}},[e]),te=(K,oe)=>{K.dataTransfer.setData("application/reactflow",oe),K.dataTransfer.effectAllowed="move"},he=P.useCallback(K=>{K.preventDefault(),K.dataTransfer.dropEffect=K.dataTransfer.types.includes("text/plain")?"copy":"move"},[]),le=P.useCallback(K=>{K.preventDefault();const oe=K.dataTransfer.getData("text/plain");if(oe.startsWith("tool:")&&o&&(e!=null&&e.agents[o])){u(o,oe.slice(5));return}const Le=K.dataTransfer.getData("application/reactflow");Le&&X(Le)},[X,o,e,u]),Ye=P.useCallback(K=>K.source&&K.target&&a(K.source,K.target),[a]),$e=P.useCallback(K=>K.forEach(oe=>l(oe.source,oe.target)),[l]),wt=P.useCallback(K=>K.forEach(oe=>oe.id!=="START"&&oe.id!=="END"&&Q(oe.id)),[Q]),bt=P.useCallback((K,oe)=>l(oe.source,oe.target),[l]),et=P.useCallback((K,oe)=>i(oe.id!=="START"&&oe.id!=="END"?oe.id:null),[i]),Ne=P.useCallback(()=>i(null),[i]),Kt=P.useCallback(K=>{var ln;if(!o)return;u(o,K);const oe=((ln=e==null?void 0:e.agents[o])==null?void 0:ln.tools)||[],Xe=K==="function"||K==="mcp"?`${o}_${K}_${oe.filter(Lt=>Lt.startsWith(K)).length+1}`:`${o}_${K}`;setTimeout(()=>h(Xe),0)},[o,e,u,h]);if(!e)return null;const _t=o?e.agents[o]:null,$=Object.keys(e.agents).length>0,G=o?((de=e.agents[o])==null?void 0:de.tools)||[]:[],re=d&&((tt=(ye=e.tool_configs)==null?void 0:ye[d])==null?void 0:tt.type)==="function"?e.tool_configs[d]:null;return w.jsxs("div",{className:"flex flex-col h-full",children:[w.jsx(b9,{onExportCode:()=>C(!0),onNewProject:async()=>{const K=prompt("Project name:");K&&t((await Jr.projects.create(K)).id)}}),w.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[w.jsxs("div",{className:"w-48 bg-studio-panel border-r border-gray-700 p-4 flex flex-col overflow-y-auto",children:[w.jsx(uY,{onDragStart:te,onCreate:X}),w.jsx("div",{className:"my-4"}),w.jsx(cY,{selectedNodeId:o,agentTools:G,onAdd:Kt,onRemove:K=>o&&c(o,K)}),w.jsxs("div",{className:"mt-auto space-y-2 pt-4",children:[w.jsx("button",{onClick:ne,className:"w-full px-3 py-2 bg-blue-700 hover:bg-blue-600 rounded text-sm",children:" View Code"}),w.jsx("button",{onClick:ge,disabled:z,className:`w-full px-3 py-2 rounded text-sm ${z?"bg-gray-600":L?"bg-green-700 hover:bg-green-600":"bg-orange-600 hover:bg-orange-500 animate-pulse"}`,children:z?" Building...":L?" Build":" Build Required"}),w.jsx("button",{onClick:()=>x(!g),className:"w-full px-3 py-2 bg-gray-700 rounded text-sm",children:g?"Hide Console":"Show Console"}),w.jsx("button",{onClick:n,className:"w-full px-3 py-2 bg-gray-700 rounded text-sm",children:"Back"})]})]}),w.jsx("div",{className:"flex-1",children:w.jsxs(t5,{nodes:R,edges:S,nodeTypes:oY,edgeTypes:aY,onNodesChange:V,onEdgesChange:q,onEdgesDelete:$e,onNodesDelete:wt,onEdgeDoubleClick:bt,onConnect:Ye,onNodeClick:et,onPaneClick:Ne,onDrop:le,onDragOver:he,deleteKeyCode:["Backspace","Delete"],defaultViewport:{x:0,y:0,zoom:1},minZoom:.1,maxZoom:2,children:[w.jsx(l5,{color:"#333",gap:20}),w.jsx(m5,{}),w.jsx(P5,{nodeColor:K=>{var oe;return(oe=K.data)!=null&&oe.isActive?"#4ade80":"#666"},maskColor:"rgba(0,0,0,0.8)",style:{background:"#1a1a2e"}})]})}),_t&&o&&w.jsx(fY,{nodeId:o,agent:_t,agents:e.agents,toolConfigs:e.tool_configs||{},onUpdate:se,onAddSubAgent:()=>f(o),onClose:()=>i(null),onSelectTool:h,onRemoveTool:K=>c(o,K)}),d&&e&&w.jsx(vY,{toolId:d,config:((pt=e.tool_configs)==null?void 0:pt[d])||null,onUpdate:K=>ie(d,K),onClose:()=>h(null),onOpenCodeEditor:()=>C(!0)})]}),g&&$&&L&&w.jsx("div",{className:"h-64",children:w.jsx(x9,{onFlowPhase:v,onActiveAgent:b,onIteration:_,onThought:W,binaryPath:L})}),g&&$&&!L&&w.jsx("div",{className:"h-32 bg-studio-panel border-t border-gray-700 flex items-center justify-center text-gray-500",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{children:"Build the project first to test it"}),w.jsx("button",{onClick:ge,className:"mt-2 px-4 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",children:"Build Project"})]})}),g&&!$&&w.jsx("div",{className:"h-32 bg-studio-panel border-t border-gray-700 flex items-center justify-center text-gray-500",children:'Drag "LLM Agent" onto the canvas to get started'}),j&&w.jsx(IX,{code:j,onClose:()=>O(null)}),A&&w.jsx(MX,{building:z,success:A.success,output:A.output,path:A.path,onClose:()=>D(null)}),M&&re&&w.jsx(RX,{config:re,onUpdate:K=>ie(d,K),onClose:()=>C(!1)})]})}function One(){const{currentProject:e,fetchProjects:t}=Mo();return P.useEffect(()=>{t()},[t]),w.jsxs("div",{className:"h-screen flex flex-col bg-studio-bg",children:[w.jsxs("header",{className:"h-12 bg-studio-panel border-b border-gray-700 flex items-center px-4",children:[w.jsxs("h1",{className:"text-lg font-bold text-white flex items-center gap-2",children:[w.jsx("span",{className:"text-2xl",children:""})," ADK Studio"]}),e&&w.jsxs("span",{className:"ml-4 text-gray-400",children:["/ ",e.name]})]}),w.jsx("main",{className:"flex-1 overflow-hidden",children:e?w.jsx(Dne,{}):w.jsx(MF,{})})]})}Xg.createRoot(document.getElementById("root")).render(w.jsx(Xn.StrictMode,{children:w.jsx(One,{})}));
